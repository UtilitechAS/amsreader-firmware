<Qucs Schematic 0.0.20>
<Properties>
  <View=-20,-224,1566,535,0.8722,0,0>
  <Grid=10,10,1>
  <DataSet=current_limit.qucs-s.dat>
  <DataDisplay=current_limit.qucs-s.dpl>
  <OpenDisplay=1>
  <Script=current_limit.qucs-s.m>
  <RunScript=0>
  <showFrame=0>
  <FrameText0=Title>
  <FrameText1=Drawn By:>
  <FrameText2=Date:>
  <FrameText3=Revision:>
</Properties>
<Symbol>
</Symbol>
<Components>
  <_BJT BC337AP_2 1 280 210 -96 -26 1 2 "npn" 0 "3.94e-14" 0 "1" 0 "0.974" 0 "0.8" 0 "0.1" 0 "109.4" 0 "14.25" 0 "7.4e-15" 0 "1.3" 0 "3.16e-13" 0 "1.2" 0 "175" 0 "20.5" 0 "0" 0 "0" 0 "0.0539" 0 "0.1259" 0 "1.1" 0 "6.3e-11" 0 "0.75" 0 "0.33" 0 "1.58e-11" 0 "0.505" 0 "0.39" 0 "1" 0 "0" 0 "0.75" 0 "0" 0 "0.5" 0 "7.5e-10" 0 "0" 0 "0" 0 "0" 0 "8.5e-08" 0 "26.85" 0 "0" 0 "1" 0 "1" 0 "0" 0 "1" 0 "1" 0 "0" 0 "0" 0 "3" 0 "1.11" 0 "26.85" 0 "1" 0>
  <_BJT BC337AP_1 1 500 150 8 -26 0 0 "npn" 0 "3.94e-14" 0 "1" 0 "0.974" 0 "0.8" 0 "0.1" 0 "109.4" 0 "14.25" 0 "7.4e-15" 0 "1.3" 0 "3.16e-13" 0 "1.2" 0 "175" 0 "20.5" 0 "0" 0 "0" 0 "0.0539" 0 "0.1259" 0 "1.1" 0 "6.3e-11" 0 "0.75" 0 "0.33" 0 "1.58e-11" 0 "0.505" 0 "0.39" 0 "1" 0 "0" 0 "0.75" 0 "0" 0 "0.5" 0 "7.5e-10" 0 "0" 0 "0" 0 "0" 0 "8.5e-08" 0 "26.85" 0 "0" 0 "1" 0 "1" 0 "0" 0 "1" 0 "1" 0 "0" 0 "0" 0 "3" 0 "1.11" 0 "26.85" 0 "1" 0>
  <GND * 1 500 440 0 0 0 0>
  <GND * 1 280 440 0 0 0 0>
  <IProbe Pr1 1 500 270 -41 -26 0 3>
  <IProbe Pr2 1 280 330 -41 -26 0 3>
  <Lib D1 1 500 -90 -34 6 0 3 "Z-Diodes" 0 "1N759" 0>
  <Vdc V1 1 80 -50 18 -26 0 1 "34 V" 1>
  <GND * 1 80 20 0 0 0 0>
  <.DC DC1 1 30 360 0 38 0 0 "26.85" 0 "0.001" 0 "1 pA" 0 "1 uV" 0 "no" 0 "150" 0 "no" 0 "none" 0 "CroutLU" 0>
  <.SW SW2 0 650 230 0 61 0 0 "DC1" 1 "lin" 1 "V1" 1 "20V" 1 "40V" 1 "21" 1 "false" 0>
  <IProbe Pr3 1 230 -150 -26 16 0 0>
  <R R4 1 500 370 15 -26 0 1 "39" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <R R3 1 360 210 -26 15 0 0 "1" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <R R2 1 280 30 15 -26 0 1 "6k8" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <R R1 1 500 40 15 -26 0 1 "0" 1 "26.85" 0 "0.0" 0 "0.0" 0 "26.85" 0 "european" 0>
  <IProbe Pr4 1 370 150 -14 -55 1 2>
  <.SW SW3 0 910 300 0 61 0 0 "DC1" 1 "lin" 1 "R5" 1 "100" 1 "10k" 1 "300" 1 "false" 0>
  <.SW SW1 1 30 110 0 61 0 0 "DC1" 1 "lin" 1 "R4" 1 "30 Ohm" 1 "200 Ohm" 1 "35" 1 "false" 0>
  <VProbe Pr5 1 590 -100 -16 28 0 3>
</Components>
<Wires>
  <500 180 500 210 "" 0 0 0 "">
  <500 400 500 440 "" 0 0 0 "">
  <280 240 280 300 "" 0 0 0 "">
  <280 360 280 440 "" 0 0 0 "">
  <500 -60 500 -50 "" 0 0 0 "">
  <80 -20 80 20 "" 0 0 0 "">
  <80 -150 80 -80 "" 0 0 0 "">
  <80 -150 200 -150 "" 0 0 0 "">
  <500 -150 500 -130 "" 0 0 0 "">
  <260 -150 500 -150 "" 0 0 0 "">
  <390 210 500 210 "" 0 0 0 "">
  <310 210 330 210 "" 0 0 0 "">
  <280 150 280 180 "" 0 0 0 "">
  <280 -20 500 -20 "" 0 0 0 "">
  <280 -20 280 0 "" 0 0 0 "">
  <280 60 280 150 "" 0 0 0 "">
  <500 -20 500 10 "out" 530 -40 9 "">
  <500 70 500 120 "" 0 0 0 "">
  <280 150 340 150 "" 0 0 0 "">
  <400 150 470 150 "" 0 0 0 "">
  <500 210 500 240 "" 0 0 0 "">
  <500 300 500 340 "" 0 0 0 "">
  <570 -130 570 -110 "" 0 0 0 "">
  <500 -130 500 -120 "" 0 0 0 "">
  <500 -130 570 -130 "" 0 0 0 "">
  <570 -90 570 -50 "" 0 0 0 "">
  <500 -50 500 -20 "" 0 0 0 "">
  <500 -50 570 -50 "" 0 0 0 "">
  <500 -150 500 -150 "in" 530 -180 0 "">
</Wires>
<Diagrams>
  <Rect 760 37 693 187 3 #c0c0c0 1 00 1 30 20 200 1 20 5 36.7105 1 -1 0.5 1 315 0 225 "" "" "">
	<"ngspice/current_limit:v(in)" #0000ff 0 3 0 0 0>
	<"ngspice/current_limit:v(out)" #ff0000 0 3 0 0 0>
	<"ngspice/current_limit:v(pr5)" #ff00ff 0 3 0 0 0>
  </Rect>
</Diagrams>
<Paintings>
  <Text 820 140 12 #000000 0 "With the zener diode, the output is constantly 12V below the input voltage.\nAnd with the current limiting circuit, the load is always 20mA.\n\nhttps://en.wikipedia.org/wiki/Current_limiting#Single_power-supply_circuits\nhttps://electronics.stackexchange.com/questions/39465/current-limiters-using-transistors-and-diodes\n">
</Paintings>
