(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function l(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=l(i);fetch(i.href,o)}})();function ne(){}function jt(t,e){for(const l in e)t[l]=e[l];return t}function Hf(t){return t()}function Ar(){return Object.create(null)}function ze(t){t.forEach(Hf)}function uo(t){return typeof t=="function"}function ke(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ms;function Lc(t,e){return ms||(ms=document.createElement("a")),ms.href=e,t===ms.href}function Oc(t){return Object.keys(t).length===0}function ro(t,...e){if(t==null)return ne;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function xn(t){let e;return ro(t,l=>e=l)(),e}function Qt(t,e,l){t.$$.on_destroy.push(ro(e,l))}function ao(t,e,l,n){if(t){const i=jf(t,e,l,n);return t[0](i)}}function jf(t,e,l,n){return t[1]&&n?jt(l.ctx.slice(),t[1](n(e))):l.ctx}function fo(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(e.dirty.length,i.length);for(let m=0;m<a;m+=1)o[m]=e.dirty[m]|i[m];return o}return e.dirty|i}return e.dirty}function co(t,e,l,n,i,o){if(i){const a=jf(e,l,n,o);t.p(a,i)}}function mo(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function hs(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function bs(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const qc=["",!0,1,"true","contenteditable"];function s(t,e){t.appendChild(e)}function $(t,e,l){t.insertBefore(e,l||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function Ht(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function c(t){return document.createElement(t)}function He(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function C(t){return document.createTextNode(t)}function v(){return C(" ")}function Be(){return C("")}function z(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function $s(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function ei(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set?t[n]=e[n]:u(t,n,e[n])}function ae(t){return t===""?null:+t}function Uc(t){return Array.from(t.childNodes)}function B(t,e){e=""+e,t.data!==e&&(t.data=e)}function Hc(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function jc(t,e,l){~qc.indexOf(l)?Hc(t,e):B(t,e)}function Y(t,e){t.value=e??""}function Wf(t,e,l,n){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function Ne(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function lt(t){const e=t.querySelector(":checked");return e&&e.__value}let ps;function Wc(){if(ps===void 0){ps=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ps=!0}}return ps}function Gc(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=c("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Wc();let o;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=z(window,"message",a=>{a.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{o=z(n.contentWindow,"resize",e),e()}),s(t,n),()=>{(i||o&&n.contentWindow)&&o(),y(n)}}function Bc(t,e,{bubbles:l=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,l,n,e),i}function Er(t,e){return new t(e)}let bi;function di(t){bi=t}function gi(){if(!bi)throw new Error("Function called outside component initialization");return bi}function Yc(t){gi().$$.on_mount.push(t)}function zc(t){gi().$$.on_destroy.push(t)}function Vc(){const t=gi();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=Bc(e,l,{cancelable:n});return i.slice().forEach(a=>{a.call(t,o)}),!o.defaultPrevented}return!0}}function vi(t,e){return gi().$$.context.set(t,e),e}function Tl(t){return gi().$$.context.get(t)}const Qn=[],gs=[];let Xn=[];const Nr=[],Gf=Promise.resolve();let Qs=!1;function Bf(){Qs||(Qs=!0,Gf.then(Yf))}function Kc(){return Bf(),Gf}function Ve(t){Xn.push(t)}const Gs=new Set;let Vn=0;function Yf(){if(Vn!==0)return;const t=bi;do{try{for(;Vn<Qn.length;){const e=Qn[Vn];Vn++,di(e),Qc(e.$$)}}catch(e){throw Qn.length=0,Vn=0,e}for(di(null),Qn.length=0,Vn=0;gs.length;)gs.pop()();for(let e=0;e<Xn.length;e+=1){const l=Xn[e];Gs.has(l)||(Gs.add(l),l())}Xn.length=0}while(Qn.length);for(;Nr.length;)Nr.pop()();Qs=!1,Gs.clear(),di(t)}function Qc(t){if(t.fragment!==null){t.update(),ze(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ve)}}function Xc(t){const e=[],l=[];Xn.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Xn=e}const vs=new Set;let Ql;function Se(){Ql={r:0,c:[],p:Ql}}function Te(){Ql.r||ze(Ql.c),Ql=Ql.p}function D(t,e){t&&t.i&&(vs.delete(t),t.i(e))}function N(t,e,l,n){if(t&&t.o){if(vs.has(t))return;vs.add(t),Ql.c.push(()=>{vs.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function zf(t,e){const l={},n={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],m=e[o];if(m){for(const f in a)f in m||(n[f]=1);for(const f in m)i[f]||(l[f]=m[f],i[f]=1);t[o]=m}else for(const f in a)i[f]=1}for(const a in n)a in l||(l[a]=void 0);return l}function Ir(t){return typeof t=="object"&&t!==null?t:{}}function Z(t){t&&t.c()}function Q(t,e,l,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,l),n||Ve(()=>{const a=t.$$.on_mount.map(Hf).filter(uo);t.$$.on_destroy?t.$$.on_destroy.push(...a):ze(a),t.$$.on_mount=[]}),o.forEach(Ve)}function X(t,e){const l=t.$$;l.fragment!==null&&(Xc(l.after_update),ze(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Zc(t,e){t.$$.dirty[0]===-1&&(Qn.push(t),Bf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ye(t,e,l,n,i,o,a,m=[-1]){const f=bi;di(t);const r=t.$$={fragment:null,ctx:[],props:o,update:ne,not_equal:i,bound:Ar(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Ar(),dirty:m,skip_bound:!1,root:e.target||f.$$.root};a&&a(r.root);let p=!1;if(r.ctx=l?l(t,e.props||{},(_,h,...b)=>{const d=b.length?b[0]:h;return r.ctx&&i(r.ctx[_],r.ctx[_]=d)&&(!r.skip_bound&&r.bound[_]&&r.bound[_](d),p&&Zc(t,_)),h}):[],r.update(),p=!0,ze(r.before_update),r.fragment=n?n(r.ctx):!1,e.target){if(e.hydrate){const _=Uc(e.target);r.fragment&&r.fragment.l(_),_.forEach(y)}else r.fragment&&r.fragment.c();e.intro&&D(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),Yf()}di(f)}class $e{$destroy(){X(this,1),this.$destroy=ne}$on(e,l){if(!uo(l))return ne;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Oc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Rr=t=>typeof t>"u",Vf=t=>typeof t=="function",Kf=t=>typeof t=="number";function Jc(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qf(){let t=0;return()=>t++}function xc(){return Math.random().toString(36).substring(2)}const Pl=typeof window>"u";function Xf(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const Zf=(t,e)=>t?{}:{style:e},Xs=t=>({"aria-hidden":"true",...Zf(t,"display:none;")}),Kn=[];function Jf(t,e){return{subscribe:xe(t,e).subscribe}}function xe(t,e=ne){let l;const n=new Set;function i(m){if(ke(t,m)&&(t=m,l)){const f=!Kn.length;for(const r of n)r[1](),Kn.push(r,t);if(f){for(let r=0;r<Kn.length;r+=2)Kn[r][0](Kn[r+1]);Kn.length=0}}}function o(m){i(m(t))}function a(m,f=ne){const r=[m,f];return n.add(r),n.size===1&&(l=e(i)||ne),m(t),()=>{n.delete(r),n.size===0&&l&&(l(),l=null)}}return{set:i,update:o,subscribe:a}}function e1(t,e,l){const n=!Array.isArray(t),i=n?[t]:t,o=e.length<2;return Jf(l,a=>{let m=!1;const f=[];let r=0,p=ne;const _=()=>{if(r)return;p();const b=e(n?f[0]:f,a);o?a(b):p=uo(b)?b:ne},h=i.map((b,d)=>ro(b,g=>{f[d]=g,r&=~(1<<d),m&&_()},()=>{r|=1<<d}));return m=!0,_(),function(){ze(h),p(),m=!1}})}const ki=t=>`@@svnav-ctx__${t}`,Zs=ki("LOCATION"),ti=ki("ROUTER"),xf=ki("ROUTE"),t1=ki("ROUTE_PARAMS"),l1=ki("FOCUS_ELEM"),ec=/^:(.+)/,_i=(t,e,l)=>t.substr(e,l),Js=(t,e)=>_i(t,0,e.length)===e,n1=t=>t==="",i1=t=>ec.test(t),tc=t=>t[0]==="*",s1=t=>t.replace(/\*.*$/,""),lc=t=>t.replace(/(^\/+|\/+$)/g,"");function Zt(t,e=!1){const l=lc(t).split("/");return e?l.filter(Boolean):l}const Bs=(t,e)=>t+(e?`?${e}`:""),po=t=>`/${lc(t)}`;function wi(...t){const e=n=>Zt(n,!0).join("/"),l=t.map(e).join("/");return po(l)}const _o=1,Cs=2,Jl=3,o1=4,nc=5,u1=6,ic=7,r1=8,a1=9,sc=10,oc=11,f1={[_o]:"Link",[Cs]:"Route",[Jl]:"Router",[o1]:"useFocus",[nc]:"useLocation",[u1]:"useMatch",[ic]:"useNavigate",[r1]:"useParams",[a1]:"useResolvable",[sc]:"useResolve",[oc]:"navigate"},vo=t=>f1[t];function c1(t,e){let l;return t===Cs?l=e.path?`path="${e.path}"`:"default":t===_o?l=`to="${e.to}"`:t===Jl&&(l=`basepath="${e.basepath||""}"`),`<${vo(t)} ${l||""} />`}function m1(t,e,l,n){const i=l&&c1(n||t,l),o=i?`

Occurred in: ${i}`:"",a=vo(t),m=Vf(e)?e(a):e;return`<${a}> ${m}${o}`}const uc=t=>(...e)=>t(m1(...e)),rc=uc(t=>{throw new Error(t)}),ks=uc(console.warn),Fr=4,p1=3,_1=2,d1=1,v1=1;function h1(t,e){const l=t.default?0:Zt(t.fullPath).reduce((n,i)=>{let o=n;return o+=Fr,n1(i)?o+=v1:i1(i)?o+=_1:tc(i)?o-=Fr+d1:o+=p1,o},0);return{route:t,score:l,index:e}}function b1(t){return t.map(h1).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function ac(t,e){let l,n;const[i]=e.split("?"),o=Zt(i),a=o[0]==="",m=b1(t);for(let f=0,r=m.length;f<r;f++){const{route:p}=m[f];let _=!1;const h={},b=k=>({...p,params:h,uri:k});if(p.default){n=b(e);continue}const d=Zt(p.fullPath),g=Math.max(o.length,d.length);let w=0;for(;w<g;w++){const k=d[w],S=o[w];if(!Rr(k)&&tc(k)){const I=k==="*"?"*":k.slice(1);h[I]=o.slice(w).map(decodeURIComponent).join("/");break}if(Rr(S)){_=!0;break}const M=ec.exec(k);if(M&&!a){const I=decodeURIComponent(S);h[M[1]]=I}else if(k!==S){_=!0;break}}if(!_){l=b(wi(...o.slice(0,w)));break}}return l||n||null}function fc(t,e){return ac([t],e)}function g1(t,e){if(Js(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),o=Zt(l),a=Zt(i);if(o[0]==="")return Bs(i,n);if(!Js(o[0],".")){const r=a.concat(o).join("/");return Bs((i==="/"?"":"/")+r,n)}const m=a.concat(o),f=[];return m.forEach(r=>{r===".."?f.pop():r!=="."&&f.push(r)}),Bs(`/${f.join("/")}`,n)}function Lr(t,e){const{pathname:l,hash:n="",search:i="",state:o}=t,a=Zt(e,!0),m=Zt(l,!0);for(;a.length;)a[0]!==m[0]&&rc(Jl,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),a.shift(),m.shift();return{pathname:wi(...m),hash:n,search:i,state:o}}const Or=t=>t.length===1?"":t,ho=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,o=i?Or(_i(t,l)):"",a=i?_i(t,0,l):t,m=n?Or(_i(a,e)):"";return{pathname:(n?_i(a,0,e):a)||"/",search:m,hash:o}},k1=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function w1(t,e,l){return wi(l,g1(t,e))}function y1(t,e){const l=po(s1(t)),n=Zt(l,!0),i=Zt(e,!0).slice(0,n.length),o=fc({fullPath:l},wi(...i));return o&&o.uri}const Ys="POP",$1="PUSH",C1="REPLACE";function zs(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function S1(t){let e=[],l=zs(t),n=Ys;const i=(o=e)=>o.forEach(a=>a({location:l,action:n}));return{get location(){return l},listen(o){e.push(o);const a=()=>{l=zs(t),n=Ys,i([o])};i([o]);const m=Xf(t,"popstate",a);return()=>{m(),e=e.filter(f=>f!==o)}},navigate(o,a){const{state:m={},replace:f=!1}=a||{};if(n=f?C1:$1,Kf(o))a&&ks(oc,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Ys,t.history.go(o);else{const r={...m,_key:xc()};try{t.history[f?"replaceState":"pushState"](r,"",o)}catch{t.location[f?"replace":"assign"](o)}}l=zs(t),i()}}}function Vs(t,e){return{...ho(e),state:t}}function T1(t="/"){let e=0,l=[Vs(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,o){e++,l=l.slice(0,e),l.push(Vs(n,o))},replaceState(n,i,o){l[e]=Vs(n,o)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const P1=!!(!Pl&&window.document&&window.document.createElement),M1=!Pl&&window.location.origin==="null",cc=S1(P1&&!M1?window:T1()),{navigate:Zn}=cc;let cl=null,mc=!0;function D1(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],o=Number(i.dataset.svnavRouter);if(o===t)return!0;if(o===e)return!1}return!1}function A1(t){(!cl||t.level>cl.level||t.level===cl.level&&D1(t.routerId,cl.routerId))&&(cl=t)}function E1(){cl=null}function N1(){mc=!1}function qr(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=Xf(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function I1(t,e){return Number(t.dataset.svnavRouteEnd)===e}function R1(t){return/^H[1-6]$/i.test(t.tagName)}function Ur(t,e=document){return e.querySelector(t)}function F1(t){let l=Ur(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!I1(l,t);){if(R1(l))return l;const n=Ur("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function L1(t){Promise.resolve(xn(t.focusElement)).then(e=>{const l=e||F1(t.id);l||ks(Jl,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,Cs),!qr(l)&&qr(document.documentElement)})}const O1=(t,e,l)=>(n,i)=>Kc().then(()=>{if(!cl||mc){N1();return}if(n&&L1(cl.route),t.announcements&&i){const{path:o,fullPath:a,meta:m,params:f,uri:r}=cl.route,p=t.createAnnouncement({path:o,fullPath:a,meta:m,params:f,uri:r},xn(l));Promise.resolve(p).then(_=>{e.set(_)})}E1()}),q1="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function U1(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Zf(t[6],q1)],i={};for(let o=0;o<n.length;o+=1)i=jt(i,n[o]);return{c(){e=c("div"),l=C(t[0]),ei(e,i)},m(o,a){$(o,e,a),s(e,l)},p(o,a){a[0]&1&&jc(l,o[0],i.contenteditable)},d(o){o&&y(e)}}}function H1(t){let e,l,n,i,o,a=[Xs(t[6]),{"data-svnav-router":t[3]}],m={};for(let _=0;_<a.length;_+=1)m=jt(m,a[_]);const f=t[22].default,r=ao(f,t,t[21],null);let p=t[2]&&t[4]&&t[1].announcements&&U1(t);return{c(){e=c("div"),l=v(),r&&r.c(),n=v(),p&&p.c(),i=Be(),ei(e,m)},m(_,h){$(_,e,h),$(_,l,h),r&&r.m(_,h),$(_,n,h),p&&p.m(_,h),$(_,i,h),o=!0},p(_,h){r&&r.p&&(!o||h[0]&2097152)&&co(r,f,_,_[21],o?fo(f,_[21],h,null):mo(_[21]),null),_[2]&&_[4]&&_[1].announcements&&p.p(_,h)},i(_){o||(D(r,_),o=!0)},o(_){N(r,_),o=!1},d(_){_&&y(e),_&&y(l),r&&r.d(_),_&&y(n),p&&p.d(_),_&&y(i)}}}const j1=Qf(),Hr="/";function W1(t,e,l){let n,i,o,a,m,{$$slots:f={},$$scope:r}=e,{basepath:p=Hr}=e,{url:_=null}=e,{history:h=cc}=e,{primary:b=!0}=e,{a11y:d={}}=e,{disableInlineStyles:g=!1}=e;const w={createAnnouncement:le=>`Navigated to ${le.uri}`,announcements:!0,...d},k=p,S=po(p),M=Tl(Zs),I=Tl(ti),T=!M,A=j1(),R=b&&!(I&&!I.manageFocus),F=xe("");Qt(t,F,le=>l(0,m=le));const G=I?I.disableInlineStyles:g,L=xe([]);Qt(t,L,le=>l(20,a=le));const E=xe(null);Qt(t,E,le=>l(18,i=le));let O=!1;const j=T?0:I.level+1,q=T?xe((()=>Lr(Pl?ho(_):h.location,S))()):M;Qt(t,q,le=>l(17,n=le));const W=xe(n);Qt(t,W,le=>l(19,o=le));const H=O1(w,F,q),V=le=>pe=>pe.filter(Pe=>Pe.id!==le);function J(le){if(Pl){if(O)return;const pe=fc(le,n.pathname);if(pe)return O=!0,pe}else L.update(pe=>{const Pe=V(le.id)(pe);return Pe.push(le),Pe})}function ie(le){L.update(V(le))}return!T&&p!==Hr&&ks(Jl,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:p}),T&&(Yc(()=>h.listen(pe=>{const Pe=Lr(pe.location,S);W.set(n),q.set(Pe)})),vi(Zs,q)),vi(ti,{activeRoute:E,registerRoute:J,unregisterRoute:ie,manageFocus:R,level:j,id:A,history:T?h:I.history,basepath:T?S:I.basepath,disableInlineStyles:G}),t.$$set=le=>{"basepath"in le&&l(11,p=le.basepath),"url"in le&&l(12,_=le.url),"history"in le&&l(13,h=le.history),"primary"in le&&l(14,b=le.primary),"a11y"in le&&l(15,d=le.a11y),"disableInlineStyles"in le&&l(16,g=le.disableInlineStyles),"$$scope"in le&&l(21,r=le.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&p!==k&&ks(Jl,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const le=ac(a,n.pathname);E.set(le)}if(t.$$.dirty[0]&655360&&T){const le=!!n.hash,pe=!le&&R,Pe=!le||n.pathname!==o.pathname;H(pe,Pe)}t.$$.dirty[0]&262144&&R&&i&&i.primary&&A1({level:j,routerId:A,route:i})},[m,w,T,A,R,F,G,L,E,q,W,p,_,h,b,d,g,n,i,o,a,r,f]}class G1 extends $e{constructor(e){super(),ye(this,e,W1,H1,ke,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const pc=G1;function yi(t,e,l=ti,n=Jl){Tl(l)||rc(t,o=>`You cannot use ${o} outside of a ${vo(n)}.`,e)}const B1=t=>{const{subscribe:e}=Tl(t);return{subscribe:e}};function _c(){return yi(nc),B1(Zs)}function dc(){const{history:t}=Tl(ti);return t}function vc(){const t=Tl(xf);return t?e1(t,e=>e.base):xe("/")}function hc(){yi(sc);const t=vc(),{basepath:e}=Tl(ti);return n=>w1(n,xn(t),e)}function Y1(){yi(ic);const t=hc(),{navigate:e}=dc();return(n,i)=>{const o=Kf(n)?n:t(n);return e(o,i)}}const z1=t=>({params:t&16,location:t&8}),jr=t=>({params:Pl?xn(t[10]):t[4],location:t[3],navigate:t[11]});function Wr(t){let e,l;return e=new pc({props:{primary:t[1],$$slots:{default:[Q1]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&2&&(o.primary=n[1]),i&528409&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function V1(t){let e;const l=t[18].default,n=ao(l,t,t[19],jr);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&524312)&&co(n,l,i,i[19],e?fo(l,i[19],o,z1):mo(i[19]),jr)},i(i){e||(D(n,i),e=!0)},o(i){N(n,i),e=!1},d(i){n&&n.d(i)}}}function K1(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},Pl?xn(t[10]):t[4],t[12]];var o=t[0];function a(m){let f={};for(let r=0;r<i.length;r+=1)f=jt(f,i[r]);return{props:f}}return o&&(e=Er(o,a())),{c(){e&&Z(e.$$.fragment),l=Be()},m(m,f){e&&Q(e,m,f),$(m,l,f),n=!0},p(m,f){const r=f&7192?zf(i,[f&8&&{location:m[3]},f&2048&&{navigate:m[11]},f&1040&&Ir(Pl?xn(m[10]):m[4]),f&4096&&Ir(m[12])]):{};if(f&1&&o!==(o=m[0])){if(e){Se();const p=e;N(p.$$.fragment,1,0,()=>{X(p,1)}),Te()}o?(e=Er(o,a()),Z(e.$$.fragment),D(e.$$.fragment,1),Q(e,l.parentNode,l)):e=null}else o&&e.$set(r)},i(m){n||(e&&D(e.$$.fragment,m),n=!0)},o(m){e&&N(e.$$.fragment,m),n=!1},d(m){m&&y(l),e&&X(e,m)}}}function Q1(t){let e,l,n,i;const o=[K1,V1],a=[];function m(f,r){return f[0]!==null?0:1}return e=m(t),l=a[e]=o[e](t),{c(){l.c(),n=Be()},m(f,r){a[e].m(f,r),$(f,n,r),i=!0},p(f,r){let p=e;e=m(f),e===p?a[e].p(f,r):(Se(),N(a[p],1,1,()=>{a[p]=null}),Te(),l=a[e],l?l.p(f,r):(l=a[e]=o[e](f),l.c()),D(l,1),l.m(n.parentNode,n))},i(f){i||(D(l),i=!0)},o(f){N(l),i=!1},d(f){a[e].d(f),f&&y(n)}}}function X1(t){let e,l,n,i,o,a=[Xs(t[7]),{"data-svnav-route-start":t[5]}],m={};for(let _=0;_<a.length;_+=1)m=jt(m,a[_]);let f=t[2]&&Wr(t),r=[Xs(t[7]),{"data-svnav-route-end":t[5]}],p={};for(let _=0;_<r.length;_+=1)p=jt(p,r[_]);return{c(){e=c("div"),l=v(),f&&f.c(),n=v(),i=c("div"),ei(e,m),ei(i,p)},m(_,h){$(_,e,h),$(_,l,h),f&&f.m(_,h),$(_,n,h),$(_,i,h),o=!0},p(_,[h]){_[2]?f?(f.p(_,h),h&4&&D(f,1)):(f=Wr(_),f.c(),D(f,1),f.m(n.parentNode,n)):f&&(Se(),N(f,1,1,()=>{f=null}),Te())},i(_){o||(D(f),o=!0)},o(_){N(f),o=!1},d(_){_&&y(e),_&&y(l),f&&f.d(_),_&&y(n),_&&y(i)}}}const Z1=Qf();function J1(t,e,l){let n;const i=["path","component","meta","primary"];let o=bs(e,i),a,m,f,r,{$$slots:p={},$$scope:_}=e,{path:h=""}=e,{component:b=null}=e,{meta:d={}}=e,{primary:g=!0}=e;yi(Cs,e);const w=Z1(),{registerRoute:k,unregisterRoute:S,activeRoute:M,disableInlineStyles:I}=Tl(ti);Qt(t,M,O=>l(16,a=O));const T=vc();Qt(t,T,O=>l(17,f=O));const A=_c();Qt(t,A,O=>l(3,m=O));const R=xe(null);let F;const G=xe(),L=xe({});Qt(t,L,O=>l(4,r=O)),vi(xf,G),vi(t1,L),vi(l1,R);const E=Y1();return Pl||zc(()=>S(w)),t.$$set=O=>{l(24,e=jt(jt({},e),hs(O))),l(12,o=bs(e,i)),"path"in O&&l(13,h=O.path),"component"in O&&l(0,b=O.component),"meta"in O&&l(14,d=O.meta),"primary"in O&&l(1,g=O.primary),"$$scope"in O&&l(19,_=O.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const O=h==="",j=wi(f,h),U={id:w,path:h,meta:d,default:O,fullPath:O?"":j,base:O?f:y1(j,m.pathname),primary:g,focusElement:R};G.set(U),l(15,F=k(U))}if(t.$$.dirty&98304&&l(2,n=!!(F||a&&a.id===w)),t.$$.dirty&98308&&n){const{params:O}=F||a;L.set(O)}},e=hs(e),[b,g,n,m,r,w,M,I,T,A,L,E,o,h,d,F,a,f,p,_]}class x1 extends $e{constructor(e){super(),ye(this,e,J1,X1,ke,{path:13,component:0,meta:14,primary:1})}}const fl=x1;function em(t){let e,l,n,i;const o=t[13].default,a=ao(o,t,t[12],null);let m=[{href:t[0]},t[2],t[1]],f={};for(let r=0;r<m.length;r+=1)f=jt(f,m[r]);return{c(){e=c("a"),a&&a.c(),ei(e,f)},m(r,p){$(r,e,p),a&&a.m(e,null),l=!0,n||(i=z(e,"click",t[4]),n=!0)},p(r,[p]){a&&a.p&&(!l||p&4096)&&co(a,o,r,r[12],l?fo(o,r[12],p,null):mo(r[12]),null),ei(e,f=zf(m,[(!l||p&1)&&{href:r[0]},p&4&&r[2],p&2&&r[1]]))},i(r){l||(D(a,r),l=!0)},o(r){N(a,r),l=!1},d(r){r&&y(e),a&&a.d(r),n=!1,i()}}}function tm(t,e,l){let n,i,o,a,m,f;const r=["to","replace","state","getProps"];let p=bs(e,r),_,{$$slots:h={},$$scope:b}=e,{to:d}=e,{replace:g=!1}=e,{state:w={}}=e,{getProps:k=null}=e;yi(_o,e);const S=_c();Qt(t,S,R=>l(11,_=R));const M=Vc(),I=hc(),{navigate:T}=dc();function A(R){M("click",R),Jc(R)&&(R.preventDefault(),T(n,{state:w,replace:a||g}))}return t.$$set=R=>{l(19,e=jt(jt({},e),hs(R))),l(18,p=bs(e,r)),"to"in R&&l(5,d=R.to),"replace"in R&&l(6,g=R.replace),"state"in R&&l(7,w=R.state),"getProps"in R&&l(8,k=R.getProps),"$$scope"in R&&l(12,b=R.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=I(d,_)),t.$$.dirty&2049&&l(10,i=Js(_.pathname,n)),t.$$.dirty&2049&&l(9,o=n===_.pathname),t.$$.dirty&2049&&(a=ho(n)===k1(_)),t.$$.dirty&512&&l(2,m=o?{"aria-current":"page"}:{}),l(1,f=(()=>{if(Vf(k)){const R=k({location:_,href:n,isPartiallyCurrent:i,isCurrent:o});return{...p,...R}}return p})())},e=hs(e),[n,f,m,S,A,d,g,w,k,o,i,_,b,h]}class lm extends $e{constructor(e){super(),ye(this,e,tm,em,ke,{to:5,replace:6,state:7,getProps:8})}}const Sl=lm;let xs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Cl(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function nm(t){return t>218&&t<242?"#32d900":t>212&&t<248?"#b1d900":t>208&&t<252?"#ffb800":"#d90000"}function bc(t){return t>90?"#d90000":t>85?"#e32100":t>80?"#ffb800":t>75?"#dcd800":"#32d900"}function im(t){return t>75?"#32d900":t>50?"#77d900":t>25?"#94d900":"#dcd800"}function ws(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return""}}function Re(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function fe(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1"}}function Gr(t){switch(t){case-1:return"Parse error";case-2:return"Incomplete data received";case-3:return"Payload boundry flag missing";case-4:return"Header checksum error";case-5:return"Footer checksum error";case-9:return"Unknown data received, check meter config";case-41:return"Frame length not equal";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid";case 90:return"No HAN data received last 30s";case 91:return"Serial break";case 92:return"Serial buffer full";case 93:return"Serial FIFO overflow";case 94:return"Serial frame error";case 95:return"Serial parity error";case 96:return"RX error";case 98:return"Exception in code, debugging necessary";case 99:return"Autodetection failed"}return t<0?"Unspecified error "+t:""}function Br(t){switch(t){case-3:return"Connection failed";case-4:return"Network timeout";case-10:return"Connection denied";case-11:return"Failed to subscribe";case-13:return"Connection lost"}return t<0?"Unspecified error "+t:""}function Yr(t){switch(t){case 401:case 403:return"Unauthorized, check API key";case 404:return"Price unavailable, not found";case 425:return"Server says its too early";case 429:return"Exceeded API rate limit";case 500:return"Internal server error";case-2:return"Incomplete data received";case-3:return"Invalid data, tag missing";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid"}return t<0?"Unspecified error "+t:""}function Jn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Ge(t,e){return t==1||t==2&&e}function Tt(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function ge(t,e){return isNaN(t)?"-":(isNaN(e)&&(e=t<10?1:0),t.toFixed(e))}function hi(t,e){return t.setTime(t.getTime()+e*36e5),t}function zr(t){if(t.chip=="esp8266")switch(t.boot_reason){case 0:return"Normal";case 1:return"WDT reset";case 2:return"Exception reset";case 3:return"Soft WDT reset";case 4:return"Software restart";case 5:return"Deep sleep";case 6:return"External reset";default:return"Unknown (8266)"}else switch(t.boot_reason){case 1:return"Vbat power on reset";case 3:return"Software reset";case 4:return"WDT reset";case 5:return"Deep sleep";case 6:return"SLC reset";case 7:return"Timer Group0 WDT reset";case 8:return"Timer Group1 WDT reset";case 9:return"RTC WDT reset";case 10:return"Instrusion test reset CPU";case 11:return"Time Group reset CPU";case 12:return"Software reset CPU";case 13:return"RTC WTD reset CPU";case 14:return"PRO CPU";case 15:return"Brownout";case 16:return"RTC reset";default:return"Unknown"}}async function Ml(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),o=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),o}let Kt={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null},trying:null};const Pt=xe(Kt);async function bo(){Kt=await(await Ml("/sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),Pt.set(Kt)}let _s=0,Vr=-127,Kr=null,sm={};const om=Jf(sm,t=>{let e;async function l(){Ml("/data.json").then(n=>n.json()).then(n=>{t(n),Vr!=n.t&&(Vr=n.t,setTimeout(yc,2e3)),Kr!=n.p&&n.pe&&(Kr=n.p,setTimeout(um,4e3)),Kt.upgrading?window.location.reload():(!Kt||!Kt.chip||Kt.booting||_s>1&&!Jn(Kt.board))&&(bo(),Xl&&clearTimeout(Xl),Xl=setTimeout(go,2e3),Zl&&clearTimeout(Zl),Zl=setTimeout(ko,3e3));let i=5e3;if(Jn(Kt.board)&&n.v>2.5){let o=3.3-Math.min(3.3,n.v);o>0&&(i=Math.max(o,.1)*10*5e3)}i>5e3&&console.log("Scheduling next data fetch in "+i+"ms"),e&&clearTimeout(e),e=setTimeout(l,i),_s=0}).catch(n=>{_s++,_s>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(l,15e3)):e=setTimeout(l,Jn(Kt.board)?1e4:5e3)})}return l(),function(){clearTimeout(e)}});let eo={};const gc=xe(eo);async function um(){eo=await(await Ml("/energyprice.json")).json(),gc.set(eo)}let to={},Xl;async function go(){Xl&&(clearTimeout(Xl),Xl=0),to=await(await Ml("/dayplot.json")).json(),kc.set(to),Xl=setTimeout(go,(60-new Date().getMinutes())*6e4+20)}const kc=xe(to,t=>(go(),function(){}));let lo={},Zl;async function ko(){Zl&&(clearTimeout(Zl),Zl=0),lo=await(await Ml("/monthplot.json")).json(),wc.set(lo),Zl=setTimeout(ko,(24-new Date().getHours())*36e5+40)}const wc=xe(lo,t=>(ko(),function(){}));let no={};async function yc(){no=await(await Ml("/temperature.json")).json(),$c.set(no)}const $c=xe(no,t=>(yc(),function(){}));let io={},ds;async function Cc(){ds&&(clearTimeout(ds),ds=0),io=await(await Ml("/tariff.json")).json(),Sc.set(io),ds=setTimeout(Cc,(60-new Date().getMinutes())*6e4+30)}const Sc=xe(io,t=>function(){});let so=[];const wo=xe(so);async function rm(){so=await(await Ml("https://api.github.com/repos/UtilitechAS/amsreader-firmware/releases")).json(),wo.set(so)}function ys(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function Tc(t){await(await fetch("/upgrade?expected_version="+t,{method:"POST"})).json()}function Pc(t,e){if(/^v\d{1,2}\.\d{1,2}\.\d{1,2}$/.test(t)){let l=t.substring(1).split("."),n=parseInt(l[0]),i=parseInt(l[1]),o=parseInt(l[2]),a=[...e];a.reverse();let m,f,r;for(let p=0;p<a.length;p++){let _=a[p],b=_.tag_name.substring(1).split("."),d=parseInt(b[0]),g=parseInt(b[1]),w=parseInt(b[2]);if(d==n)g==i?w>o&&(m=_):g==i+1&&(f=_);else if(d==n+1)if(r){let k=r.tag_name.substring(1).split(".");parseInt(k[0]);let S=parseInt(k[1]);parseInt(k[2]),g==S&&(r=_)}else r=_}return f||r||m||!1}else return e[0]}const am="/github.svg";function Qr(t){let e,l;function n(a,m){return a[1]>1?vm:a[1]>0?dm:a[2]>1?_m:a[2]>0?pm:a[3]>1?mm:a[3]>0?cm:fm}let i=n(t),o=i(t);return{c(){e=C(`Up\r
    `),o.c(),l=Be()},m(a,m){$(a,e,m),o.m(a,m),$(a,l,m)},p(a,m){i===(i=n(a))&&o?o.p(a,m):(o.d(1),o=i(a),o&&(o.c(),o.m(l.parentNode,l)))},d(a){a&&y(e),o.d(a),a&&y(l)}}}function fm(t){let e,l;return{c(){e=C(t[0]),l=C(" seconds")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&1&&B(e,n[0])},d(n){n&&y(e),n&&y(l)}}}function cm(t){let e,l;return{c(){e=C(t[3]),l=C(" minute")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&8&&B(e,n[3])},d(n){n&&y(e),n&&y(l)}}}function mm(t){let e,l;return{c(){e=C(t[3]),l=C(" minutes")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&8&&B(e,n[3])},d(n){n&&y(e),n&&y(l)}}}function pm(t){let e,l;return{c(){e=C(t[2]),l=C(" hour")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&4&&B(e,n[2])},d(n){n&&y(e),n&&y(l)}}}function _m(t){let e,l;return{c(){e=C(t[2]),l=C(" hours")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&4&&B(e,n[2])},d(n){n&&y(e),n&&y(l)}}}function dm(t){let e,l;return{c(){e=C(t[1]),l=C(" day")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&2&&B(e,n[1])},d(n){n&&y(e),n&&y(l)}}}function vm(t){let e,l;return{c(){e=C(t[1]),l=C(" days")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&2&&B(e,n[1])},d(n){n&&y(e),n&&y(l)}}}function hm(t){let e,l=t[0]&&Qr(t);return{c(){l&&l.c(),e=Be()},m(n,i){l&&l.m(n,i),$(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Qr(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ne,o:ne,d(n){l&&l.d(n),n&&y(e)}}}function bm(t,e,l){let{epoch:n}=e,i=0,o=0,a=0;return t.$$set=m=>{"epoch"in m&&l(0,n=m.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(1,i=Math.floor(n/86400)),l(2,o=Math.floor(n/3600)),l(3,a=Math.floor(n/60)))},[n,i,o,a]}class gm extends $e{constructor(e){super(),ye(this,e,bm,hm,ke,{epoch:0})}}function km(t){let e,l,n;return{c(){e=c("span"),l=C(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,o){$(i,e,o),s(e,l)},p(i,[o]){o&4&&B(l,i[2]),o&2&&u(e,"title",i[1]),o&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:ne,o:ne,d(i){i&&y(e)}}}function wm(t,e,l){let{color:n}=e,{title:i}=e,{text:o}=e;return t.$$set=a=>{"color"in a&&l(0,n=a.color),"title"in a&&l(1,i=a.title),"text"in a&&l(2,o=a.text)},[n,i,o]}class Xt extends $e{constructor(e){super(),ye(this,e,wm,km,ke,{color:0,title:1,text:2})}}function ym(t){let e,l=`${Re(t[0].getDate())}.${Re(t[0].getMonth()+1)}.${t[0].getFullYear()} ${Re(t[0].getHours())}:${Re(t[0].getMinutes())}`,n;return{c(){e=c("span"),n=C(l),u(e,"class",t[1])},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=`${Re(i[0].getDate())}.${Re(i[0].getMonth()+1)}.${i[0].getFullYear()} ${Re(i[0].getHours())}:${Re(i[0].getMinutes())}`)&&B(n,l),o&2&&u(e,"class",i[1])},d(i){i&&y(e)}}}function $m(t){let e=`${Re(t[0].getDate())}. ${xs[t[0].getMonth()]} ${Re(t[0].getHours())}:${Re(t[0].getMinutes())}`,l;return{c(){l=C(e)},m(n,i){$(n,l,i)},p(n,i){i&1&&e!==(e=`${Re(n[0].getDate())}. ${xs[n[0].getMonth()]} ${Re(n[0].getHours())}:${Re(n[0].getMinutes())}`)&&B(l,e)},d(n){n&&y(l)}}}function Cm(t){let e,l;function n(a,m){return m&1&&(e=null),e==null&&(e=Math.abs(new Date().getTime()-a[0].getTime())<3e5),e?$m:ym}let i=n(t,-1),o=i(t);return{c(){o.c(),l=Be()},m(a,m){o.m(a,m),$(a,l,m)},p(a,[m]){i===(i=n(a,m))&&o?o.p(a,m):(o.d(1),o=i(a),o&&(o.c(),o.m(l.parentNode,l)))},i:ne,o:ne,d(a){o.d(a),a&&y(l)}}}function Sm(t,e,l){let{timestamp:n}=e,{fullTimeColor:i}=e;return t.$$set=o=>{"timestamp"in o&&l(0,n=o.timestamp),"fullTimeColor"in o&&l(1,i=o.fullTimeColor)},[n,i]}class Mc extends $e{constructor(e){super(),ye(this,e,Sm,Cm,ke,{timestamp:0,fullTimeColor:1})}}function Tm(t){let e,l,n;return{c(){e=He("svg"),l=He("path"),n=He("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,o){$(i,e,o),s(e,l),s(e,n)},p:ne,i:ne,o:ne,d(i){i&&y(e)}}}class Pm extends $e{constructor(e){super(),ye(this,e,null,Tm,ke,{})}}function Mm(t){let e,l;return{c(){e=He("svg"),l=He("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){$(n,e,i),s(e,l)},p:ne,i:ne,o:ne,d(n){n&&y(e)}}}class Dm extends $e{constructor(e){super(),ye(this,e,null,Mm,ke,{})}}function Am(t){let e,l;return{c(){e=He("svg"),l=He("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){$(n,e,i),s(e,l)},p:ne,i:ne,o:ne,d(n){n&&y(e)}}}class St extends $e{constructor(e){super(),ye(this,e,null,Am,ke,{})}}function Em(t){let e,l;return{c(){e=He("svg"),l=He("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){$(n,e,i),s(e,l)},p:ne,i:ne,o:ne,d(n){n&&y(e)}}}class Dc extends $e{constructor(e){super(),ye(this,e,null,Em,ke,{})}}function Nm(t){let e,l,n=t[1].version+"",i;return{c(){e=C("AMS reader "),l=c("span"),i=C(n)},m(o,a){$(o,e,a),$(o,l,a),s(l,i)},p(o,a){a&2&&n!==(n=o[1].version+"")&&B(i,n)},d(o){o&&y(e),o&&y(l)}}}function Xr(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=c("div"),n=C(l),i=C("°C"),u(e,"class","flex-none my-auto")},m(o,a){$(o,e,a),s(e,n),s(e,i)},p(o,a){a&1&&l!==(l=(o[0].t>-50?o[0].t.toFixed(1):"-")+"")&&B(n,l)},d(o){o&&y(e)}}}function Zr(t){let e,l="HAN: "+Gr(t[0].he),n;return{c(){e=c("div"),n=C(l),u(e,"class","bd-red")},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="HAN: "+Gr(i[0].he))&&B(n,l)},d(i){i&&y(e)}}}function Jr(t){let e,l="MQTT: "+Br(t[0].me),n;return{c(){e=c("div"),n=C(l),u(e,"class","bd-red")},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="MQTT: "+Br(i[0].me))&&B(n,l)},d(i){i&&y(e)}}}function xr(t){let e,l="PriceAPI: "+Yr(t[0].ee),n;return{c(){e=c("div"),n=C(l),u(e,"class","bd-red")},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="PriceAPI: "+Yr(i[0].ee))&&B(n,l)},d(i){i&&y(e)}}}function ea(t){let e,l,n,i,o,a;return l=new Sl({props:{to:"/configuration",$$slots:{default:[Im]},$$scope:{ctx:t}}}),o=new Sl({props:{to:"/status",$$slots:{default:[Rm]},$$scope:{ctx:t}}}),{c(){e=c("div"),Z(l.$$.fragment),n=v(),i=c("div"),Z(o.$$.fragment),u(e,"class","flex-none px-1 mt-1"),u(e,"title","Configuration"),u(i,"class","flex-none px-1 mt-1"),u(i,"title","Device information")},m(m,f){$(m,e,f),Q(l,e,null),$(m,n,f),$(m,i,f),Q(o,i,null),a=!0},i(m){a||(D(l.$$.fragment,m),D(o.$$.fragment,m),a=!0)},o(m){N(l.$$.fragment,m),N(o.$$.fragment,m),a=!1},d(m){m&&y(e),X(l),m&&y(n),m&&y(i),X(o)}}}function Im(t){let e,l;return e=new Pm({}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Rm(t){let e,l;return e=new Dm({}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function ta(t){let e,l,n,i,o;const a=[Lm,Fm],m=[];function f(r,p){return r[1].security==0||r[0].a?0:1}return l=f(t),n=m[l]=a[l](t),{c(){e=c("div"),n.c(),u(e,"class","flex-none mr-3 text-yellow-500"),u(e,"title",i="New version: "+t[2].tag_name)},m(r,p){$(r,e,p),m[l].m(e,null),o=!0},p(r,p){let _=l;l=f(r),l===_?m[l].p(r,p):(Se(),N(m[_],1,1,()=>{m[_]=null}),Te(),n=m[l],n?n.p(r,p):(n=m[l]=a[l](r),n.c()),D(n,1),n.m(e,null)),(!o||p&4&&i!==(i="New version: "+r[2].tag_name))&&u(e,"title",i)},i(r){o||(D(n),o=!0)},o(r){N(n),o=!1},d(r){r&&y(e),m[l].d()}}}function Fm(t){let e,l,n=t[2].tag_name+"",i;return{c(){e=c("span"),l=C("New version: "),i=C(n)},m(o,a){$(o,e,a),s(e,l),s(e,i)},p(o,a){a&4&&n!==(n=o[2].tag_name+"")&&B(i,n)},i:ne,o:ne,d(o){o&&y(e)}}}function Lm(t){let e,l,n,i=t[2].tag_name+"",o,a,m,f,r,p;return m=new Dc({}),{c(){e=c("button"),l=c("span"),n=C("New version: "),o=C(i),a=v(),Z(m.$$.fragment),u(l,"class","mt-1"),u(e,"class","flex")},m(_,h){$(_,e,h),s(e,l),s(l,n),s(l,o),s(e,a),Q(m,e,null),f=!0,r||(p=z(e,"click",t[3]),r=!0)},p(_,h){(!f||h&4)&&i!==(i=_[2].tag_name+"")&&B(o,i)},i(_){f||(D(m.$$.fragment,_),f=!0)},o(_){N(m.$$.fragment,_),f=!1},d(_){_&&y(e),X(m),r=!1,p()}}}function Om(t){let e,l,n,i,o,a,m,f,r,p,_,h,b=(t[0].m?(t[0].m/1e3).toFixed(1):"-")+"",d,g,w,k,S,M,I,T,A,R,F,G,L,E,O,j,U,q,W,H,V,J,ie,le,pe,Pe,we,Fe,Ce,Le;i=new Sl({props:{to:"/",$$slots:{default:[Nm]},$$scope:{ctx:t}}}),f=new gm({props:{epoch:t[0].u}});let _e=t[0].t>-50&&Xr(t);S=new Xt({props:{title:"ESP",text:t[1].booting?"Booting":t[0].v>2?t[0].v.toFixed(2)+"V":"ESP",color:Cl(t[1].booting?2:t[0].em)}}),I=new Xt({props:{title:"HAN",text:"HAN",color:Cl(t[1].booting?9:t[0].hm)}}),A=new Xt({props:{title:"WiFi",text:t[0].r?t[0].r.toFixed(0)+"dBm":"WiFi",color:Cl(t[1].booting?9:t[0].wm)}}),F=new Xt({props:{title:"MQTT",text:"MQTT",color:Cl(t[1].booting?9:t[0].mm)}});let Me=(t[0].he<0||t[0].he>0)&&Zr(t),Ie=t[0].me<0&&Jr(t),ce=(t[0].ee>0||t[0].ee<0)&&xr(t);ie=new Mc({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),fullTimeColor:"text-red-500"}});let se=t[1].vndcfg&&t[1].usrcfg&&ea(t);Fe=new St({});let me=t[1].fwconsent===1&&t[2]&&ta(t);return{c(){e=c("nav"),l=c("div"),n=c("div"),Z(i.$$.fragment),o=v(),a=c("div"),m=c("div"),Z(f.$$.fragment),r=v(),_e&&_e.c(),p=v(),_=c("div"),h=C("Free mem: "),d=C(b),g=C("kb"),w=v(),k=c("div"),Z(S.$$.fragment),M=v(),Z(I.$$.fragment),T=v(),Z(A.$$.fragment),R=v(),Z(F.$$.fragment),G=v(),Me&&Me.c(),L=v(),Ie&&Ie.c(),E=v(),ce&&ce.c(),O=v(),j=c("div"),U=c("div"),q=c("a"),W=c("img"),V=v(),J=c("div"),Z(ie.$$.fragment),le=v(),se&&se.c(),pe=v(),Pe=c("div"),we=c("a"),Z(Fe.$$.fragment),Ce=v(),me&&me.c(),u(n,"class","flex text-lg text-gray-100 p-2"),u(m,"class","flex-none my-auto"),u(_,"class","flex-none my-auto"),u(a,"class","flex-none my-auto p-2 flex space-x-4"),u(k,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(W,"class","gh-logo"),Lc(W.src,H=am)||u(W,"src",H),u(W,"alt","GitHub repo"),u(q,"class","float-right"),u(q,"href","https://github.com/UtilitechAS/amsreader-firmware"),u(q,"target","_blank"),u(q,"rel","noreferrer"),u(q,"aria-label","GitHub"),u(U,"class","flex-none"),u(J,"class","flex-none my-auto px-2"),u(we,"href",Tt("")),u(we,"target","_blank"),u(we,"rel","noreferrer"),u(Pe,"class","flex-none px-1 mt-1"),u(Pe,"title","Documentation"),u(j,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-sm text-gray-300"),u(e,"class","bg-violet-600 p-1 rounded-md mx-2")},m(K,re){$(K,e,re),s(e,l),s(l,n),Q(i,n,null),s(l,o),s(l,a),s(a,m),Q(f,m,null),s(a,r),_e&&_e.m(a,null),s(a,p),s(a,_),s(_,h),s(_,d),s(_,g),s(l,w),s(l,k),Q(S,k,null),s(k,M),Q(I,k,null),s(k,T),Q(A,k,null),s(k,R),Q(F,k,null),s(l,G),Me&&Me.m(l,null),s(l,L),Ie&&Ie.m(l,null),s(l,E),ce&&ce.m(l,null),s(l,O),s(l,j),s(j,U),s(U,q),s(q,W),s(j,V),s(j,J),Q(ie,J,null),s(j,le),se&&se.m(j,null),s(j,pe),s(j,Pe),s(Pe,we),Q(Fe,we,null),s(j,Ce),me&&me.m(j,null),Le=!0},p(K,[re]){const De={};re&18&&(De.$$scope={dirty:re,ctx:K}),i.$set(De);const Ee={};re&1&&(Ee.epoch=K[0].u),f.$set(Ee),K[0].t>-50?_e?_e.p(K,re):(_e=Xr(K),_e.c(),_e.m(a,p)):_e&&(_e.d(1),_e=null),(!Le||re&1)&&b!==(b=(K[0].m?(K[0].m/1e3).toFixed(1):"-")+"")&&B(d,b);const de={};re&3&&(de.text=K[1].booting?"Booting":K[0].v>2?K[0].v.toFixed(2)+"V":"ESP"),re&3&&(de.color=Cl(K[1].booting?2:K[0].em)),S.$set(de);const ee={};re&3&&(ee.color=Cl(K[1].booting?9:K[0].hm)),I.$set(ee);const oe={};re&1&&(oe.text=K[0].r?K[0].r.toFixed(0)+"dBm":"WiFi"),re&3&&(oe.color=Cl(K[1].booting?9:K[0].wm)),A.$set(oe);const ve={};re&3&&(ve.color=Cl(K[1].booting?9:K[0].mm)),F.$set(ve),K[0].he<0||K[0].he>0?Me?Me.p(K,re):(Me=Zr(K),Me.c(),Me.m(l,L)):Me&&(Me.d(1),Me=null),K[0].me<0?Ie?Ie.p(K,re):(Ie=Jr(K),Ie.c(),Ie.m(l,E)):Ie&&(Ie.d(1),Ie=null),K[0].ee>0||K[0].ee<0?ce?ce.p(K,re):(ce=xr(K),ce.c(),ce.m(l,O)):ce&&(ce.d(1),ce=null);const Ae={};re&1&&(Ae.timestamp=K[0].c?new Date(K[0].c*1e3):new Date(0)),ie.$set(Ae),K[1].vndcfg&&K[1].usrcfg?se?re&2&&D(se,1):(se=ea(K),se.c(),D(se,1),se.m(j,pe)):se&&(Se(),N(se,1,1,()=>{se=null}),Te()),K[1].fwconsent===1&&K[2]?me?(me.p(K,re),re&6&&D(me,1)):(me=ta(K),me.c(),D(me,1),me.m(j,null)):me&&(Se(),N(me,1,1,()=>{me=null}),Te())},i(K){Le||(D(i.$$.fragment,K),D(f.$$.fragment,K),D(S.$$.fragment,K),D(I.$$.fragment,K),D(A.$$.fragment,K),D(F.$$.fragment,K),D(ie.$$.fragment,K),D(se),D(Fe.$$.fragment,K),D(me),Le=!0)},o(K){N(i.$$.fragment,K),N(f.$$.fragment,K),N(S.$$.fragment,K),N(I.$$.fragment,K),N(A.$$.fragment,K),N(F.$$.fragment,K),N(ie.$$.fragment,K),N(se),N(Fe.$$.fragment,K),N(me),Le=!1},d(K){K&&y(e),X(i),X(f),_e&&_e.d(),X(S),X(I),X(A),X(F),Me&&Me.d(),Ie&&Ie.d(),ce&&ce.d(),X(ie),se&&se.d(),X(Fe),me&&me.d()}}}function qm(t,e,l){let{data:n={}}=e,i={},o={};function a(){confirm("Do you want to upgrade this device to "+o.tag_name+"?")&&(!Jn(i.board)||confirm(ys(fe(i.chip,i.board))))&&(Pt.update(m=>(m.upgrading=!0,m)),Tc(o.tag_name))}return Pt.subscribe(m=>{l(1,i=m),m.fwconsent===1&&rm()}),wo.subscribe(m=>{l(2,o=Pc(i.version,m))}),t.$$set=m=>{"data"in m&&l(0,n=m.data)},[n,i,o,a]}class Um extends $e{constructor(e){super(),ye(this,e,qm,Om,ke,{data:0})}}function Hm(t){let e,l,n,i;return{c(){e=He("svg"),l=He("path"),n=He("path"),u(l,"d",Ks(150,150,115,210,510)),u(l,"stroke","rgba(128, 128, 128, 0.15)"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Ks(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(o,a){$(o,e,a),s(e,l),s(e,n)},p(o,[a]){a&1&&i!==(i=Ks(150,150,115,210,210+300*o[0]/100))&&u(n,"d",i),a&2&&u(n,"stroke",o[1])},i:ne,o:ne,d(o){o&&y(e)}}}function la(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Ks(t,e,l,n,i){var o=la(t,e,l,i),a=la(t,e,l,n),m=i-n<=180?"0":"1",f=["M",o.x,o.y,"A",l,l,0,m,0,a.x,a.y].join(" ");return f}function jm(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=o=>{"pct"in o&&l(0,n=o.pct),"color"in o&&l(1,i=o.color)},[n,i]}class Wm extends $e{constructor(e){super(),ye(this,e,jm,Hm,ke,{pct:0,color:1})}}function na(t){let e,l,n,i,o,a,m,f;return{c(){e=c("br"),l=v(),n=c("span"),i=C(t[3]),o=v(),a=c("span"),m=C(t[4]),f=C("/kWh"),u(n,"class","pl-sub"),u(a,"class","pl-snt")},m(r,p){$(r,e,p),$(r,l,p),$(r,n,p),s(n,i),$(r,o,p),$(r,a,p),s(a,m),s(a,f)},p(r,p){p&8&&B(i,r[3]),p&16&&B(m,r[4])},d(r){r&&y(e),r&&y(l),r&&y(n),r&&y(o),r&&y(a)}}}function Gm(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w;l=new Wm({props:{pct:t[6],color:t[5](t[6])}});let k=t[3]&&na(t);return{c(){e=c("div"),Z(l.$$.fragment),n=v(),i=c("span"),o=c("span"),a=C(t[2]),m=v(),f=c("br"),r=v(),p=c("span"),_=C(t[0]),h=v(),b=c("span"),d=C(t[1]),g=v(),k&&k.c(),u(o,"class","pl-lab"),u(p,"class","pl-val"),u(b,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(S,M){$(S,e,M),Q(l,e,null),s(e,n),s(e,i),s(i,o),s(o,a),s(i,m),s(i,f),s(i,r),s(i,p),s(p,_),s(i,h),s(i,b),s(b,d),s(i,g),k&&k.m(i,null),w=!0},p(S,[M]){const I={};M&64&&(I.pct=S[6]),M&96&&(I.color=S[5](S[6])),l.$set(I),(!w||M&4)&&B(a,S[2]),(!w||M&1)&&B(_,S[0]),(!w||M&2)&&B(d,S[1]),S[3]?k?k.p(S,M):(k=na(S),k.c(),k.m(i,null)):k&&(k.d(1),k=null)},i(S){w||(D(l.$$.fragment,S),w=!0)},o(S){N(l.$$.fragment,S),w=!1},d(S){S&&y(e),X(l),k&&k.d()}}}function Bm(t,e,l){let{val:n}=e,{max:i}=e,{unit:o}=e,{label:a}=e,{sub:m=""}=e,{subunit:f=""}=e,{colorFn:r}=e,p=0;return t.$$set=_=>{"val"in _&&l(0,n=_.val),"max"in _&&l(7,i=_.max),"unit"in _&&l(1,o=_.unit),"label"in _&&l(2,a=_.label),"sub"in _&&l(3,m=_.sub),"subunit"in _&&l(4,f=_.subunit),"colorFn"in _&&l(5,r=_.colorFn)},t.$$.update=()=>{t.$$.dirty&129&&l(6,p=Math.min(n,i)/i*100)},[n,o,a,m,f,r,p,i]}class Ac extends $e{constructor(e){super(),ye(this,e,Bm,Gm,ke,{val:0,max:7,unit:1,label:2,sub:3,subunit:4,colorFn:5})}}function ia(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function sa(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function oa(t,e,l){const n=t.slice();return n[13]=e[l],n}function ua(t){let e,l=t[0].title+"",n;return{c(){e=c("strong"),n=C(l),u(e,"class","text-sm")},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[0].title+"")&&B(n,l)},d(i){i&&y(e)}}}function ra(t){let e,l,n,i=t[13].label+"",o,a,m,f;return{c(){e=He("g"),l=He("line"),n=He("text"),o=C(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",a=t[13].align=="right"?"85%":""),u(e,"class",m="tick tick-"+t[13].value+" tick-"+t[13].color),u(e,"transform",f="translate(0, "+t[6](t[13].value)+")")},m(r,p){$(r,e,p),s(e,l),s(e,n),s(n,o)},p(r,p){p&1&&i!==(i=r[13].label+"")&&B(o,i),p&1&&a!==(a=r[13].align=="right"?"85%":"")&&u(n,"x",a),p&1&&m!==(m="tick tick-"+r[13].value+" tick-"+r[13].color)&&u(e,"class",m),p&65&&f!==(f="translate(0, "+r[6](r[13].value)+")")&&u(e,"transform",f)},d(r){r&&y(e)}}}function aa(t){let e,l=t[9].label+"",n,i;return{c(){e=He("text"),n=C(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(o,a){$(o,e,a),s(e,n)},p(o,a){a&1&&l!==(l=o[9].label+"")&&B(n,l),a&8&&i!==(i=o[3]/2)&&u(e,"x",i)},d(o){o&&y(e)}}}function fa(t){let e,l,n=(t[3]>20||t[11]%2==0)&&aa(t);return{c(){e=He("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[5](t[11])+","+t[4]+")")},m(i,o){$(i,e,o),n&&n.m(e,null)},p(i,o){i[3]>20||i[11]%2==0?n?n.p(i,o):(n=aa(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),o&48&&l!==(l="translate("+i[5](i[11])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&y(e),n&&n.d()}}}function ca(t){let e,l,n,i,o,a,m,f=t[3]>15&&ma(t);return{c(){e=He("rect"),f&&f.c(),m=Be(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](t[9].value)),u(e,"width",i=t[3]-4),u(e,"height",o=t[6](t[0].y.min)-t[6](Math.min(t[0].y.min,0)+t[9].value)),u(e,"fill",a=t[9].color)},m(r,p){$(r,e,p),f&&f.m(r,p),$(r,m,p)},p(r,p){p&32&&l!==(l=r[5](r[11])+2)&&u(e,"x",l),p&65&&n!==(n=r[6](r[9].value))&&u(e,"y",n),p&8&&i!==(i=r[3]-4)&&u(e,"width",i),p&65&&o!==(o=r[6](r[0].y.min)-r[6](Math.min(r[0].y.min,0)+r[9].value))&&u(e,"height",o),p&1&&a!==(a=r[9].color)&&u(e,"fill",a),r[3]>15?f?f.p(r,p):(f=ma(r),f.c(),f.m(m.parentNode,m)):f&&(f.d(1),f=null)},d(r){r&&y(e),f&&f.d(r),r&&y(m)}}}function ma(t){let e,l=t[9].label+"",n,i,o,a,m,f,r;return{c(){e=He("text"),n=C(l),u(e,"y",i=t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+10),u(e,"x",o=t[5](t[11])+t[3]/2),u(e,"width",a=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",m=t[3]<25?"left":"middle"),u(e,"fill",f=t[6](t[9].value)>t[6](0)-t[7]?t[9].color:"white"),u(e,"transform",r="rotate("+(t[3]<25?90:0)+", "+(t[5](t[11])+t[3]/2)+", "+(t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+9)+")")},m(p,_){$(p,e,_),s(e,n)},p(p,_){_&1&&l!==(l=p[9].label+"")&&B(n,l),_&193&&i!==(i=p[6](p[9].value)>p[6](0)-p[7]?p[6](p[9].value)-p[7]:p[6](p[9].value)+10)&&u(e,"y",i),_&40&&o!==(o=p[5](p[11])+p[3]/2)&&u(e,"x",o),_&8&&a!==(a=p[3]-4)&&u(e,"width",a),_&8&&m!==(m=p[3]<25?"left":"middle")&&u(e,"text-anchor",m),_&193&&f!==(f=p[6](p[9].value)>p[6](0)-p[7]?p[9].color:"white")&&u(e,"fill",f),_&233&&r!==(r="rotate("+(p[3]<25?90:0)+", "+(p[5](p[11])+p[3]/2)+", "+(p[6](p[9].value)>p[6](0)-p[7]?p[6](p[9].value)-p[7]:p[6](p[9].value)+9)+")")&&u(e,"transform",r)},d(p){p&&y(e)}}}function pa(t){let e,l,n,i,o,a,m,f=t[3]>15&&_a(t);return{c(){e=He("rect"),f&&f.c(),m=Be(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](0)),u(e,"width",i=t[3]-4),u(e,"height",o=t[6](t[0].y.min)-t[6](t[0].y.min+t[9].value2)),u(e,"fill",a=t[9].color)},m(r,p){$(r,e,p),f&&f.m(r,p),$(r,m,p)},p(r,p){p&32&&l!==(l=r[5](r[11])+2)&&u(e,"x",l),p&64&&n!==(n=r[6](0))&&u(e,"y",n),p&8&&i!==(i=r[3]-4)&&u(e,"width",i),p&65&&o!==(o=r[6](r[0].y.min)-r[6](r[0].y.min+r[9].value2))&&u(e,"height",o),p&1&&a!==(a=r[9].color)&&u(e,"fill",a),r[3]>15?f?f.p(r,p):(f=_a(r),f.c(),f.m(m.parentNode,m)):f&&(f.d(1),f=null)},d(r){r&&y(e),f&&f.d(r),r&&y(m)}}}function _a(t){let e,l=t[9].label2+"",n,i,o,a,m,f,r;return{c(){e=He("text"),n=C(l),u(e,"y",i=t[6](-t[9].value2)<t[6](0)+12?t[6](-t[9].value2)+12:t[6](-t[9].value2)-10),u(e,"x",o=t[5](t[11])+t[3]/2),u(e,"width",a=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",m=t[3]<25?"left":"middle"),u(e,"fill",f=t[6](-t[9].value2)<t[6](0)+12?t[9].color:"white"),u(e,"transform",r="rotate("+(t[3]<25?90:0)+", "+(t[5](t[11])+t[3]/2)+", "+(t[6](t[9].value2-t[0].y.min)>t[6](0)-12?t[6](t[9].value2-t[0].y.min)-12:t[6](t[9].value2-t[0].y.min)+9)+")")},m(p,_){$(p,e,_),s(e,n)},p(p,_){_&1&&l!==(l=p[9].label2+"")&&B(n,l),_&65&&i!==(i=p[6](-p[9].value2)<p[6](0)+12?p[6](-p[9].value2)+12:p[6](-p[9].value2)-10)&&u(e,"y",i),_&40&&o!==(o=p[5](p[11])+p[3]/2)&&u(e,"x",o),_&8&&a!==(a=p[3]-4)&&u(e,"width",a),_&8&&m!==(m=p[3]<25?"left":"middle")&&u(e,"text-anchor",m),_&65&&f!==(f=p[6](-p[9].value2)<p[6](0)+12?p[9].color:"white")&&u(e,"fill",f),_&105&&r!==(r="rotate("+(p[3]<25?90:0)+", "+(p[5](p[11])+p[3]/2)+", "+(p[6](p[9].value2-p[0].y.min)>p[6](0)-12?p[6](p[9].value2-p[0].y.min)-12:p[6](p[9].value2-p[0].y.min)+9)+")")&&u(e,"transform",r)},d(p){p&&y(e)}}}function da(t){let e,l,n=t[9].value!==void 0&&ca(t),i=t[9].value2>1e-4&&pa(t);return{c(){n&&n.c(),e=Be(),i&&i.c(),l=Be()},m(o,a){n&&n.m(o,a),$(o,e,a),i&&i.m(o,a),$(o,l,a)},p(o,a){o[9].value!==void 0?n?n.p(o,a):(n=ca(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),o[9].value2>1e-4?i?i.p(o,a):(i=pa(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){n&&n.d(o),o&&y(e),i&&i.d(o),o&&y(l)}}}function Ym(t){let e,l,n,i,o,a,m,f=t[0].title&&ua(t),r=t[0].y.ticks,p=[];for(let g=0;g<r.length;g+=1)p[g]=ra(oa(t,r,g));let _=t[0].x.ticks,h=[];for(let g=0;g<_.length;g+=1)h[g]=fa(sa(t,_,g));let b=t[0].points,d=[];for(let g=0;g<b.length;g+=1)d[g]=da(ia(t,b,g));return{c(){e=c("div"),f&&f.c(),l=v(),n=He("svg"),i=He("g");for(let g=0;g<p.length;g+=1)p[g].c();o=He("g");for(let g=0;g<h.length;g+=1)h[g].c();a=He("g");for(let g=0;g<d.length;g+=1)d[g].c();u(i,"class","axis y-axis"),u(o,"class","axis x-axis"),u(a,"class","bars"),u(n,"height",t[4]),u(e,"class","chart"),Ve(()=>t[8].call(e))},m(g,w){$(g,e,w),f&&f.m(e,null),s(e,l),s(e,n),s(n,i);for(let k=0;k<p.length;k+=1)p[k]&&p[k].m(i,null);s(n,o);for(let k=0;k<h.length;k+=1)h[k]&&h[k].m(o,null);s(n,a);for(let k=0;k<d.length;k+=1)d[k]&&d[k].m(a,null);m=Gc(e,t[8].bind(e))},p(g,[w]){if(g[0].title?f?f.p(g,w):(f=ua(g),f.c(),f.m(e,l)):f&&(f.d(1),f=null),w&65){r=g[0].y.ticks;let k;for(k=0;k<r.length;k+=1){const S=oa(g,r,k);p[k]?p[k].p(S,w):(p[k]=ra(S),p[k].c(),p[k].m(i,null))}for(;k<p.length;k+=1)p[k].d(1);p.length=r.length}if(w&57){_=g[0].x.ticks;let k;for(k=0;k<_.length;k+=1){const S=sa(g,_,k);h[k]?h[k].p(S,w):(h[k]=fa(S),h[k].c(),h[k].m(o,null))}for(;k<h.length;k+=1)h[k].d(1);h.length=_.length}if(w&233){b=g[0].points;let k;for(k=0;k<b.length;k+=1){const S=ia(g,b,k);d[k]?d[k].p(S,w):(d[k]=da(S),d[k].c(),d[k].m(a,null))}for(;k<d.length;k+=1)d[k].d(1);d.length=b.length}w&16&&u(n,"height",g[4])},i:ne,o:ne,d(g){g&&y(e),f&&f.d(),Ht(p,g),Ht(h,g),Ht(d,g),m()}}}function zm(t,e,l){let{config:n}=e,i,o,a,m,f,r,p;function _(){i=this.clientWidth,o=this.clientHeight,l(1,i),l(2,o)}return t.$$set=h=>{"config"in h&&l(0,n=h.config)},t.$$.update=()=>{if(t.$$.dirty&31){l(4,r=o-(n.title?20:0));let h=i-(n.padding.left+n.padding.right);l(3,a=h/n.points.length),l(7,p=a<25?28:17);let b=(r-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(5,m=function(d){return d*a+n.padding.left}),l(6,f=function(d){let g=0;return d>n.y.max?g=n.padding.bottom:d<n.y.min?g=r-n.padding.bottom:g=r-n.padding.bottom-(d-n.y.min)*b,g>r||g<0?0:g})}},[n,i,o,a,r,m,f,p,_]}class xl extends $e{constructor(e){super(),ye(this,e,zm,Ym,ke,{config:0})}}function Vm(t){let e,l;return e=new xl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Km(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:o}=e,{ds:a}=e,m={};function f(r){return{label:ge(r)+"V",value:isNaN(r)?0:r,color:nm(r||0)}}return t.$$set=r=>{"u1"in r&&l(1,n=r.u1),"u2"in r&&l(2,i=r.u2),"u3"in r&&l(3,o=r.u3),"ds"in r&&l(4,a=r.ds)},t.$$.update=()=>{if(t.$$.dirty&30){let r=[],p=[];n>0&&(r.push({label:a===1?"L1-L2":"L1"}),p.push(f(n))),i>0&&(r.push({label:a===1?"L1-L3":"L2"}),p.push(f(i))),o>0&&(r.push({label:a===1?"L2-L3":"L3"}),p.push(f(o))),l(0,m={padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:r},points:p})}},[m,n,i,o,a]}class Qm extends $e{constructor(e){super(),ye(this,e,Km,Vm,ke,{u1:1,u2:2,u3:3,ds:4})}}function Xm(t){let e,l;return e=new xl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Zm(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:o}=e,{i1:a}=e,{i2:m}=e,{i3:f}=e,{max:r}=e,p={};function _(h){return{label:ge(h)+"A",value:isNaN(h)?0:h,color:bc(h?h/r*100:0)}}return t.$$set=h=>{"u1"in h&&l(1,n=h.u1),"u2"in h&&l(2,i=h.u2),"u3"in h&&l(3,o=h.u3),"i1"in h&&l(4,a=h.i1),"i2"in h&&l(5,m=h.i2),"i3"in h&&l(6,f=h.i3),"max"in h&&l(7,r=h.max)},t.$$.update=()=>{if(t.$$.dirty&254){let h=[],b=[];n>0&&(h.push({label:"L1"}),b.push(_(a))),i>0&&(h.push({label:"L2"}),b.push(_(m))),o>0&&(h.push({label:"L3"}),b.push(_(f))),l(0,p={padding:{top:20,right:15,bottom:20,left:35},y:{min:0,max:r,ticks:[{value:0,label:"0%"},{value:r/4,label:"25%"},{value:r/2,label:"50%"},{value:r/4*3,label:"75%"},{value:r,label:"100%"}]},x:{ticks:h},points:b})}},[p,n,i,o,a,m,f,r]}class Jm extends $e{constructor(e){super(),ye(this,e,Zm,Xm,ke,{u1:1,u2:2,u3:3,i1:4,i2:5,i3:6,max:7})}}function xm(t){let e,l,n,i,o,a,m,f=(typeof t[0]<"u"?t[0].toFixed(0):"-")+"",r,p,_,h,b,d,g=(typeof t[1]<"u"?t[1].toFixed(0):"-")+"",w,k,S,M,I,T,A,R=(typeof t[2]<"u"?t[2].toFixed(1):"-")+"",F,G,L,E,O,j,U=(typeof t[3]<"u"?t[3].toFixed(1):"-")+"",q,W;return{c(){e=c("div"),l=c("strong"),l.textContent="Reactive",n=v(),i=c("div"),o=c("div"),o.textContent="Instant in",a=v(),m=c("div"),r=C(f),p=C(" VAr"),_=v(),h=c("div"),h.textContent="Instant out",b=v(),d=c("div"),w=C(g),k=C(" VAr"),S=v(),M=c("div"),I=c("div"),I.textContent="Total in",T=v(),A=c("div"),F=C(R),G=C(" kVArh"),L=v(),E=c("div"),E.textContent="Total out",O=v(),j=c("div"),q=C(U),W=C(" kVArh"),u(m,"class","text-right"),u(d,"class","text-right"),u(i,"class","grid grid-cols-2 mt-4"),u(A,"class","text-right"),u(j,"class","text-right"),u(M,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(H,V){$(H,e,V),s(e,l),s(e,n),s(e,i),s(i,o),s(i,a),s(i,m),s(m,r),s(m,p),s(i,_),s(i,h),s(i,b),s(i,d),s(d,w),s(d,k),s(e,S),s(e,M),s(M,I),s(M,T),s(M,A),s(A,F),s(A,G),s(M,L),s(M,E),s(M,O),s(M,j),s(j,q),s(j,W)},p(H,[V]){V&1&&f!==(f=(typeof H[0]<"u"?H[0].toFixed(0):"-")+"")&&B(r,f),V&2&&g!==(g=(typeof H[1]<"u"?H[1].toFixed(0):"-")+"")&&B(w,g),V&4&&R!==(R=(typeof H[2]<"u"?H[2].toFixed(1):"-")+"")&&B(F,R),V&8&&U!==(U=(typeof H[3]<"u"?H[3].toFixed(1):"-")+"")&&B(q,U)},i:ne,o:ne,d(H){H&&y(e)}}}function ep(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:o}=e,{exportTotal:a}=e;return t.$$set=m=>{"importInstant"in m&&l(0,n=m.importInstant),"exportInstant"in m&&l(1,i=m.exportInstant),"importTotal"in m&&l(2,o=m.importTotal),"exportTotal"in m&&l(3,a=m.exportTotal)},[n,i,o,a]}class tp extends $e{constructor(e){super(),ye(this,e,ep,xm,ke,{importInstant:0,exportInstant:1,importTotal:2,exportTotal:3})}}function va(t){let e;function l(o,a){return o[2]?np:lp}let n=l(t),i=n(t);return{c(){i.c(),e=Be()},m(o,a){i.m(o,a),$(o,e,a)},p(o,a){n===(n=l(o))&&i?i.p(o,a):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&y(e)}}}function lp(t){let e,l,n,i,o,a,m=ge(t[0].h.u,2)+"",f,r,p,_,h,b,d=ge(t[0].d.u,1)+"",g,w,k,S,M,I,T=ge(t[0].m.u)+"",A,R,F,G,L=t[3]&&ha(t);return{c(){e=c("strong"),e.textContent="Consumption",l=v(),n=c("div"),i=c("div"),i.textContent="Hour",o=v(),a=c("div"),f=C(m),r=C(" kWh"),p=v(),_=c("div"),_.textContent="Day",h=v(),b=c("div"),g=C(d),w=C(" kWh"),k=v(),S=c("div"),S.textContent="Month",M=v(),I=c("div"),A=C(T),R=C(" kWh"),F=v(),L&&L.c(),G=Be(),u(a,"class","text-right"),u(b,"class","text-right"),u(I,"class","text-right"),u(n,"class","grid grid-cols-2 mb-3")},m(E,O){$(E,e,O),$(E,l,O),$(E,n,O),s(n,i),s(n,o),s(n,a),s(a,f),s(a,r),s(n,p),s(n,_),s(n,h),s(n,b),s(b,g),s(b,w),s(n,k),s(n,S),s(n,M),s(n,I),s(I,A),s(I,R),$(E,F,O),L&&L.m(E,O),$(E,G,O)},p(E,O){O&1&&m!==(m=ge(E[0].h.u,2)+"")&&B(f,m),O&1&&d!==(d=ge(E[0].d.u,1)+"")&&B(g,d),O&1&&T!==(T=ge(E[0].m.u)+"")&&B(A,T),E[3]?L?L.p(E,O):(L=ha(E),L.c(),L.m(G.parentNode,G)):L&&(L.d(1),L=null)},d(E){E&&y(e),E&&y(l),E&&y(n),E&&y(F),L&&L.d(E),E&&y(G)}}}function np(t){let e,l,n,i,o,a,m=ge(t[0].h.u,2)+"",f,r,p,_,h,b,d,g=ge(t[0].d.u,1)+"",w,k,S,M,I,T,A,R=ge(t[0].m.u)+"",F,G,L,E,O,j,U,q,W,H,V,J=ge(t[0].h.p,2)+"",ie,le,pe,Pe,we,Fe,Ce,Le=ge(t[0].d.p,1)+"",_e,Me,Ie,ce,se,me,K,re=ge(t[0].m.p)+"",De,Ee,de,ee,oe=t[3]&&ba(t),ve=t[3]&&ga(t),Ae=t[3]&&ka(t),Oe=t[3]&&wa(t),he=t[3]&&ya(t),be=t[3]&&$a(t);return{c(){e=c("strong"),e.textContent="Import",l=v(),n=c("div"),i=c("div"),i.textContent="Hour",o=v(),a=c("div"),f=C(m),r=C(" kWh"),p=v(),oe&&oe.c(),_=v(),h=c("div"),h.textContent="Day",b=v(),d=c("div"),w=C(g),k=C(" kWh"),S=v(),ve&&ve.c(),M=v(),I=c("div"),I.textContent="Month",T=v(),A=c("div"),F=C(R),G=C(" kWh"),L=v(),Ae&&Ae.c(),O=v(),j=c("strong"),j.textContent="Export",U=v(),q=c("div"),W=c("div"),W.textContent="Hour",H=v(),V=c("div"),ie=C(J),le=C(" kWh"),pe=v(),Oe&&Oe.c(),Pe=v(),we=c("div"),we.textContent="Day",Fe=v(),Ce=c("div"),_e=C(Le),Me=C(" kWh"),Ie=v(),he&&he.c(),ce=v(),se=c("div"),se.textContent="Month",me=v(),K=c("div"),De=C(re),Ee=C(" kWh"),de=v(),be&&be.c(),u(a,"class","text-right"),u(d,"class","text-right"),u(A,"class","text-right"),u(n,"class",E="grid grid-cols-"+t[4]+" mb-3"),u(V,"class","text-right"),u(Ce,"class","text-right"),u(K,"class","text-right"),u(q,"class",ee="grid grid-cols-"+t[4])},m(x,ue){$(x,e,ue),$(x,l,ue),$(x,n,ue),s(n,i),s(n,o),s(n,a),s(a,f),s(a,r),s(n,p),oe&&oe.m(n,null),s(n,_),s(n,h),s(n,b),s(n,d),s(d,w),s(d,k),s(n,S),ve&&ve.m(n,null),s(n,M),s(n,I),s(n,T),s(n,A),s(A,F),s(A,G),s(n,L),Ae&&Ae.m(n,null),$(x,O,ue),$(x,j,ue),$(x,U,ue),$(x,q,ue),s(q,W),s(q,H),s(q,V),s(V,ie),s(V,le),s(q,pe),Oe&&Oe.m(q,null),s(q,Pe),s(q,we),s(q,Fe),s(q,Ce),s(Ce,_e),s(Ce,Me),s(q,Ie),he&&he.m(q,null),s(q,ce),s(q,se),s(q,me),s(q,K),s(K,De),s(K,Ee),s(q,de),be&&be.m(q,null)},p(x,ue){ue&1&&m!==(m=ge(x[0].h.u,2)+"")&&B(f,m),x[3]?oe?oe.p(x,ue):(oe=ba(x),oe.c(),oe.m(n,_)):oe&&(oe.d(1),oe=null),ue&1&&g!==(g=ge(x[0].d.u,1)+"")&&B(w,g),x[3]?ve?ve.p(x,ue):(ve=ga(x),ve.c(),ve.m(n,M)):ve&&(ve.d(1),ve=null),ue&1&&R!==(R=ge(x[0].m.u)+"")&&B(F,R),x[3]?Ae?Ae.p(x,ue):(Ae=ka(x),Ae.c(),Ae.m(n,null)):Ae&&(Ae.d(1),Ae=null),ue&16&&E!==(E="grid grid-cols-"+x[4]+" mb-3")&&u(n,"class",E),ue&1&&J!==(J=ge(x[0].h.p,2)+"")&&B(ie,J),x[3]?Oe?Oe.p(x,ue):(Oe=wa(x),Oe.c(),Oe.m(q,Pe)):Oe&&(Oe.d(1),Oe=null),ue&1&&Le!==(Le=ge(x[0].d.p,1)+"")&&B(_e,Le),x[3]?he?he.p(x,ue):(he=ya(x),he.c(),he.m(q,ce)):he&&(he.d(1),he=null),ue&1&&re!==(re=ge(x[0].m.p)+"")&&B(De,re),x[3]?be?be.p(x,ue):(be=$a(x),be.c(),be.m(q,null)):be&&(be.d(1),be=null),ue&16&&ee!==(ee="grid grid-cols-"+x[4])&&u(q,"class",ee)},d(x){x&&y(e),x&&y(l),x&&y(n),oe&&oe.d(),ve&&ve.d(),Ae&&Ae.d(),x&&y(O),x&&y(j),x&&y(U),x&&y(q),Oe&&Oe.d(),he&&he.d(),be&&be.d()}}}function ha(t){let e,l,n,i,o,a,m=ge(t[0].h.c,2)+"",f,r,p,_,h,b,d,g=ge(t[0].d.c,1)+"",w,k,S,M,I,T,A,R=ge(t[0].m.c)+"",F,G,L;return{c(){e=c("strong"),e.textContent="Cost",l=v(),n=c("div"),i=c("div"),i.textContent="Hour",o=v(),a=c("div"),f=C(m),r=v(),p=C(t[1]),_=v(),h=c("div"),h.textContent="Day",b=v(),d=c("div"),w=C(g),k=v(),S=C(t[1]),M=v(),I=c("div"),I.textContent="Month",T=v(),A=c("div"),F=C(R),G=v(),L=C(t[1]),u(a,"class","text-right"),u(d,"class","text-right"),u(A,"class","text-right"),u(n,"class","grid grid-cols-2")},m(E,O){$(E,e,O),$(E,l,O),$(E,n,O),s(n,i),s(n,o),s(n,a),s(a,f),s(a,r),s(a,p),s(n,_),s(n,h),s(n,b),s(n,d),s(d,w),s(d,k),s(d,S),s(n,M),s(n,I),s(n,T),s(n,A),s(A,F),s(A,G),s(A,L)},p(E,O){O&1&&m!==(m=ge(E[0].h.c,2)+"")&&B(f,m),O&2&&B(p,E[1]),O&1&&g!==(g=ge(E[0].d.c,1)+"")&&B(w,g),O&2&&B(S,E[1]),O&1&&R!==(R=ge(E[0].m.c)+"")&&B(F,R),O&2&&B(L,E[1])},d(E){E&&y(e),E&&y(l),E&&y(n)}}}function ba(t){let e,l=ge(t[0].h.c,2)+"",n,i,o;return{c(){e=c("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(a,m){$(a,e,m),s(e,n),s(e,i),s(e,o)},p(a,m){m&1&&l!==(l=ge(a[0].h.c,2)+"")&&B(n,l),m&2&&B(o,a[1])},d(a){a&&y(e)}}}function ga(t){let e,l=ge(t[0].d.c,1)+"",n,i,o;return{c(){e=c("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(a,m){$(a,e,m),s(e,n),s(e,i),s(e,o)},p(a,m){m&1&&l!==(l=ge(a[0].d.c,1)+"")&&B(n,l),m&2&&B(o,a[1])},d(a){a&&y(e)}}}function ka(t){let e,l=ge(t[0].m.c)+"",n,i,o;return{c(){e=c("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(a,m){$(a,e,m),s(e,n),s(e,i),s(e,o)},p(a,m){m&1&&l!==(l=ge(a[0].m.c)+"")&&B(n,l),m&2&&B(o,a[1])},d(a){a&&y(e)}}}function wa(t){let e,l=ge(t[0].h.i,2)+"",n,i,o;return{c(){e=c("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(a,m){$(a,e,m),s(e,n),s(e,i),s(e,o)},p(a,m){m&1&&l!==(l=ge(a[0].h.i,2)+"")&&B(n,l),m&2&&B(o,a[1])},d(a){a&&y(e)}}}function ya(t){let e,l=ge(t[0].d.i,1)+"",n,i,o;return{c(){e=c("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(a,m){$(a,e,m),s(e,n),s(e,i),s(e,o)},p(a,m){m&1&&l!==(l=ge(a[0].d.i,1)+"")&&B(n,l),m&2&&B(o,a[1])},d(a){a&&y(e)}}}function $a(t){let e,l=ge(t[0].m.i)+"",n,i,o;return{c(){e=c("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(a,m){$(a,e,m),s(e,n),s(e,i),s(e,o)},p(a,m){m&1&&l!==(l=ge(a[0].m.i)+"")&&B(n,l),m&2&&B(o,a[1])},d(a){a&&y(e)}}}function ip(t){let e,l,n,i,o,a,m=t[0]&&va(t);return{c(){e=c("div"),l=c("strong"),l.textContent="Real time calculation",n=v(),i=c("br"),o=c("br"),a=v(),m&&m.c(),u(e,"class","mx-2 text-sm")},m(f,r){$(f,e,r),s(e,l),s(e,n),s(e,i),s(e,o),s(e,a),m&&m.m(e,null)},p(f,[r]){f[0]?m?m.p(f,r):(m=va(f),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:ne,o:ne,d(f){f&&y(e),m&&m.d()}}}function sp(t,e,l){let{data:n}=e,{currency:i}=e,{hasExport:o}=e,a=!1,m=3;return t.$$set=f=>{"data"in f&&l(0,n=f.data),"currency"in f&&l(1,i=f.currency),"hasExport"in f&&l(2,o=f.hasExport)},t.$$.update=()=>{t.$$.dirty&9&&(l(3,a=n&&n.h&&(n.h.c||n.d.c||n.m.c||n.h.i||n.d.i||n.m.i)),l(4,m=a?3:2))},[n,i,o,a,m]}class op extends $e{constructor(e){super(),ye(this,e,sp,ip,ke,{data:0,currency:1,hasExport:2})}}function up(t){let e,l,n,i;return n=new xl({props:{config:t[0]}}),{c(){e=c("a"),e.textContent="Provided by ENTSO-E",l=v(),Z(n.$$.fragment),u(e,"href","https://transparency.entsoe.eu/"),u(e,"target","_blank"),u(e,"class","text-xs float-right z-40")},m(o,a){$(o,e,a),$(o,l,a),Q(n,o,a),i=!0},p(o,[a]){const m={};a&1&&(m.config=o[0]),n.$set(m)},i(o){i||(D(n.$$.fragment,o),i=!0)},o(o){N(n.$$.fragment,o),i=!1},d(o){o&&y(e),o&&y(l),X(n,o)}}}function rp(t,e,l){let{json:n}=e,i={},o=0,a=0;return t.$$set=m=>{"json"in m&&l(1,n=m.json)},t.$$.update=()=>{if(t.$$.dirty&14){let m=new Date().getUTCHours(),f=0,r=0,p=0,_=n[20]==null?2:1,h=[],b=[],d=[],g=new Date;for(f=m;f<24&&(r=n[Re(p++)],r!=null);f++)b.push({label:Re(g.getHours())}),d.push({label:r>0?r.toFixed(_):"",value:r>0?Math.abs(r*100):0,label2:r<0?r.toFixed(_):"",value2:r<0?Math.abs(r*100):0,color:"#7c3aed"}),l(3,a=Math.min(a,r*100)),l(2,o=Math.max(o,r*100)),hi(g,1);for(f=0;f<24&&(r=n[Re(p++)],r!=null);f++)b.push({label:Re(g.getHours())}),d.push({label:r>0?r.toFixed(_):"",value:r>0?Math.abs(r*100):0,label2:r<0?r.toFixed(_):"",value2:r<0?Math.abs(r*100):0,color:"#7c3aed"}),l(3,a=Math.min(a,r*100)),l(2,o=Math.max(o,r*100)),hi(g,1);if(l(2,o=Math.ceil(o)),l(3,a=Math.floor(a)),a<0){let k=a/4;for(f=1;f<5;f++){let S=k*f;h.push({value:S,label:(S/100).toFixed(2)})}}let w=o/4;for(f=0;f<5;f++){let k=w*f;h.push({value:k,label:(k/100).toFixed(2)})}l(0,i={title:"Future energy price ("+n.currency+")",padding:{top:20,right:15,bottom:20,left:35},y:{min:a,max:o,ticks:h},x:{ticks:b},points:d})}},[i,n,o,a]}class ap extends $e{constructor(e){super(),ye(this,e,rp,up,ke,{json:1})}}function fp(t){let e,l;return e=new xl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function cp(t,e,l){let{json:n}=e,i={},o=0,a=0;return t.$$set=m=>{"json"in m&&l(1,n=m.json)},t.$$.update=()=>{if(t.$$.dirty&14){let m=0,f=[],r=[],p=[],_=hi(new Date,-24),h=new Date().getUTCHours();for(m=h;m<24;m++){let g=n["i"+Re(m)],w=n["e"+Re(m)];g===void 0&&(g=0),w===void 0&&(w=0),r.push({label:Re(_.getHours())}),p.push({label:g.toFixed(1),value:g*10,label2:w.toFixed(1),value2:w*10,color:"#7c3aed"}),l(3,a=Math.max(a,w*10)),l(2,o=Math.max(o,g*10)),hi(_,1)}for(m=0;m<h;m++){let g=n["i"+Re(m)],w=n["e"+Re(m)];g===void 0&&(g=0),w===void 0&&(w=0),r.push({label:Re(_.getHours())}),p.push({label:g.toFixed(1),value:g*10,label2:w.toFixed(1),value2:w*10,color:"#7c3aed"}),l(3,a=Math.max(a,w*10)),l(2,o=Math.max(o,g*10)),hi(_,1)}let b=Math.ceil(Math.max(a,o));if(l(2,o=b),l(3,a=a==0?0:b*-1),a<0){let g=a/4;for(m=1;m<5;m++){let w=g*m;f.push({value:w,label:(w/10).toFixed(1)})}}let d=o/4;for(m=0;m<5;m++){let g=d*m;f.push({value:g,label:(g/10).toFixed(1)})}l(0,i={title:"Energy use last 24 hours (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:a,max:o,ticks:f},x:{ticks:r},points:p})}},[i,n,o,a]}class mp extends $e{constructor(e){super(),ye(this,e,cp,fp,ke,{json:1})}}function pp(t){let e,l;return e=new xl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function _p(t,e,l){let{json:n}=e,i={},o=0,a=0;return t.$$set=m=>{"json"in m&&l(1,n=m.json)},t.$$.update=()=>{if(t.$$.dirty&14){let m=0,f=[],r=[],p=[],_=new Date,h=new Date;for(h.setDate(0),m=_.getDate();m<=h.getDate();m++){let g=n["i"+Re(m)],w=n["e"+Re(m)];g===void 0&&(g=0),w===void 0&&(w=0),r.push({label:Re(m)}),p.push({label:g.toFixed(0),value:g,label2:w.toFixed(0),value2:w,color:"#7c3aed"}),l(3,a=Math.max(a,w)),l(2,o=Math.max(o,g))}for(m=1;m<_.getDate();m++){let g=n["i"+Re(m)],w=n["e"+Re(m)];g===void 0&&(g=0),w===void 0&&(w=0),r.push({label:Re(m)}),p.push({label:g.toFixed(0),value:g,label2:w.toFixed(0),value2:w,color:"#7c3aed"}),l(3,a=Math.max(a,w)),l(2,o=Math.max(o,g))}let b=Math.ceil(Math.max(a,o)/10)*10;if(l(2,o=b),l(3,a=a==0?0:b*-1),a<0){let g=a/4;for(m=0;m<5;m++){let w=g*m;f.push({value:w,label:w.toFixed(0)})}}let d=o/4;for(m=0;m<5;m++){let g=d*m;f.push({value:g,label:g.toFixed(0)})}l(0,i={title:"Energy use last month (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:a,max:o,ticks:f},x:{ticks:r},points:p})}},[i,n,o,a]}class dp extends $e{constructor(e){super(),ye(this,e,_p,pp,ke,{json:1})}}function vp(t){let e,l;return e=new xl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function hp(t,e,l){let{json:n}=e,i={},o=0,a=0;return t.$$set=m=>{"json"in m&&l(1,n=m.json)},t.$$.update=()=>{if(t.$$.dirty&14){let m=0,f=0,r=[],p=[],_=[];n.s&&n.s.forEach((d,g)=>{var w=d.n?d.n:d.a;f=d.v,f==-127&&(f=0),p.push({label:w.slice(-4)}),_.push({label:f.toFixed(1),value:f,color:"#7c3aed"}),l(3,a=Math.min(a,f)),l(2,o=Math.max(o,f))}),l(2,o=Math.ceil(o)),l(3,a=Math.floor(a));let h=o;a<0&&(h+=Math.abs(a));let b=h/4;for(m=0;m<5;m++)f=a+b*m,r.push({value:f,label:f.toFixed(1)});l(0,i={title:"Temperature sensors (°C)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:a,max:o,ticks:r},x:{ticks:p},points:_})}},[i,n,o,a]}class bp extends $e{constructor(e){super(),ye(this,e,hp,vp,ke,{json:1})}}function gp(t){let e,l;return e=new xl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}let kp=0;function wp(t,e,l){let n={},i=0,o;return Sc.subscribe(a=>{l(2,o=a)}),Cc(),t.$$.update=()=>{if(t.$$.dirty&6){let a=0,m=[],f=[],r=[];if(m.push({value:0,label:0}),o&&o.p)for(a=0;a<o.p.length;a++){let p=o.p[a];r.push({label:p.v.toFixed(2),value:p.v,color:"#7c3aed"}),f.push({label:p.d>0?Re(p.d)+"."+xs[new Date().getMonth()]:"-"}),l(1,i=Math.max(i,p.v))}if(o&&o.t){for(a=0;a<o.t.length;a++){let p=o.t[a];if(p>=i)break;m.push({value:p,label:p})}m.push({label:o.m.toFixed(1),align:"right",color:"green",value:o.m})}o&&o.c&&(m.push({label:o.c.toFixed(0),color:"orange",value:o.c}),l(1,i=Math.max(i,o.c))),l(1,i=Math.ceil(i)),l(0,n={title:"Tariff peaks",padding:{top:20,right:35,bottom:20,left:35},y:{min:kp,max:i,ticks:m},x:{ticks:f},points:r})}},[n,i,o]}class yp extends $e{constructor(e){super(),ye(this,e,wp,gp,ke,{})}}function Ca(t){let e,l,n,i,o,a,m=(t[0].mt?ws(t[0].mt):"-")+"",f,r,p,_=(t[0].ic?t[0].ic.toFixed(1):"-")+"",h,b,d;return i=new Ac({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:"Import",sub:t[0].p,subunit:t[0].pc,colorFn:bc}}),{c(){e=c("div"),l=c("div"),n=c("div"),Z(i.$$.fragment),o=v(),a=c("div"),f=C(m),r=v(),p=c("div"),h=C(_),b=C(" kWh"),u(n,"class","col-span-2"),u(p,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(g,w){$(g,e,w),s(e,l),s(l,n),Q(i,n,null),s(l,o),s(l,a),s(a,f),s(l,r),s(l,p),s(p,h),s(p,b),d=!0},p(g,w){const k={};w&1&&(k.val=g[0].i?g[0].i:0),w&1&&(k.max=g[0].im?g[0].im:15e3),w&1&&(k.sub=g[0].p),w&1&&(k.subunit=g[0].pc),i.$set(k),(!d||w&1)&&m!==(m=(g[0].mt?ws(g[0].mt):"-")+"")&&B(f,m),(!d||w&1)&&_!==(_=(g[0].ic?g[0].ic.toFixed(1):"-")+"")&&B(h,_)},i(g){d||(D(i.$$.fragment,g),d=!0)},o(g){N(i.$$.fragment,g),d=!1},d(g){g&&y(e),X(i)}}}function Sa(t){let e,l,n,i,o,a,m,f,r=(t[0].ec?t[0].ec.toFixed(1):"-")+"",p,_,h;return i=new Ac({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:"Export",colorFn:im}}),{c(){e=c("div"),l=c("div"),n=c("div"),Z(i.$$.fragment),o=v(),a=c("div"),m=v(),f=c("div"),p=C(r),_=C(" kWh"),u(n,"class","col-span-2"),u(f,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(b,d){$(b,e,d),s(e,l),s(l,n),Q(i,n,null),s(l,o),s(l,a),s(l,m),s(l,f),s(f,p),s(f,_),h=!0},p(b,d){const g={};d&1&&(g.val=b[0].e?b[0].e:0),d&1&&(g.max=b[0].om?b[0].om*1e3:1e4),i.$set(g),(!h||d&1)&&r!==(r=(b[0].ec?b[0].ec.toFixed(1):"-")+"")&&B(p,r)},i(b){h||(D(i.$$.fragment,b),h=!0)},o(b){N(i.$$.fragment,b),h=!1},d(b){b&&y(e),X(i)}}}function Ta(t){let e,l,n;return l=new Qm({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,ds:t[0].ds}}),{c(){e=c("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const a={};o&1&&(a.u1=i[0].u1),o&1&&(a.u2=i[0].u2),o&1&&(a.u3=i[0].u3),o&1&&(a.ds=i[0].ds),l.$set(a)},i(i){n||(D(l.$$.fragment,i),n=!0)},o(i){N(l.$$.fragment,i),n=!1},d(i){i&&y(e),X(l)}}}function Pa(t){let e,l,n;return l=new Jm({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,i1:t[0].i1,i2:t[0].i2,i3:t[0].i3,max:t[0].mf?t[0].mf:32}}),{c(){e=c("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const a={};o&1&&(a.u1=i[0].u1),o&1&&(a.u2=i[0].u2),o&1&&(a.u3=i[0].u3),o&1&&(a.i1=i[0].i1),o&1&&(a.i2=i[0].i2),o&1&&(a.i3=i[0].i3),o&1&&(a.max=i[0].mf?i[0].mf:32),l.$set(a)},i(i){n||(D(l.$$.fragment,i),n=!0)},o(i){N(l.$$.fragment,i),n=!1},d(i){i&&y(e),X(l)}}}function Ma(t){let e,l,n;return l=new tp({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec}}),{c(){e=c("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const a={};o&1&&(a.importInstant=i[0].ri),o&1&&(a.exportInstant=i[0].re),o&1&&(a.importTotal=i[0].ric),o&1&&(a.exportTotal=i[0].rec),l.$set(a)},i(i){n||(D(l.$$.fragment,i),n=!0)},o(i){N(l.$$.fragment,i),n=!1},d(i){i&&y(e),X(l)}}}function Da(t){let e,l,n;return l=new op({props:{data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0}}),{c(){e=c("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const a={};o&1&&(a.data=i[0].ea),o&1&&(a.currency=i[0].pc),o&1&&(a.hasExport=i[0].om>0||i[0].e>0),l.$set(a)},i(i){n||(D(l.$$.fragment,i),n=!0)},o(i){N(l.$$.fragment,i),n=!1},d(i){i&&y(e),X(l)}}}function Aa(t){let e,l,n;return l=new yp({}),{c(){e=c("div"),Z(l.$$.fragment),u(e,"class","cnt h-64")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},i(i){n||(D(l.$$.fragment,i),n=!0)},o(i){N(l.$$.fragment,i),n=!1},d(i){i&&y(e),X(l)}}}function Ea(t){let e,l,n;return l=new ap({props:{json:t[2]}}),{c(){e=c("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const a={};o&4&&(a.json=i[2]),l.$set(a)},i(i){n||(D(l.$$.fragment,i),n=!0)},o(i){N(l.$$.fragment,i),n=!1},d(i){i&&y(e),X(l)}}}function Na(t){let e,l,n;return l=new mp({props:{json:t[3]}}),{c(){e=c("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const a={};o&8&&(a.json=i[3]),l.$set(a)},i(i){n||(D(l.$$.fragment,i),n=!0)},o(i){N(l.$$.fragment,i),n=!1},d(i){i&&y(e),X(l)}}}function Ia(t){let e,l,n;return l=new dp({props:{json:t[4]}}),{c(){e=c("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const a={};o&16&&(a.json=i[4]),l.$set(a)},i(i){n||(D(l.$$.fragment,i),n=!0)},o(i){N(l.$$.fragment,i),n=!1},d(i){i&&y(e),X(l)}}}function Ra(t){let e,l,n;return l=new bp({props:{json:t[5]}}),{c(){e=c("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const a={};o&32&&(a.json=i[5]),l.$set(a)},i(i){n||(D(l.$$.fragment,i),n=!0)},o(i){N(l.$$.fragment,i),n=!1},d(i){i&&y(e),X(l)}}}function $p(t){let e,l=Ge(t[1].ui.i,t[0].i),n,i=Ge(t[1].ui.e,t[0].om||t[0].e>0),o,a=Ge(t[1].ui.v,t[0].u1>100||t[0].u2>100||t[0].u3>100),m,f=Ge(t[1].ui.a,t[0].i1>.01||t[0].i2>.01||t[0].i3>.01),r,p=Ge(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),_,h=Ge(t[1].ui.c,t[0].ea),b,d=Ge(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("10YNO")||t[0].pr=="10Y1001A1001A48H")),g,w=Ge(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),k,S=Ge(t[1].ui.d,t[3]),M,I=Ge(t[1].ui.m,t[4]),T,A=Ge(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),R,F=l&&Ca(t),G=i&&Sa(t),L=a&&Ta(t),E=f&&Pa(t),O=p&&Ma(t),j=h&&Da(t),U=d&&Aa(),q=w&&Ea(t),W=S&&Na(t),H=I&&Ia(t),V=A&&Ra(t);return{c(){e=c("div"),F&&F.c(),n=v(),G&&G.c(),o=v(),L&&L.c(),m=v(),E&&E.c(),r=v(),O&&O.c(),_=v(),j&&j.c(),b=v(),U&&U.c(),g=v(),q&&q.c(),k=v(),W&&W.c(),M=v(),H&&H.c(),T=v(),V&&V.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(J,ie){$(J,e,ie),F&&F.m(e,null),s(e,n),G&&G.m(e,null),s(e,o),L&&L.m(e,null),s(e,m),E&&E.m(e,null),s(e,r),O&&O.m(e,null),s(e,_),j&&j.m(e,null),s(e,b),U&&U.m(e,null),s(e,g),q&&q.m(e,null),s(e,k),W&&W.m(e,null),s(e,M),H&&H.m(e,null),s(e,T),V&&V.m(e,null),R=!0},p(J,[ie]){ie&3&&(l=Ge(J[1].ui.i,J[0].i)),l?F?(F.p(J,ie),ie&3&&D(F,1)):(F=Ca(J),F.c(),D(F,1),F.m(e,n)):F&&(Se(),N(F,1,1,()=>{F=null}),Te()),ie&3&&(i=Ge(J[1].ui.e,J[0].om||J[0].e>0)),i?G?(G.p(J,ie),ie&3&&D(G,1)):(G=Sa(J),G.c(),D(G,1),G.m(e,o)):G&&(Se(),N(G,1,1,()=>{G=null}),Te()),ie&3&&(a=Ge(J[1].ui.v,J[0].u1>100||J[0].u2>100||J[0].u3>100)),a?L?(L.p(J,ie),ie&3&&D(L,1)):(L=Ta(J),L.c(),D(L,1),L.m(e,m)):L&&(Se(),N(L,1,1,()=>{L=null}),Te()),ie&3&&(f=Ge(J[1].ui.a,J[0].i1>.01||J[0].i2>.01||J[0].i3>.01)),f?E?(E.p(J,ie),ie&3&&D(E,1)):(E=Pa(J),E.c(),D(E,1),E.m(e,r)):E&&(Se(),N(E,1,1,()=>{E=null}),Te()),ie&3&&(p=Ge(J[1].ui.r,J[0].ri>0||J[0].re>0||J[0].ric>0||J[0].rec>0)),p?O?(O.p(J,ie),ie&3&&D(O,1)):(O=Ma(J),O.c(),D(O,1),O.m(e,_)):O&&(Se(),N(O,1,1,()=>{O=null}),Te()),ie&3&&(h=Ge(J[1].ui.c,J[0].ea)),h?j?(j.p(J,ie),ie&3&&D(j,1)):(j=Da(J),j.c(),D(j,1),j.m(e,b)):j&&(Se(),N(j,1,1,()=>{j=null}),Te()),ie&3&&(d=Ge(J[1].ui.t,J[0].pr&&(J[0].pr.startsWith("10YNO")||J[0].pr=="10Y1001A1001A48H"))),d?U?ie&3&&D(U,1):(U=Aa(),U.c(),D(U,1),U.m(e,g)):U&&(Se(),N(U,1,1,()=>{U=null}),Te()),ie&3&&(w=Ge(J[1].ui.p,J[0].pe&&!Number.isNaN(J[0].p))),w?q?(q.p(J,ie),ie&3&&D(q,1)):(q=Ea(J),q.c(),D(q,1),q.m(e,k)):q&&(Se(),N(q,1,1,()=>{q=null}),Te()),ie&10&&(S=Ge(J[1].ui.d,J[3])),S?W?(W.p(J,ie),ie&10&&D(W,1)):(W=Na(J),W.c(),D(W,1),W.m(e,M)):W&&(Se(),N(W,1,1,()=>{W=null}),Te()),ie&18&&(I=Ge(J[1].ui.m,J[4])),I?H?(H.p(J,ie),ie&18&&D(H,1)):(H=Ia(J),H.c(),D(H,1),H.m(e,T)):H&&(Se(),N(H,1,1,()=>{H=null}),Te()),ie&35&&(A=Ge(J[1].ui.s,J[0].t&&J[0].t!=-127&&J[5].c>1)),A?V?(V.p(J,ie),ie&35&&D(V,1)):(V=Ra(J),V.c(),D(V,1),V.m(e,null)):V&&(Se(),N(V,1,1,()=>{V=null}),Te())},i(J){R||(D(F),D(G),D(L),D(E),D(O),D(j),D(U),D(q),D(W),D(H),D(V),R=!0)},o(J){N(F),N(G),N(L),N(E),N(O),N(j),N(U),N(q),N(W),N(H),N(V),R=!1},d(J){J&&y(e),F&&F.d(),G&&G.d(),L&&L.d(),E&&E.d(),O&&O.d(),j&&j.d(),U&&U.d(),q&&q.d(),W&&W.d(),H&&H.d(),V&&V.d()}}}function Cp(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,o={},a={},m={},f={};return gc.subscribe(r=>{l(2,o=r)}),kc.subscribe(r=>{l(3,a=r)}),wc.subscribe(r=>{l(4,m=r)}),$c.subscribe(r=>{l(5,f=r)}),t.$$set=r=>{"data"in r&&l(0,n=r.data),"sysinfo"in r&&l(1,i=r.sysinfo)},[n,i,o,a,m,f]}class Sp extends $e{constructor(e){super(),ye(this,e,Cp,$p,ke,{data:0,sysinfo:1})}}let oo={};const Ec=xe(oo);async function Tp(){oo=await(await fetch("/configuration.json")).json(),Ec.set(oo)}function Fa(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function Pp(t){let e;return{c(){e=c("option"),e.textContent="UART0",e.__value=3,e.value=e.__value},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function Mp(t){let e;return{c(){e=c("option"),e.textContent="UART0",e.__value=20,e.value=e.__value},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function La(t){let e;return{c(){e=c("option"),e.textContent="UART2",e.__value=113,e.value=e.__value},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function Oa(t){let e,l,n;return{c(){e=c("option"),e.textContent="UART1",l=v(),n=c("option"),n.textContent="UART2",e.__value=9,e.value=e.__value,n.__value=16,n.value=n.__value},m(i,o){$(i,e,o),$(i,l,o),$(i,n,o)},d(i){i&&y(e),i&&y(l),i&&y(n)}}}function qa(t){let e;return{c(){e=c("option"),e.textContent="UART1",e.__value=18,e.value=e.__value},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function Ua(t){let e,l,n;return{c(){e=c("option"),l=C("GPIO"),n=C(t[4]),e.__value=t[4],e.value=e.__value},m(i,o){$(i,e,o),s(e,l),s(e,n)},d(i){i&&y(e)}}}function Ha(t){let e,l=t[4]>3&&!(t[0]=="esp32"&&(t[4]==9||t[4]==16))&&!(t[0]=="esp32s2"&&t[4]==18)&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&Ua(t);return{c(){l&&l.c(),e=Be()},m(n,i){l&&l.m(n,i),$(n,e,i)},p(n,i){n[4]>3&&!(n[0]=="esp32"&&(n[4]==9||n[4]==16))&&!(n[0]=="esp32s2"&&n[4]==18)&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=Ua(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){l&&l.d(n),n&&y(e)}}}function Dp(t){let e,l,n,i,o;function a(d,g){return d[0]=="esp32c3"?Mp:Pp}let m=a(t),f=m(t),r=t[0]=="esp8266"&&La(),p=(t[0]=="esp32"||t[0]=="esp32solo")&&Oa(),_=t[0]=="esp32s2"&&qa(),h={length:t[1]+1},b=[];for(let d=0;d<h.length;d+=1)b[d]=Ha(Fa(t,h,d));return{c(){f.c(),e=v(),r&&r.c(),l=v(),p&&p.c(),n=v(),_&&_.c(),i=v();for(let d=0;d<b.length;d+=1)b[d].c();o=Be()},m(d,g){f.m(d,g),$(d,e,g),r&&r.m(d,g),$(d,l,g),p&&p.m(d,g),$(d,n,g),_&&_.m(d,g),$(d,i,g);for(let w=0;w<b.length;w+=1)b[w]&&b[w].m(d,g);$(d,o,g)},p(d,[g]){if(m!==(m=a(d))&&(f.d(1),f=m(d),f&&(f.c(),f.m(e.parentNode,e))),d[0]=="esp8266"?r||(r=La(),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null),d[0]=="esp32"||d[0]=="esp32solo"?p||(p=Oa(),p.c(),p.m(n.parentNode,n)):p&&(p.d(1),p=null),d[0]=="esp32s2"?_||(_=qa(),_.c(),_.m(i.parentNode,i)):_&&(_.d(1),_=null),g&3){h={length:d[1]+1};let w;for(w=0;w<h.length;w+=1){const k=Fa(d,h,w);b[w]?b[w].p(k,g):(b[w]=Ha(k),b[w].c(),b[w].m(o.parentNode,o))}for(;w<b.length;w+=1)b[w].d(1);b.length=h.length}},i:ne,o:ne,d(d){f.d(d),d&&y(e),r&&r.d(d),d&&y(l),p&&p.d(d),d&&y(n),_&&_.d(d),d&&y(i),Ht(b,d),d&&y(o)}}}function Ap(t,e,l){let{chip:n}=e,i=39;return t.$$set=o=>{"chip"in o&&l(0,n=o.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32c3":l(1,i=19);break}},[n,i]}class Nc extends $e{constructor(e){super(),ye(this,e,Ap,Dp,ke,{chip:0})}}function ja(t){let e,l,n=t[1]&&Wa(t);return{c(){e=c("div"),l=c("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,o){$(i,e,o),s(e,l),n&&n.m(l,null)},p(i,o){i[1]?n?n.p(i,o):(n=Wa(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&y(e),n&&n.d()}}}function Wa(t){let e,l;return{c(){e=c("div"),l=C(t[1]),u(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(n,i){$(n,e,i),s(e,l)},p(n,i){i&2&&B(l,n[1])},d(n){n&&y(e)}}}function Ep(t){let e,l=t[0]&&ja(t);return{c(){l&&l.c(),e=Be()},m(n,i){l&&l.m(n,i),$(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=ja(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ne,o:ne,d(n){l&&l.d(n),n&&y(e)}}}function Np(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=o=>{"active"in o&&l(0,n=o.active),"message"in o&&l(1,i=o.message)},[n,i]}class yt extends $e{constructor(e){super(),ye(this,e,Np,Ep,ke,{active:0,message:1})}}function Ga(t,e,l){const n=t.slice();return n[1]=e[l],n}function Ba(t){let e,l,n=t[1]+"",i;return{c(){e=c("option"),l=C("Europe/"),i=C(n),e.__value="Europe/"+t[1],e.value=e.__value},m(o,a){$(o,e,a),s(e,l),s(e,i)},p:ne,d(o){o&&y(e)}}}function Ip(t){let e,l,n,i=t[0],o=[];for(let a=0;a<i.length;a+=1)o[a]=Ba(Ga(t,i,a));return{c(){e=c("option"),e.textContent="GMT",l=v();for(let a=0;a<o.length;a+=1)o[a].c();n=Be(),e.__value="GMT",e.value=e.__value},m(a,m){$(a,e,m),$(a,l,m);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(a,m);$(a,n,m)},p(a,[m]){if(m&1){i=a[0];let f;for(f=0;f<i.length;f+=1){const r=Ga(a,i,f);o[f]?o[f].p(r,m):(o[f]=Ba(r),o[f].c(),o[f].m(n.parentNode,n))}for(;f<o.length;f+=1)o[f].d(1);o.length=i.length}},i:ne,o:ne,d(a){a&&y(e),a&&y(l),Ht(o,a),a&&y(n)}}}function Rp(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class Fp extends $e{constructor(e){super(),ye(this,e,Rp,Ip,ke,{})}}function Lp(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d;return{c(){e=c("optgroup"),l=c("option"),l.textContent="/24",n=v(),i=c("optgroup"),o=c("option"),o.textContent="/25",a=c("option"),a.textContent="/26",m=c("option"),m.textContent="/27",f=c("option"),f.textContent="/28",r=c("option"),r.textContent="/29",p=v(),_=c("optgroup"),h=c("option"),h.textContent="/23",b=c("option"),b.textContent="/22",d=c("option"),d.textContent="/16",l.__value="255.255.255.0",l.value=l.__value,u(e,"label","Most common is /24 (255.255.255.0)"),o.__value="255.255.255.128",o.value=o.__value,a.__value="255.255.255.192",a.value=a.__value,m.__value="255.255.255.224",m.value=m.__value,f.__value="255.255.255.240",f.value=f.__value,r.__value="255.255.255.248",r.value=r.__value,u(i,"label","Smaller subnets"),h.__value="255.255.254.0",h.value=h.__value,b.__value="255.255.252.0",b.value=b.__value,d.__value="255.255.0.0",d.value=d.__value,u(_,"label","Larger subnets")},m(g,w){$(g,e,w),s(e,l),$(g,n,w),$(g,i,w),s(i,o),s(i,a),s(i,m),s(i,f),s(i,r),$(g,p,w),$(g,_,w),s(_,h),s(_,b),s(_,d)},p:ne,i:ne,o:ne,d(g){g&&y(e),g&&y(n),g&&y(i),g&&y(p),g&&y(_)}}}class Ic extends $e{constructor(e){super(),ye(this,e,null,Lp,ke,{})}}function Ya(t,e,l){const n=t.slice();return n[93]=e[l],n}function za(t,e,l){const n=t.slice();return n[96]=e[l],n[97]=e,n[98]=l,n}function Va(t,e,l){const n=t.slice();return n[99]=e[l],n[100]=e,n[101]=l,n}function Op(t,e,l){const n=t.slice();return n[102]=e[l],n}function qp(t,e,l){const n=t.slice();return n[105]=e[l],n}function Up(t){let e,l;return{c(){e=c("option"),l=C(t[105]),e.__value=t[105],e.value=e.__value},m(n,i){$(n,e,i),s(e,l)},p:ne,d(n){n&&y(e)}}}function Ka(t){let e,l,n,i;return{c(){e=c("br"),l=c("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder","ENTSO-E API key, optional, read docs")},m(o,a){$(o,e,a),$(o,l,a),Y(l,t[4].p.t),n||(i=z(l,"input",t[21]),n=!0)},p(o,a){a[0]&16&&l.value!==o[4].p.t&&Y(l,o[4].p.t)},d(o){o&&y(e),o&&y(l),n=!1,i()}}}function Qa(t){let e,l,n,i,o,a,m,f,r,p,_,h,b;return{c(){e=c("div"),l=C("Username"),n=c("br"),i=v(),o=c("input"),a=v(),m=c("div"),f=C("Password"),r=c("br"),p=v(),_=c("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1"),u(_,"name","gp"),u(_,"type","password"),u(_,"class","in-s"),u(m,"class","my-1")},m(d,g){$(d,e,g),s(e,l),s(e,n),s(e,i),s(e,o),Y(o,t[4].g.u),$(d,a,g),$(d,m,g),s(m,f),s(m,r),s(m,p),s(m,_),Y(_,t[4].g.p),h||(b=[z(o,"input",t[23]),z(_,"input",t[24])],h=!0)},p(d,g){g[0]&16&&o.value!==d[4].g.u&&Y(o,d[4].g.u),g[0]&16&&_.value!==d[4].g.p&&Y(_,d[4].g.p)},d(d){d&&y(e),d&&y(a),d&&y(m),h=!1,ze(b)}}}function Hp(t){let e,l=t[102]*100+"",n;return{c(){e=c("option"),n=C(l),e.__value=t[102]*100,e.value=e.__value},m(i,o){$(i,e,o),s(e,n)},p:ne,d(i){i&&y(e)}}}function Xa(t){let e,l,n,i;return{c(){e=c("br"),l=c("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s")},m(o,a){$(o,e,a),$(o,l,a),Y(l,t[4].m.e.k),n||(i=z(l,"input",t[32]),n=!0)},p(o,a){a[0]&16&&l.value!==o[4].m.e.k&&Y(l,o[4].m.e.k)},d(o){o&&y(e),o&&y(l),n=!1,i()}}}function Za(t){let e,l,n,i,o,a,m;return{c(){e=c("div"),l=C("Authentication key"),n=c("br"),i=v(),o=c("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1")},m(f,r){$(f,e,r),s(e,l),s(e,n),s(e,i),s(e,o),Y(o,t[4].m.e.a),a||(m=z(o,"input",t[33]),a=!0)},p(f,r){r[0]&16&&o.value!==f[4].m.e.a&&Y(o,f[4].m.e.a)},d(f){f&&y(e),a=!1,m()}}}function Ja(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k,S,M,I,T,A,R,F,G,L;return{c(){e=c("div"),l=c("div"),n=C("Watt"),i=c("br"),o=v(),a=c("input"),m=v(),f=c("div"),r=C("Volt"),p=c("br"),_=v(),h=c("input"),b=v(),d=c("div"),g=C("Amp"),w=c("br"),k=v(),S=c("input"),M=v(),I=c("div"),T=C("kWh"),A=c("br"),R=v(),F=c("input"),u(a,"name","mmw"),u(a,"type","number"),u(a,"min","0.00"),u(a,"max","655.35"),u(a,"step","0.01"),u(a,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(h,"name","mmv"),u(h,"type","number"),u(h,"min","0.00"),u(h,"max","655.35"),u(h,"step","0.01"),u(h,"class","in-m tr w-full"),u(f,"class","w-1/4"),u(S,"name","mma"),u(S,"type","number"),u(S,"min","0.00"),u(S,"max","655.35"),u(S,"step","0.01"),u(S,"class","in-m tr w-full"),u(d,"class","w-1/4"),u(F,"name","mmc"),u(F,"type","number"),u(F,"min","0.00"),u(F,"max","655.35"),u(F,"step","0.01"),u(F,"class","in-l tr w-full"),u(I,"class","w-1/4"),u(e,"class","flex my-1")},m(E,O){$(E,e,O),s(e,l),s(l,n),s(l,i),s(l,o),s(l,a),Y(a,t[4].m.m.w),s(e,m),s(e,f),s(f,r),s(f,p),s(f,_),s(f,h),Y(h,t[4].m.m.v),s(e,b),s(e,d),s(d,g),s(d,w),s(d,k),s(d,S),Y(S,t[4].m.m.a),s(e,M),s(e,I),s(I,T),s(I,A),s(I,R),s(I,F),Y(F,t[4].m.m.c),G||(L=[z(a,"input",t[35]),z(h,"input",t[36]),z(S,"input",t[37]),z(F,"input",t[38])],G=!0)},p(E,O){O[0]&16&&ae(a.value)!==E[4].m.m.w&&Y(a,E[4].m.m.w),O[0]&16&&ae(h.value)!==E[4].m.m.v&&Y(h,E[4].m.m.v),O[0]&16&&ae(S.value)!==E[4].m.m.a&&Y(S,E[4].m.m.a),O[0]&16&&ae(F.value)!==E[4].m.m.c&&Y(F,E[4].m.m.c)},d(E){E&&y(e),G=!1,ze(L)}}}function xa(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w;return{c(){e=c("div"),l=C("Gateway"),n=c("br"),i=v(),o=c("input"),a=v(),m=c("div"),f=C("DNS"),r=c("br"),p=v(),_=c("div"),h=c("input"),b=v(),d=c("input"),u(o,"name","ng"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1"),u(h,"name","nd1"),u(h,"type","text"),u(h,"class","in-f w-full"),u(d,"name","nd2"),u(d,"type","text"),u(d,"class","in-l w-full"),u(_,"class","flex"),u(m,"class","my-1")},m(k,S){$(k,e,S),s(e,l),s(e,n),s(e,i),s(e,o),Y(o,t[4].n.g),$(k,a,S),$(k,m,S),s(m,f),s(m,r),s(m,p),s(m,_),s(_,h),Y(h,t[4].n.d1),s(_,b),s(_,d),Y(d,t[4].n.d2),g||(w=[z(o,"input",t[47]),z(h,"input",t[48]),z(d,"input",t[49])],g=!0)},p(k,S){S[0]&16&&o.value!==k[4].n.g&&Y(o,k[4].n.g),S[0]&16&&h.value!==k[4].n.d1&&Y(h,k[4].n.d1),S[0]&16&&d.value!==k[4].n.d2&&Y(d,k[4].n.d2)},d(k){k&&y(e),k&&y(a),k&&y(m),g=!1,ze(w)}}}function ef(t){let e,l,n,i,o;return{c(){e=c("label"),l=c("input"),n=C(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",l.value=l.__value,u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(a,m){$(a,e,m),s(e,l),l.checked=t[4].q.s.e,s(e,n),i||(o=[z(l,"change",t[53]),z(l,"change",t[13])],i=!0)},p(a,m){m[0]&16&&(l.checked=a[4].q.s.e)},d(a){a&&y(e),i=!1,ze(o)}}}function tf(t){let e,l,n,i,o,a,m,f;return n=new Sl({props:{to:"/mqtt-ca",$$slots:{default:[Gp]},$$scope:{ctx:t}}}),o=new Sl({props:{to:"/mqtt-cert",$$slots:{default:[zp]},$$scope:{ctx:t}}}),m=new Sl({props:{to:"/mqtt-key",$$slots:{default:[Qp]},$$scope:{ctx:t}}}),{c(){e=c("div"),l=c("div"),Z(n.$$.fragment),i=v(),Z(o.$$.fragment),a=v(),Z(m.$$.fragment),u(e,"class","my-1")},m(r,p){$(r,e,p),s(e,l),Q(n,l,null),s(l,i),Q(o,l,null),s(l,a),Q(m,l,null),f=!0},p(r,p){const _={};p[0]&16|p[3]&32768&&(_.$$scope={dirty:p,ctx:r}),n.$set(_);const h={};p[0]&16|p[3]&32768&&(h.$$scope={dirty:p,ctx:r}),o.$set(h);const b={};p[0]&16|p[3]&32768&&(b.$$scope={dirty:p,ctx:r}),m.$set(b)},i(r){f||(D(n.$$.fragment,r),D(o.$$.fragment,r),D(m.$$.fragment,r),f=!0)},o(r){N(n.$$.fragment,r),N(o.$$.fragment,r),N(m.$$.fragment,r),f=!1},d(r){r&&y(e),X(n),X(o),X(m)}}}function jp(t){let e,l;return e=new Xt({props:{color:"blue",text:"Upload CA",title:"Click here to upload CA"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Wp(t){let e,l;return e=new Xt({props:{color:"green",text:"CA OK",title:"Click here to replace CA"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Gp(t){let e,l,n,i;const o=[Wp,jp],a=[];function m(f,r){return f[4].q.s.c?0:1}return e=m(t),l=a[e]=o[e](t),{c(){l.c(),n=Be()},m(f,r){a[e].m(f,r),$(f,n,r),i=!0},p(f,r){let p=e;e=m(f),e!==p&&(Se(),N(a[p],1,1,()=>{a[p]=null}),Te(),l=a[e],l||(l=a[e]=o[e](f),l.c()),D(l,1),l.m(n.parentNode,n))},i(f){i||(D(l),i=!0)},o(f){N(l),i=!1},d(f){a[e].d(f),f&&y(n)}}}function Bp(t){let e,l;return e=new Xt({props:{color:"blue",text:"Upload cert",title:"Click here to upload certificate"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Yp(t){let e,l;return e=new Xt({props:{color:"green",text:"Cert OK",title:"Click here to replace certificate"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function zp(t){let e,l,n,i;const o=[Yp,Bp],a=[];function m(f,r){return f[4].q.s.r?0:1}return e=m(t),l=a[e]=o[e](t),{c(){l.c(),n=Be()},m(f,r){a[e].m(f,r),$(f,n,r),i=!0},p(f,r){let p=e;e=m(f),e!==p&&(Se(),N(a[p],1,1,()=>{a[p]=null}),Te(),l=a[e],l||(l=a[e]=o[e](f),l.c()),D(l,1),l.m(n.parentNode,n))},i(f){i||(D(l),i=!0)},o(f){N(l),i=!1},d(f){a[e].d(f),f&&y(n)}}}function Vp(t){let e,l;return e=new Xt({props:{color:"blue",text:"Upload key",title:"Click here to upload key"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Kp(t){let e,l;return e=new Xt({props:{color:"green",text:"Key OK",title:"Click here to replace key"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Qp(t){let e,l,n,i;const o=[Kp,Vp],a=[];function m(f,r){return f[4].q.s.k?0:1}return e=m(t),l=a[e]=o[e](t),{c(){l.c(),n=Be()},m(f,r){a[e].m(f,r),$(f,n,r),i=!0},p(f,r){let p=e;e=m(f),e!==p&&(Se(),N(a[p],1,1,()=>{a[p]=null}),Te(),l=a[e],l||(l=a[e]=o[e](f),l.c()),D(l,1),l.m(n.parentNode,n))},i(f){i||(D(l),i=!0)},o(f){N(l),i=!1},d(f){a[e].d(f),f&&y(n)}}}function lf(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k,S,M,I,T,A,R,F,G,L,E,O,j,U,q,W;return o=new St({}),{c(){e=c("div"),l=c("strong"),l.textContent="Domoticz",n=v(),i=c("a"),Z(o.$$.fragment),a=v(),m=c("input"),f=v(),r=c("div"),p=c("div"),_=C("Electricity IDX"),h=c("br"),b=v(),d=c("input"),g=v(),w=c("div"),k=C("Current IDX"),S=c("br"),M=v(),I=c("input"),T=v(),A=c("div"),R=C(`Voltage IDX: L1, L2 & L3\r
                `),F=c("div"),G=c("input"),L=v(),E=c("input"),O=v(),j=c("input"),u(l,"class","text-sm"),u(i,"href",Tt("MQTT-configuration#domoticz")),u(i,"target","_blank"),u(i,"class","float-right"),u(m,"type","hidden"),u(m,"name","o"),m.value="true",u(d,"name","oe"),u(d,"type","text"),u(d,"class","in-f tr w-full"),u(p,"class","w-1/2"),u(I,"name","oc"),u(I,"type","text"),u(I,"class","in-l tr w-full"),u(w,"class","w-1/2"),u(r,"class","my-1 flex"),u(G,"name","ou1"),u(G,"type","text"),u(G,"class","in-f tr w-1/3"),u(E,"name","ou2"),u(E,"type","text"),u(E,"class","in-m tr w-1/3"),u(j,"name","ou3"),u(j,"type","text"),u(j,"class","in-l tr w-1/3"),u(F,"class","flex"),u(A,"class","my-1"),u(e,"class","cnt")},m(H,V){$(H,e,V),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,a),s(e,m),s(e,f),s(e,r),s(r,p),s(p,_),s(p,h),s(p,b),s(p,d),Y(d,t[4].o.e),s(r,g),s(r,w),s(w,k),s(w,S),s(w,M),s(w,I),Y(I,t[4].o.c),s(e,T),s(e,A),s(A,R),s(A,F),s(F,G),Y(G,t[4].o.u1),s(F,L),s(F,E),Y(E,t[4].o.u2),s(F,O),s(F,j),Y(j,t[4].o.u3),U=!0,q||(W=[z(d,"input",t[61]),z(I,"input",t[62]),z(G,"input",t[63]),z(E,"input",t[64]),z(j,"input",t[65])],q=!0)},p(H,V){V[0]&16&&d.value!==H[4].o.e&&Y(d,H[4].o.e),V[0]&16&&I.value!==H[4].o.c&&Y(I,H[4].o.c),V[0]&16&&G.value!==H[4].o.u1&&Y(G,H[4].o.u1),V[0]&16&&E.value!==H[4].o.u2&&Y(E,H[4].o.u2),V[0]&16&&j.value!==H[4].o.u3&&Y(j,H[4].o.u3)},i(H){U||(D(o.$$.fragment,H),U=!0)},o(H){N(o.$$.fragment,H),U=!1},d(H){H&&y(e),X(o),q=!1,ze(W)}}}function nf(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k,S,M,I,T,A,R,F,G,L,E,O,j;return o=new St({}),{c(){e=c("div"),l=c("strong"),l.textContent="Home-Assistant",n=v(),i=c("a"),Z(o.$$.fragment),a=v(),m=c("input"),f=v(),r=c("div"),p=C("Discovery topic prefix"),_=c("br"),h=v(),b=c("input"),d=v(),g=c("div"),w=C("Hostname for URL"),k=c("br"),S=v(),M=c("input"),T=v(),A=c("div"),R=C("Name tag"),F=c("br"),G=v(),L=c("input"),u(l,"class","text-sm"),u(i,"href",Tt("MQTT-configuration#home-assistant")),u(i,"target","_blank"),u(i,"class","float-right"),u(m,"type","hidden"),u(m,"name","h"),m.value="true",u(b,"name","ht"),u(b,"type","text"),u(b,"class","in-s"),u(b,"placeholder","homeassistant"),u(r,"class","my-1"),u(M,"name","hh"),u(M,"type","text"),u(M,"class","in-s"),u(M,"placeholder",I=t[4].g.h+".local"),u(g,"class","my-1"),u(L,"name","hn"),u(L,"type","text"),u(L,"class","in-s"),u(A,"class","my-1"),u(e,"class","cnt")},m(U,q){$(U,e,q),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,a),s(e,m),s(e,f),s(e,r),s(r,p),s(r,_),s(r,h),s(r,b),Y(b,t[4].h.t),s(e,d),s(e,g),s(g,w),s(g,k),s(g,S),s(g,M),Y(M,t[4].h.h),s(e,T),s(e,A),s(A,R),s(A,F),s(A,G),s(A,L),Y(L,t[4].h.n),E=!0,O||(j=[z(b,"input",t[66]),z(M,"input",t[67]),z(L,"input",t[68])],O=!0)},p(U,q){q[0]&16&&b.value!==U[4].h.t&&Y(b,U[4].h.t),(!E||q[0]&16&&I!==(I=U[4].g.h+".local"))&&u(M,"placeholder",I),q[0]&16&&M.value!==U[4].h.h&&Y(M,U[4].h.h),q[0]&16&&L.value!==U[4].h.n&&Y(L,U[4].h.n)},i(U){E||(D(o.$$.fragment,U),E=!0)},o(U){N(o.$$.fragment,U),E=!1},d(U){U&&y(e),X(o),O=!1,ze(j)}}}function sf(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k,S,M;o=new St({});let I={length:9},T=[];for(let A=0;A<I.length;A+=1)T[A]=of(Va(t,I,A));return{c(){e=c("div"),l=c("strong"),l.textContent="Tariff thresholds",n=v(),i=c("a"),Z(o.$$.fragment),a=v(),m=c("input"),f=v(),r=c("div");for(let A=0;A<T.length;A+=1)T[A].c();p=v(),_=c("label"),h=c("span"),h.textContent="Average of",b=v(),d=c("input"),g=v(),w=c("span"),w.textContent="hours",u(l,"class","text-sm"),u(i,"href",Tt("Threshold-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(m,"type","hidden"),u(m,"name","t"),m.value="true",u(r,"class","flex flex-wrap my-1"),u(h,"class","in-pre"),u(d,"name","th"),u(d,"type","number"),u(d,"min","0"),u(d,"max","255"),u(d,"class","in-txt tr w-full"),u(w,"class","in-post"),u(_,"class","flex m-1"),u(e,"class","cnt")},m(A,R){$(A,e,R),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,a),s(e,m),s(e,f),s(e,r);for(let F=0;F<T.length;F+=1)T[F]&&T[F].m(r,null);s(e,p),s(e,_),s(_,h),s(_,b),s(_,d),Y(d,t[4].t.h),s(_,g),s(_,w),k=!0,S||(M=z(d,"input",t[70]),S=!0)},p(A,R){if(R[0]&16){I={length:9};let F;for(F=0;F<I.length;F+=1){const G=Va(A,I,F);T[F]?T[F].p(G,R):(T[F]=of(G),T[F].c(),T[F].m(r,null))}for(;F<T.length;F+=1)T[F].d(1);T.length=I.length}R[0]&16&&ae(d.value)!==A[4].t.h&&Y(d,A[4].t.h)},i(A){k||(D(o.$$.fragment,A),k=!0)},o(A){N(o.$$.fragment,A),k=!1},d(A){A&&y(e),X(o),Ht(T,A),S=!1,M()}}}function of(t){let e,l,n=t[101]+1+"",i,o,a,m,f,r,p,_;function h(){t[69].call(a,t[101])}return{c(){e=c("label"),l=c("span"),i=C(n),o=v(),a=c("input"),m=v(),f=c("span"),f.textContent="kWh",r=v(),u(l,"class","in-pre"),u(a,"name","t"+t[101]),u(a,"type","number"),u(a,"min","0"),u(a,"max","65535"),u(a,"class","in-txt w-full"),u(f,"class","in-post"),u(e,"class","flex w-40 m-1")},m(b,d){$(b,e,d),s(e,l),s(l,i),s(e,o),s(e,a),Y(a,t[4].t.t[t[101]]),s(e,m),s(e,f),s(e,r),p||(_=z(a,"input",h),p=!0)},p(b,d){t=b,d[0]&16&&ae(a.value)!==t[4].t.t[t[101]]&&Y(a,t[4].t.t[t[101]])},d(b){b&&y(e),p=!1,_()}}}function uf(t){let e,l=t[96].name+"",n,i,o,a,m,f,r,p,_;function h(){t[71].call(a,t[96])}return{c(){e=c("div"),n=C(l),i=c("br"),o=v(),a=c("select"),m=c("option"),m.textContent="Hide",f=c("option"),f.textContent="Show",r=c("option"),r.textContent="Dynamic",m.__value=0,m.value=m.__value,f.__value=1,f.value=f.__value,r.__value=2,r.value=r.__value,u(a,"name","u"+t[96].key),u(a,"class","in-s"),t[4].u[t[96].key]===void 0&&Ve(h),u(e,"class","w-1/2")},m(b,d){$(b,e,d),s(e,n),s(e,i),s(e,o),s(e,a),s(a,m),s(a,f),s(a,r),Ne(a,t[4].u[t[96].key],!0),p||(_=z(a,"change",h),p=!0)},p(b,d){t=b,d[0]&528&&Ne(a,t[4].u[t[96].key])},d(b){b&&y(e),p=!1,_()}}}function rf(t){let e,l=t[93]+"",n;return{c(){e=c("option"),n=C(l),e.__value=t[93],e.value=e.__value},m(i,o){$(i,e,o),s(e,n)},p:ne,d(i){i&&y(e)}}}function af(t){let e,l,n,i,o,a,m,f;o=new St({});let r=t[0].board>20&&ff(t),p=t[0].chip=="esp8266"&&pf(t);return{c(){e=c("div"),l=c("strong"),l.textContent="Hardware",n=v(),i=c("a"),Z(o.$$.fragment),a=v(),r&&r.c(),m=v(),p&&p.c(),u(l,"class","text-sm"),u(i,"href",Tt("GPIO-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(e,"class","cnt")},m(_,h){$(_,e,h),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,a),r&&r.m(e,null),s(e,m),p&&p.m(e,null),f=!0},p(_,h){_[0].board>20?r?(r.p(_,h),h[0]&1&&D(r,1)):(r=ff(_),r.c(),D(r,1),r.m(e,m)):r&&(Se(),N(r,1,1,()=>{r=null}),Te()),_[0].chip=="esp8266"?p?p.p(_,h):(p=pf(_),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i(_){f||(D(o.$$.fragment,_),D(r),f=!0)},o(_){N(o.$$.fragment,_),N(r),f=!1},d(_){_&&y(e),X(o),r&&r.d(),p&&p.d()}}}function ff(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k,S,M,I,T,A,R,F,G,L,E,O,j,U,q,W,H,V,J,ie,le,pe,Pe,we,Fe,Ce,Le,_e,Me,Ie,ce,se,me,K,re,De,Ee,de,ee,oe,ve,Ae,Oe;h=new Nc({props:{chip:t[0].chip}});let he=t[0].chip!="esp8266"&&cf(t),be=t[4].i.v.p>0&&mf(t);return{c(){e=c("input"),l=v(),n=c("div"),i=c("div"),o=C("HAN"),a=c("label"),m=c("input"),f=C(" pullup"),r=c("br"),p=v(),_=c("select"),Z(h.$$.fragment),b=v(),d=c("div"),g=C("AP button"),w=c("br"),k=v(),S=c("input"),M=v(),I=c("div"),T=C("LED"),A=c("label"),R=c("input"),F=C(" inv"),G=c("br"),L=v(),E=c("div"),O=c("input"),j=v(),U=c("div"),q=C("RGB"),W=c("label"),H=c("input"),V=C(" inverted"),J=c("br"),ie=v(),le=c("div"),pe=c("input"),Pe=v(),we=c("input"),Fe=v(),Ce=c("input"),Le=v(),_e=c("div"),Me=C("Temperature"),Ie=c("br"),ce=v(),se=c("input"),me=v(),K=c("div"),re=C("Analog temp"),De=c("br"),Ee=v(),de=c("input"),ee=v(),he&&he.c(),oe=v(),be&&be.c(),u(e,"type","hidden"),u(e,"name","i"),e.value="true",u(m,"name","ihu"),m.__value="true",m.value=m.__value,u(m,"type","checkbox"),u(m,"class","rounded mb-1"),u(a,"class","ml-2"),u(_,"name","ihp"),u(_,"class","in-f w-full"),t[4].i.h.p===void 0&&Ve(()=>t[74].call(_)),u(i,"class","w-1/3"),u(S,"name","ia"),u(S,"type","number"),u(S,"min","0"),u(S,"max",t[7]),u(S,"class","in-m tr w-full"),u(d,"class","w-1/3"),u(R,"name","ili"),R.__value="true",R.value=R.__value,u(R,"type","checkbox"),u(R,"class","rounded mb-1"),u(A,"class","ml-4"),u(O,"name","ilp"),u(O,"type","number"),u(O,"min","0"),u(O,"max",t[7]),u(O,"class","in-l tr w-full"),u(E,"class","flex"),u(I,"class","w-1/3"),u(H,"name","iri"),H.__value="true",H.value=H.__value,u(H,"type","checkbox"),u(H,"class","rounded mb-1"),u(W,"class","ml-4"),u(pe,"name","irr"),u(pe,"type","number"),u(pe,"min","0"),u(pe,"max",t[7]),u(pe,"class","in-f tr w-1/3"),u(we,"name","irg"),u(we,"type","number"),u(we,"min","0"),u(we,"max",t[7]),u(we,"class","in-m tr w-1/3"),u(Ce,"name","irb"),u(Ce,"type","number"),u(Ce,"min","0"),u(Ce,"max",t[7]),u(Ce,"class","in-l tr w-1/3"),u(le,"class","flex"),u(U,"class","w-full"),u(se,"name","itd"),u(se,"type","number"),u(se,"min","0"),u(se,"max",t[7]),u(se,"class","in-f tr w-full"),u(_e,"class","my-1 w-1/3"),u(de,"name","ita"),u(de,"type","number"),u(de,"min","0"),u(de,"max",t[7]),u(de,"class","in-l tr w-full"),u(K,"class","my-1 pr-1 w-1/3"),u(n,"class","flex flex-wrap")},m(x,ue){$(x,e,ue),$(x,l,ue),$(x,n,ue),s(n,i),s(i,o),s(i,a),s(a,m),m.checked=t[4].i.h.u,s(a,f),s(i,r),s(i,p),s(i,_),Q(h,_,null),Ne(_,t[4].i.h.p,!0),s(n,b),s(n,d),s(d,g),s(d,w),s(d,k),s(d,S),Y(S,t[4].i.a),s(n,M),s(n,I),s(I,T),s(I,A),s(A,R),R.checked=t[4].i.l.i,s(A,F),s(I,G),s(I,L),s(I,E),s(E,O),Y(O,t[4].i.l.p),s(n,j),s(n,U),s(U,q),s(U,W),s(W,H),H.checked=t[4].i.r.i,s(W,V),s(U,J),s(U,ie),s(U,le),s(le,pe),Y(pe,t[4].i.r.r),s(le,Pe),s(le,we),Y(we,t[4].i.r.g),s(le,Fe),s(le,Ce),Y(Ce,t[4].i.r.b),s(n,Le),s(n,_e),s(_e,Me),s(_e,Ie),s(_e,ce),s(_e,se),Y(se,t[4].i.t.d),s(n,me),s(n,K),s(K,re),s(K,De),s(K,Ee),s(K,de),Y(de,t[4].i.t.a),s(n,ee),he&&he.m(n,null),s(n,oe),be&&be.m(n,null),ve=!0,Ae||(Oe=[z(m,"change",t[73]),z(_,"change",t[74]),z(S,"input",t[75]),z(R,"change",t[76]),z(O,"input",t[77]),z(H,"change",t[78]),z(pe,"input",t[79]),z(we,"input",t[80]),z(Ce,"input",t[81]),z(se,"input",t[82]),z(de,"input",t[83])],Ae=!0)},p(x,ue){ue[0]&16&&(m.checked=x[4].i.h.u);const Dl={};ue[0]&1&&(Dl.chip=x[0].chip),h.$set(Dl),ue[0]&16&&Ne(_,x[4].i.h.p),(!ve||ue[0]&128)&&u(S,"max",x[7]),ue[0]&16&&ae(S.value)!==x[4].i.a&&Y(S,x[4].i.a),ue[0]&16&&(R.checked=x[4].i.l.i),(!ve||ue[0]&128)&&u(O,"max",x[7]),ue[0]&16&&ae(O.value)!==x[4].i.l.p&&Y(O,x[4].i.l.p),ue[0]&16&&(H.checked=x[4].i.r.i),(!ve||ue[0]&128)&&u(pe,"max",x[7]),ue[0]&16&&ae(pe.value)!==x[4].i.r.r&&Y(pe,x[4].i.r.r),(!ve||ue[0]&128)&&u(we,"max",x[7]),ue[0]&16&&ae(we.value)!==x[4].i.r.g&&Y(we,x[4].i.r.g),(!ve||ue[0]&128)&&u(Ce,"max",x[7]),ue[0]&16&&ae(Ce.value)!==x[4].i.r.b&&Y(Ce,x[4].i.r.b),(!ve||ue[0]&128)&&u(se,"max",x[7]),ue[0]&16&&ae(se.value)!==x[4].i.t.d&&Y(se,x[4].i.t.d),(!ve||ue[0]&128)&&u(de,"max",x[7]),ue[0]&16&&ae(de.value)!==x[4].i.t.a&&Y(de,x[4].i.t.a),x[0].chip!="esp8266"?he?he.p(x,ue):(he=cf(x),he.c(),he.m(n,oe)):he&&(he.d(1),he=null),x[4].i.v.p>0?be?be.p(x,ue):(be=mf(x),be.c(),be.m(n,null)):be&&(be.d(1),be=null)},i(x){ve||(D(h.$$.fragment,x),ve=!0)},o(x){N(h.$$.fragment,x),ve=!1},d(x){x&&y(e),x&&y(l),x&&y(n),X(h),he&&he.d(),be&&be.d(),Ae=!1,ze(Oe)}}}function cf(t){let e,l,n,i,o,a,m;return{c(){e=c("div"),l=C("Vcc"),n=c("br"),i=v(),o=c("input"),u(o,"name","ivp"),u(o,"type","number"),u(o,"min","0"),u(o,"max",t[7]),u(o,"class","in-s tr w-full"),u(e,"class","my-1 pl-1 w-1/3")},m(f,r){$(f,e,r),s(e,l),s(e,n),s(e,i),s(e,o),Y(o,t[4].i.v.p),a||(m=z(o,"input",t[84]),a=!0)},p(f,r){r[0]&128&&u(o,"max",f[7]),r[0]&16&&ae(o.value)!==f[4].i.v.p&&Y(o,f[4].i.v.p)},d(f){f&&y(e),a=!1,m()}}}function mf(t){let e,l,n,i,o,a,m,f,r,p;return{c(){e=c("div"),l=C("Voltage divider"),n=c("br"),i=v(),o=c("div"),a=c("input"),m=v(),f=c("input"),u(a,"name","ivdv"),u(a,"type","number"),u(a,"min","0"),u(a,"max","65535"),u(a,"class","in-f tr w-full"),u(a,"placeholder","VCC"),u(f,"name","ivdg"),u(f,"type","number"),u(f,"min","0"),u(f,"max","65535"),u(f,"class","in-l tr w-full"),u(f,"placeholder","GND"),u(o,"class","flex"),u(e,"class","my-1")},m(_,h){$(_,e,h),s(e,l),s(e,n),s(e,i),s(e,o),s(o,a),Y(a,t[4].i.v.d.v),s(o,m),s(o,f),Y(f,t[4].i.v.d.g),r||(p=[z(a,"input",t[85]),z(f,"input",t[86])],r=!0)},p(_,h){h[0]&16&&ae(a.value)!==_[4].i.v.d.v&&Y(a,_[4].i.v.d.v),h[0]&16&&ae(f.value)!==_[4].i.v.d.g&&Y(f,_[4].i.v.d.g)},d(_){_&&y(e),r=!1,ze(p)}}}function pf(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k,S=(t[0].board==2||t[0].board==100)&&_f(t);return{c(){e=c("input"),l=v(),n=c("div"),i=c("div"),o=C("Vcc offset"),a=c("br"),m=v(),f=c("input"),r=v(),p=c("div"),_=C("Multiplier"),h=c("br"),b=v(),d=c("input"),g=v(),S&&S.c(),u(e,"type","hidden"),u(e,"name","iv"),e.value="true",u(f,"name","ivo"),u(f,"type","number"),u(f,"min","0.0"),u(f,"max","3.5"),u(f,"step","0.01"),u(f,"class","in-f tr w-full"),u(i,"class","w-1/3"),u(d,"name","ivm"),u(d,"type","number"),u(d,"min","0.1"),u(d,"max","10"),u(d,"step","0.01"),u(d,"class","in-l tr w-full"),u(p,"class","w-1/3 pr-1"),u(n,"class","my-1 flex flex-wrap")},m(M,I){$(M,e,I),$(M,l,I),$(M,n,I),s(n,i),s(i,o),s(i,a),s(i,m),s(i,f),Y(f,t[4].i.v.o),s(n,r),s(n,p),s(p,_),s(p,h),s(p,b),s(p,d),Y(d,t[4].i.v.m),s(n,g),S&&S.m(n,null),w||(k=[z(f,"input",t[87]),z(d,"input",t[88])],w=!0)},p(M,I){I[0]&16&&ae(f.value)!==M[4].i.v.o&&Y(f,M[4].i.v.o),I[0]&16&&ae(d.value)!==M[4].i.v.m&&Y(d,M[4].i.v.m),M[0].board==2||M[0].board==100?S?S.p(M,I):(S=_f(M),S.c(),S.m(n,null)):S&&(S.d(1),S=null)},d(M){M&&y(e),M&&y(l),M&&y(n),S&&S.d(),w=!1,ze(k)}}}function _f(t){let e,l,n,i,o,a,m;return{c(){e=c("div"),l=C("Boot limit"),n=c("br"),i=v(),o=c("input"),u(o,"name","ivb"),u(o,"type","number"),u(o,"min","2.5"),u(o,"max","3.5"),u(o,"step","0.1"),u(o,"class","in-s tr w-full"),u(e,"class","w-1/3 pl-1")},m(f,r){$(f,e,r),s(e,l),s(e,n),s(e,i),s(e,o),Y(o,t[4].i.v.b),a||(m=z(o,"input",t[89]),a=!0)},p(f,r){r[0]&16&&ae(o.value)!==f[4].i.v.b&&Y(o,f[4].i.v.b)},d(f){f&&y(e),a=!1,m()}}}function df(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k=t[4].d.t&&vf();return{c(){e=c("div"),e.textContent="Debug can cause sudden reboots. Do not leave on!",l=v(),n=c("div"),i=c("label"),o=c("input"),a=C(" Enable telnet"),m=v(),k&&k.c(),f=v(),r=c("div"),p=c("select"),_=c("option"),_.textContent="Verbose",h=c("option"),h.textContent="Debug",b=c("option"),b.textContent="Info",d=c("option"),d.textContent="Warning",u(e,"class","bd-red"),u(o,"type","checkbox"),u(o,"name","dt"),o.__value="true",o.value=o.__value,u(o,"class","rounded mb-1"),u(n,"class","my-1"),_.__value=1,_.value=_.__value,h.__value=2,h.value=h.__value,b.__value=3,b.value=b.__value,d.__value=4,d.value=d.__value,u(p,"name","dl"),u(p,"class","in-s"),t[4].d.l===void 0&&Ve(()=>t[92].call(p)),u(r,"class","my-1")},m(S,M){$(S,e,M),$(S,l,M),$(S,n,M),s(n,i),s(i,o),o.checked=t[4].d.t,s(i,a),$(S,m,M),k&&k.m(S,M),$(S,f,M),$(S,r,M),s(r,p),s(p,_),s(p,h),s(p,b),s(p,d),Ne(p,t[4].d.l,!0),g||(w=[z(o,"change",t[91]),z(p,"change",t[92])],g=!0)},p(S,M){M[0]&16&&(o.checked=S[4].d.t),S[4].d.t?k||(k=vf(),k.c(),k.m(f.parentNode,f)):k&&(k.d(1),k=null),M[0]&16&&Ne(p,S[4].d.l)},d(S){S&&y(e),S&&y(l),S&&y(n),S&&y(m),k&&k.d(S),S&&y(f),S&&y(r),g=!1,ze(w)}}}function vf(t){let e;return{c(){e=c("div"),e.textContent="Telnet is unsafe and should be off when not in use",u(e,"class","bd-red")},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function Xp(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k,S,M,I,T,A,R,F,G,L,E,O,j,U,q,W,H,V,J,ie,le,pe,Pe,we,Fe,Ce,Le,_e,Me,Ie,ce,se,me,K,re,De,Ee,de,ee,oe,ve,Ae,Oe,he,be,x,ue,Dl,$i,Ci,Mt,Si,en,ml,Jt,Ti,Pi,Mi,ot,Di,xt,Ai,Ei,Ni,ut,Ii,el,tn,ht,Ri,Fi,Li,tl,Oi,qi,Ui,bt,pl,_l,je,li,Al,qe,ln,dl,vl,hl,$o,ni,Co,nn,Ss,So,bl,Wt,gl,To,Hi,Po,nt,kl,Mo,ji,sn,on,un,rn,Wi,Do,ii,Dt,Ao,Eo,El,No,Io,Ro,Gt,an,fn,Fo,cn,Nl,Lo,Oo,qo,mn,At,Uo,Gi,Ho,Il,jo,Wo,Go,pn,Et,Bo,Bi,Yo,Ts,zo,Rl,Yi,Nt,Vo,Ko,Qo,Ps,zi,It,Xo,Zo,Jo,tt,Vi,xo,_n,dn,eu,si,tu,Fl,lu,nu,iu,ll,su,Ll,ou,uu,ru,nl,au,vn,Ol,fu,cu,mu,$t,hn,bn,gn,kn,pu,ql,_u,du,vu,wn,Ct,hu,Ki,bu,Qi,Xi,Rt,gu,ku,et,Zi,wu,yn,$n,yu,Ul,$u,Cu,Su,wl,Bt,Cn,Sn,Tu,gt,Ji,xi,Pu,kt,Tn,es,ts,Mu,Ms,ls,ns,Ft,Du,Au,oi,Eu,yl,Nu,ui,Lt,Iu,Ru,Fu,is,il,Lu,Ye,ss,Ou,Pn,Mn,qu,ri,Uu,Yt,Hu,Ds,ju,Wu,Dn,sl,Gu,Ot,Bu,As,Hl,Yu,zu,Vu,ol,Ku,jl,Qu,Xu,Zu,ul,Ju,An,En,xu,er,tr,rl,lr,Nn,nr,ir,sr,rt,In,Rn,Fn,Ln,On,qn,or,Wl,ur,rr,ar,al,fr,Es,Ns,Is=t[4].p.r.startsWith("10YNO")||t[4].p.r=="10Y1001A1001A48H",Rs,zt,os,cr,Un,Hn,mr,ai,pr,Gl,Fs,Bl,_r,dr,vr,Vt,hr,Ls,wt,us,br,jn,Wn,gr,fi,kr,rs,as,qt,wr,yr,$r,$l,Os,Gn,Cr,fs,Bn,Sr,cs,qs,Yl,Us,zl,Hs,Vl,js,Kl,Ut,Ws,Tr;m=new St({}),F=new Fp({});let Rc=["NOK","SEK","DKK","EUR"],ci=[];for(let P=0;P<4;P+=1)ci[P]=Up(qp(t,Rc,P));let at=t[4].p.e&&t[0].chip!="esp8266"&&Ka(t),ft=t[4].g.s>0&&Qa(t);hl=new St({});let Fc=[24,48,96,192,384,576,1152],mi=[];for(let P=0;P<7;P+=1)mi[P]=Hp(Op(t,Fc,P));let ct=t[4].m.e.e&&Xa(t),mt=t[4].m.e.e&&Za(t),pt=t[4].m.m.e&&Ja(t);dn=new St({}),$n=new St({}),Tn=new Ic({});let _t=t[4].n.m=="static"&&xa(t);Mn=new St({});let dt=t[0].chip!="esp8266"&&ef(t),Ke=t[4].q.s.e&&tf(t),Qe=t[4].q.m==3&&lf(t),Xe=t[4].q.m==4&&nf(t),Ze=Is&&sf(t);Hn=new St({});let Yn=t[9],it=[];for(let P=0;P<Yn.length;P+=1)it[P]=uf(za(t,Yn,P));let zn=t[8],st=[];for(let P=0;P<zn.length;P+=1)st[P]=rf(Ya(t,zn,P));let Je=(t[0].board>20||t[0].chip=="esp8266")&&af(t);Wn=new St({});let vt=t[4].d.s&&df(t);return Yl=new yt({props:{active:t[2],message:"Loading configuration"}}),zl=new yt({props:{active:t[3],message:"Saving configuration"}}),Vl=new yt({props:{active:t[5],message:"Performing factory reset"}}),Kl=new yt({props:{active:t[6],message:"Device have been factory reset and switched to AP mode"}}),{c(){e=c("form"),l=c("div"),n=c("div"),i=c("strong"),i.textContent="General",o=v(),a=c("a"),Z(m.$$.fragment),f=v(),r=c("input"),p=v(),_=c("div"),h=c("div"),b=c("div"),d=C("Hostname"),g=c("br"),w=v(),k=c("input"),S=v(),M=c("div"),I=C("Time zone"),T=c("br"),A=v(),R=c("select"),Z(F.$$.fragment),G=v(),L=c("input"),E=v(),O=c("div"),j=c("div"),U=c("div"),q=C("Price region"),W=c("br"),H=v(),V=c("select"),J=c("optgroup"),ie=c("option"),ie.textContent="NO1",le=c("option"),le.textContent="NO2",pe=c("option"),pe.textContent="NO3",Pe=c("option"),Pe.textContent="NO4",we=c("option"),we.textContent="NO5",Fe=c("optgroup"),Ce=c("option"),Ce.textContent="SE1",Le=c("option"),Le.textContent="SE2",_e=c("option"),_e.textContent="SE3",Me=c("option"),Me.textContent="SE4",Ie=c("optgroup"),ce=c("option"),ce.textContent="DK1",se=c("option"),se.textContent="DK2",me=c("option"),me.textContent="Austria",K=c("option"),K.textContent="Belgium",re=c("option"),re.textContent="Czech Republic",De=c("option"),De.textContent="Estonia",Ee=c("option"),Ee.textContent="Finland",de=c("option"),de.textContent="France",ee=c("option"),ee.textContent="Germany",oe=c("option"),oe.textContent="Great Britain",ve=c("option"),ve.textContent="Latvia",Ae=c("option"),Ae.textContent="Lithuania",Oe=c("option"),Oe.textContent="Netherland",he=c("option"),he.textContent="Poland",be=c("option"),be.textContent="Switzerland",x=v(),ue=c("div"),Dl=C("Currency"),$i=c("br"),Ci=v(),Mt=c("select");for(let P=0;P<4;P+=1)ci[P].c();Si=v(),en=c("div"),ml=c("div"),Jt=c("div"),Ti=C("Fixed price"),Pi=c("br"),Mi=v(),ot=c("input"),Di=v(),xt=c("div"),Ai=C("Multiplier"),Ei=c("br"),Ni=v(),ut=c("input"),Ii=v(),el=c("div"),tn=c("label"),ht=c("input"),Ri=C(" Enable price fetch from remote server"),Fi=v(),at&&at.c(),Li=v(),tl=c("div"),Oi=C("Security"),qi=c("br"),Ui=v(),bt=c("select"),pl=c("option"),pl.textContent="None",_l=c("option"),_l.textContent="Only configuration",je=c("option"),je.textContent="Everything",li=v(),ft&&ft.c(),Al=v(),qe=c("div"),ln=c("strong"),ln.textContent="Meter",dl=v(),vl=c("a"),Z(hl.$$.fragment),$o=v(),ni=c("input"),Co=v(),nn=c("div"),Ss=c("span"),Ss.textContent="Serial configuration",So=v(),bl=c("div"),Wt=c("select"),gl=c("option"),To=C("Autodetect");for(let P=0;P<7;P+=1)mi[P].c();Po=v(),nt=c("select"),kl=c("option"),Mo=C("-"),sn=c("option"),sn.textContent="7N1",on=c("option"),on.textContent="8N1",un=c("option"),un.textContent="7E1",rn=c("option"),rn.textContent="8E1",Do=v(),ii=c("label"),Dt=c("input"),Ao=C(" inverted"),Eo=v(),El=c("div"),No=C("Voltage"),Io=c("br"),Ro=v(),Gt=c("select"),an=c("option"),an.textContent="400V (TN)",fn=c("option"),fn.textContent="230V (IT/TT)",Fo=v(),cn=c("div"),Nl=c("div"),Lo=C("Main fuse"),Oo=c("br"),qo=v(),mn=c("label"),At=c("input"),Uo=v(),Gi=c("span"),Gi.textContent="A",Ho=v(),Il=c("div"),jo=C("Production"),Wo=c("br"),Go=v(),pn=c("label"),Et=c("input"),Bo=v(),Bi=c("span"),Bi.textContent="kWp",Yo=v(),Ts=c("div"),zo=v(),Rl=c("div"),Yi=c("label"),Nt=c("input"),Vo=C(" Meter is encrypted"),Ko=v(),ct&&ct.c(),Qo=v(),mt&&mt.c(),Ps=v(),zi=c("label"),It=c("input"),Xo=C(" Multipliers"),Zo=v(),pt&&pt.c(),Jo=v(),tt=c("div"),Vi=c("strong"),Vi.textContent="WiFi",xo=v(),_n=c("a"),Z(dn.$$.fragment),eu=v(),si=c("input"),tu=v(),Fl=c("div"),lu=C("SSID"),nu=c("br"),iu=v(),ll=c("input"),su=v(),Ll=c("div"),ou=C("Password"),uu=c("br"),ru=v(),nl=c("input"),au=v(),vn=c("div"),Ol=c("div"),fu=C("Power saving"),cu=c("br"),mu=v(),$t=c("select"),hn=c("option"),hn.textContent="Default",bn=c("option"),bn.textContent="Off",gn=c("option"),gn.textContent="Minimum",kn=c("option"),kn.textContent="Maximum",pu=v(),ql=c("div"),_u=C("Power"),du=c("br"),vu=v(),wn=c("div"),Ct=c("input"),hu=v(),Ki=c("span"),Ki.textContent="dBm",bu=v(),Qi=c("div"),Xi=c("label"),Rt=c("input"),gu=C(" Auto reboot on connection problem"),ku=v(),et=c("div"),Zi=c("strong"),Zi.textContent="Network",wu=v(),yn=c("a"),Z($n.$$.fragment),yu=v(),Ul=c("div"),$u=C("IP"),Cu=c("br"),Su=v(),wl=c("div"),Bt=c("select"),Cn=c("option"),Cn.textContent="DHCP",Sn=c("option"),Sn.textContent="Static",Tu=v(),gt=c("input"),Pu=v(),kt=c("select"),Z(Tn.$$.fragment),Mu=v(),_t&&_t.c(),Ms=v(),ls=c("div"),ns=c("label"),Ft=c("input"),Du=C(" enable mDNS"),Au=v(),oi=c("input"),Eu=v(),yl=c("div"),Nu=C("NTP "),ui=c("label"),Lt=c("input"),Iu=C(" obtain from DHCP"),Ru=c("br"),Fu=v(),is=c("div"),il=c("input"),Lu=v(),Ye=c("div"),ss=c("strong"),ss.textContent="MQTT",Ou=v(),Pn=c("a"),Z(Mn.$$.fragment),qu=v(),ri=c("input"),Uu=v(),Yt=c("div"),Hu=C(`Server\r
                `),dt&&dt.c(),Ds=v(),ju=c("br"),Wu=v(),Dn=c("div"),sl=c("input"),Gu=v(),Ot=c("input"),Bu=v(),Ke&&Ke.c(),As=v(),Hl=c("div"),Yu=C("Username"),zu=c("br"),Vu=v(),ol=c("input"),Ku=v(),jl=c("div"),Qu=C("Password"),Xu=c("br"),Zu=v(),ul=c("input"),Ju=v(),An=c("div"),En=c("div"),xu=C("Client ID"),er=c("br"),tr=v(),rl=c("input"),lr=v(),Nn=c("div"),nr=C("Payload"),ir=c("br"),sr=v(),rt=c("select"),In=c("option"),In.textContent="JSON",Rn=c("option"),Rn.textContent="Raw (minimal)",Fn=c("option"),Fn.textContent="Raw (full)",Ln=c("option"),Ln.textContent="Domoticz",On=c("option"),On.textContent="HomeAssistant",qn=c("option"),qn.textContent="HEX dump",or=v(),Wl=c("div"),ur=C("Publish topic"),rr=c("br"),ar=v(),al=c("input"),fr=v(),Qe&&Qe.c(),Es=v(),Xe&&Xe.c(),Ns=v(),Ze&&Ze.c(),Rs=v(),zt=c("div"),os=c("strong"),os.textContent="User interface",cr=v(),Un=c("a"),Z(Hn.$$.fragment),mr=v(),ai=c("input"),pr=v(),Gl=c("div");for(let P=0;P<it.length;P+=1)it[P].c();Fs=v(),Bl=c("div"),_r=C("Darkmode"),dr=c("br"),vr=v(),Vt=c("select");for(let P=0;P<st.length;P+=1)st[P].c();hr=v(),Je&&Je.c(),Ls=v(),wt=c("div"),us=c("strong"),us.textContent="Debugging",br=v(),jn=c("a"),Z(Wn.$$.fragment),gr=v(),fi=c("input"),kr=v(),rs=c("div"),as=c("label"),qt=c("input"),wr=C(" Enable debugging"),yr=v(),vt&&vt.c(),$r=v(),$l=c("div"),Os=c("div"),Gn=c("button"),Gn.textContent="Factory reset",Cr=v(),fs=c("div"),Bn=c("button"),Bn.textContent="Reboot",Sr=v(),cs=c("div"),cs.innerHTML='<button type="submit" class="btn-pri">Save</button>',qs=v(),Z(Yl.$$.fragment),Us=v(),Z(zl.$$.fragment),Hs=v(),Z(Vl.$$.fragment),js=v(),Z(Kl.$$.fragment),u(i,"class","text-sm"),u(a,"href",Tt("General-configuration")),u(a,"target","_blank"),u(a,"class","float-right"),u(r,"type","hidden"),u(r,"name","g"),r.value="true",u(k,"name","gh"),u(k,"type","text"),u(k,"class","in-f w-full"),u(k,"pattern","[A-Za-z0-9-]+"),u(R,"name","gt"),u(R,"class","in-l w-full"),t[4].g.t===void 0&&Ve(()=>t[15].call(R)),u(h,"class","flex"),u(_,"class","my-1"),u(L,"type","hidden"),u(L,"name","p"),L.value="true",ie.__value="10YNO-1--------2",ie.value=ie.__value,le.__value="10YNO-2--------T",le.value=le.__value,pe.__value="10YNO-3--------J",pe.value=pe.__value,Pe.__value="10YNO-4--------9",Pe.value=Pe.__value,we.__value="10Y1001A1001A48H",we.value=we.__value,u(J,"label","Norway"),Ce.__value="10Y1001A1001A44P",Ce.value=Ce.__value,Le.__value="10Y1001A1001A45N",Le.value=Le.__value,_e.__value="10Y1001A1001A46L",_e.value=_e.__value,Me.__value="10Y1001A1001A47J",Me.value=Me.__value,u(Fe,"label","Sweden"),ce.__value="10YDK-1--------W",ce.value=ce.__value,se.__value="10YDK-2--------M",se.value=se.__value,u(Ie,"label","Denmark"),me.__value="10YAT-APG------L",me.value=me.__value,K.__value="10YBE----------2",K.value=K.__value,re.__value="10YCZ-CEPS-----N",re.value=re.__value,De.__value="10Y1001A1001A39I",De.value=De.__value,Ee.__value="10YFI-1--------U",Ee.value=Ee.__value,de.__value="10YFR-RTE------C",de.value=de.__value,ee.__value="10Y1001A1001A83F",ee.value=ee.__value,oe.__value="10YGB----------A",oe.value=oe.__value,ve.__value="10YLV-1001A00074",ve.value=ve.__value,Ae.__value="10YLT-1001A0008Q",Ae.value=Ae.__value,Oe.__value="10YNL----------L",Oe.value=Oe.__value,he.__value="10YPL-AREA-----S",he.value=he.__value,be.__value="10YCH-SWISSGRIDZ",be.value=be.__value,u(V,"name","pr"),u(V,"class","in-f w-full"),t[4].p.r===void 0&&Ve(()=>t[16].call(V)),u(U,"class","w-full"),u(Mt,"name","pc"),u(Mt,"class","in-l"),t[4].p.c===void 0&&Ve(()=>t[17].call(Mt)),u(j,"class","flex"),u(O,"class","my-1"),u(ot,"name","pf"),u(ot,"type","number"),u(ot,"min","0.001"),u(ot,"max","65"),u(ot,"step","0.001"),u(ot,"class","in-f tr w-full"),u(Jt,"class","w-1/2"),u(ut,"name","pm"),u(ut,"type","number"),u(ut,"min","0.001"),u(ut,"max","1000"),u(ut,"step","0.001"),u(ut,"class","in-l tr w-full"),u(xt,"class","w-1/2"),u(ml,"class","flex"),u(en,"class","my-1"),u(ht,"type","checkbox"),u(ht,"name","pe"),ht.__value="true",ht.value=ht.__value,u(ht,"class","rounded mb-1"),u(el,"class","my-1"),pl.__value=0,pl.value=pl.__value,_l.__value=1,_l.value=_l.__value,je.__value=2,je.value=je.__value,u(bt,"name","gs"),u(bt,"class","in-s"),t[4].g.s===void 0&&Ve(()=>t[22].call(bt)),u(tl,"class","my-1"),u(n,"class","cnt"),u(ln,"class","text-sm"),u(vl,"href",Tt("Meter-configuration")),u(vl,"target","_blank"),u(vl,"class","float-right"),u(ni,"type","hidden"),u(ni,"name","m"),ni.value="true",gl.__value=0,gl.value=gl.__value,gl.disabled=Hi=t[4].m.b!=0,u(Wt,"name","mb"),u(Wt,"class","in-f"),t[4].m.b===void 0&&Ve(()=>t[25].call(Wt)),kl.__value=0,kl.value=kl.__value,kl.disabled=ji=t[4].m.b!=0,sn.__value=2,sn.value=sn.__value,on.__value=3,on.value=on.__value,un.__value=10,un.value=un.__value,rn.__value=11,rn.value=rn.__value,u(nt,"name","mp"),u(nt,"class","in-l"),nt.disabled=Wi=t[4].m.b==0,t[4].m.p===void 0&&Ve(()=>t[26].call(nt)),u(Dt,"name","mi"),Dt.__value="true",Dt.value=Dt.__value,u(Dt,"type","checkbox"),u(Dt,"class","rounded mb-1"),u(ii,"class","mt-2 ml-3 whitespace-nowrap"),u(bl,"class","flex"),u(nn,"class","my-1"),an.__value=2,an.value=an.__value,fn.__value=1,fn.value=fn.__value,u(Gt,"name","md"),u(Gt,"class","in-s"),t[4].m.d===void 0&&Ve(()=>t[28].call(Gt)),u(El,"class","my-1"),u(At,"name","mf"),u(At,"type","number"),u(At,"min","5"),u(At,"max","65535"),u(At,"class","in-f tr w-full"),u(Gi,"class","in-post"),u(mn,"class","flex"),u(Nl,"class","mx-1"),u(Et,"name","mr"),u(Et,"type","number"),u(Et,"min","0"),u(Et,"max","65535"),u(Et,"class","in-f tr w-full"),u(Bi,"class","in-post"),u(pn,"class","flex"),u(Il,"class","mx-1"),u(cn,"class","my-1 flex"),u(Ts,"class","my-1"),u(Nt,"type","checkbox"),u(Nt,"name","me"),Nt.__value="true",Nt.value=Nt.__value,u(Nt,"class","rounded mb-1"),u(Rl,"class","my-1"),u(It,"type","checkbox"),u(It,"name","mm"),It.__value="true",It.value=It.__value,u(It,"class","rounded mb-1"),u(qe,"class","cnt"),u(Vi,"class","text-sm"),u(_n,"href",Tt("WiFi-configuration")),u(_n,"target","_blank"),u(_n,"class","float-right"),u(si,"type","hidden"),u(si,"name","w"),si.value="true",u(ll,"name","ws"),u(ll,"type","text"),u(ll,"class","in-s"),u(Fl,"class","my-1"),u(nl,"name","wp"),u(nl,"type","password"),u(nl,"class","in-s"),u(Ll,"class","my-1"),hn.__value=255,hn.value=hn.__value,bn.__value=0,bn.value=bn.__value,gn.__value=1,gn.value=gn.__value,kn.__value=2,kn.value=kn.__value,u($t,"name","wz"),u($t,"class","in-s"),t[4].w.z===void 0&&Ve(()=>t[41].call($t)),u(Ol,"class","w-1/2"),u(Ct,"name","ww"),u(Ct,"type","number"),u(Ct,"min","0"),u(Ct,"max","20.5"),u(Ct,"step","0.5"),u(Ct,"class","in-f tr w-full"),u(Ki,"class","in-post"),u(wn,"class","flex"),u(ql,"class","ml-2 w-1/2"),u(vn,"class","my-1 flex"),u(Rt,"type","checkbox"),u(Rt,"name","wa"),Rt.__value="true",Rt.value=Rt.__value,u(Rt,"class","rounded mb-1"),u(Qi,"class","my-3"),u(tt,"class","cnt"),u(Zi,"class","text-sm"),u(yn,"href",Tt("Network-configuration")),u(yn,"target","_blank"),u(yn,"class","float-right"),Cn.__value="dhcp",Cn.value=Cn.__value,Sn.__value="static",Sn.value=Sn.__value,u(Bt,"name","nm"),u(Bt,"class","in-f"),t[4].n.m===void 0&&Ve(()=>t[44].call(Bt)),u(gt,"name","ni"),u(gt,"type","text"),u(gt,"class","in-m w-full"),gt.disabled=Ji=t[4].n.m=="dhcp",gt.required=xi=t[4].n.m=="static",u(kt,"name","ns"),u(kt,"class","in-l"),kt.disabled=es=t[4].n.m=="dhcp",kt.required=ts=t[4].n.m=="static",t[4].n.s===void 0&&Ve(()=>t[46].call(kt)),u(wl,"class","flex"),u(Ul,"class","my-1"),u(Ft,"name","nd"),Ft.__value="true",Ft.value=Ft.__value,u(Ft,"type","checkbox"),u(Ft,"class","rounded mb-1"),u(ls,"class","my-1"),u(oi,"type","hidden"),u(oi,"name","ntp"),oi.value="true",u(Lt,"name","ntpd"),Lt.__value="true",Lt.value=Lt.__value,u(Lt,"type","checkbox"),u(Lt,"class","rounded mb-1"),u(ui,"class","ml-4"),u(il,"name","ntph"),u(il,"type","text"),u(il,"class","in-s"),u(is,"class","flex"),u(yl,"class","my-1"),u(et,"class","cnt"),u(ss,"class","text-sm"),u(Pn,"href",Tt("MQTT-configuration")),u(Pn,"target","_blank"),u(Pn,"class","float-right"),u(ri,"type","hidden"),u(ri,"name","q"),ri.value="true",u(sl,"name","qh"),u(sl,"type","text"),u(sl,"class","in-f w-3/4"),u(Ot,"name","qp"),u(Ot,"type","number"),u(Ot,"min","1024"),u(Ot,"max","65535"),u(Ot,"class","in-l tr w-1/4"),u(Dn,"class","flex"),u(Yt,"class","my-1"),u(ol,"name","qu"),u(ol,"type","text"),u(ol,"class","in-s"),u(Hl,"class","my-1"),u(ul,"name","qa"),u(ul,"type","password"),u(ul,"class","in-s"),u(jl,"class","my-1"),u(rl,"name","qc"),u(rl,"type","text"),u(rl,"class","in-f w-full"),In.__value=0,In.value=In.__value,Rn.__value=1,Rn.value=Rn.__value,Fn.__value=2,Fn.value=Fn.__value,Ln.__value=3,Ln.value=Ln.__value,On.__value=4,On.value=On.__value,qn.__value=255,qn.value=qn.__value,u(rt,"name","qm"),u(rt,"class","in-l"),t[4].q.m===void 0&&Ve(()=>t[59].call(rt)),u(An,"class","my-1 flex"),u(al,"name","qb"),u(al,"type","text"),u(al,"class","in-s"),u(Wl,"class","my-1"),u(Ye,"class","cnt"),u(os,"class","text-sm"),u(Un,"href",Tt("User-interface")),u(Un,"target","_blank"),u(Un,"class","float-right"),u(ai,"type","hidden"),u(ai,"name","u"),ai.value="true",u(Vt,"name","darkMode"),u(Vt,"class","in-s"),t[1]===void 0&&Ve(()=>t[72].call(Vt)),u(Bl,"class","w-1/2"),u(Gl,"class","flex flex-wrap"),u(zt,"class","cnt"),u(us,"class","text-sm"),u(jn,"href","https://amsleser.no/blog/post/24-telnet-debug"),u(jn,"target","_blank"),u(jn,"class","float-right"),u(fi,"type","hidden"),u(fi,"name","d"),fi.value="true",u(qt,"type","checkbox"),u(qt,"name","ds"),qt.__value="true",qt.value=qt.__value,u(qt,"class","rounded mb-1"),u(rs,"class","mt-3"),u(wt,"class","cnt"),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(Gn,"type","button"),u(Gn,"class","py-2 px-4 rounded bg-red-500 text-white ml-2"),u(Bn,"type","button"),u(Bn,"class","py-2 px-4 rounded bg-yellow-500 text-white"),u(fs,"class","text-center"),u(cs,"class","text-right"),u($l,"class","grid grid-cols-3"),u(e,"autocomplete","off")},m(P,te){$(P,e,te),s(e,l),s(l,n),s(n,i),s(n,o),s(n,a),Q(m,a,null),s(n,f),s(n,r),s(n,p),s(n,_),s(_,h),s(h,b),s(b,d),s(b,g),s(b,w),s(b,k),Y(k,t[4].g.h),s(h,S),s(h,M),s(M,I),s(M,T),s(M,A),s(M,R),Q(F,R,null),Ne(R,t[4].g.t,!0),s(n,G),s(n,L),s(n,E),s(n,O),s(O,j),s(j,U),s(U,q),s(U,W),s(U,H),s(U,V),s(V,J),s(J,ie),s(J,le),s(J,pe),s(J,Pe),s(J,we),s(V,Fe),s(Fe,Ce),s(Fe,Le),s(Fe,_e),s(Fe,Me),s(V,Ie),s(Ie,ce),s(Ie,se),s(V,me),s(V,K),s(V,re),s(V,De),s(V,Ee),s(V,de),s(V,ee),s(V,oe),s(V,ve),s(V,Ae),s(V,Oe),s(V,he),s(V,be),Ne(V,t[4].p.r,!0),s(j,x),s(j,ue),s(ue,Dl),s(ue,$i),s(ue,Ci),s(ue,Mt);for(let We=0;We<4;We+=1)ci[We]&&ci[We].m(Mt,null);Ne(Mt,t[4].p.c,!0),s(n,Si),s(n,en),s(en,ml),s(ml,Jt),s(Jt,Ti),s(Jt,Pi),s(Jt,Mi),s(Jt,ot),Y(ot,t[4].p.f),s(ml,Di),s(ml,xt),s(xt,Ai),s(xt,Ei),s(xt,Ni),s(xt,ut),Y(ut,t[4].p.m),s(n,Ii),s(n,el),s(el,tn),s(tn,ht),ht.checked=t[4].p.e,s(tn,Ri),s(el,Fi),at&&at.m(el,null),s(n,Li),s(n,tl),s(tl,Oi),s(tl,qi),s(tl,Ui),s(tl,bt),s(bt,pl),s(bt,_l),s(bt,je),Ne(bt,t[4].g.s,!0),s(n,li),ft&&ft.m(n,null),s(l,Al),s(l,qe),s(qe,ln),s(qe,dl),s(qe,vl),Q(hl,vl,null),s(qe,$o),s(qe,ni),s(qe,Co),s(qe,nn),s(nn,Ss),s(nn,So),s(nn,bl),s(bl,Wt),s(Wt,gl),s(gl,To);for(let We=0;We<7;We+=1)mi[We]&&mi[We].m(Wt,null);Ne(Wt,t[4].m.b,!0),s(bl,Po),s(bl,nt),s(nt,kl),s(kl,Mo),s(nt,sn),s(nt,on),s(nt,un),s(nt,rn),Ne(nt,t[4].m.p,!0),s(bl,Do),s(bl,ii),s(ii,Dt),Dt.checked=t[4].m.i,s(ii,Ao),s(qe,Eo),s(qe,El),s(El,No),s(El,Io),s(El,Ro),s(El,Gt),s(Gt,an),s(Gt,fn),Ne(Gt,t[4].m.d,!0),s(qe,Fo),s(qe,cn),s(cn,Nl),s(Nl,Lo),s(Nl,Oo),s(Nl,qo),s(Nl,mn),s(mn,At),Y(At,t[4].m.f),s(mn,Uo),s(mn,Gi),s(cn,Ho),s(cn,Il),s(Il,jo),s(Il,Wo),s(Il,Go),s(Il,pn),s(pn,Et),Y(Et,t[4].m.r),s(pn,Bo),s(pn,Bi),s(qe,Yo),s(qe,Ts),s(qe,zo),s(qe,Rl),s(Rl,Yi),s(Yi,Nt),Nt.checked=t[4].m.e.e,s(Yi,Vo),s(Rl,Ko),ct&&ct.m(Rl,null),s(qe,Qo),mt&&mt.m(qe,null),s(qe,Ps),s(qe,zi),s(zi,It),It.checked=t[4].m.m.e,s(zi,Xo),s(qe,Zo),pt&&pt.m(qe,null),s(l,Jo),s(l,tt),s(tt,Vi),s(tt,xo),s(tt,_n),Q(dn,_n,null),s(tt,eu),s(tt,si),s(tt,tu),s(tt,Fl),s(Fl,lu),s(Fl,nu),s(Fl,iu),s(Fl,ll),Y(ll,t[4].w.s),s(tt,su),s(tt,Ll),s(Ll,ou),s(Ll,uu),s(Ll,ru),s(Ll,nl),Y(nl,t[4].w.p),s(tt,au),s(tt,vn),s(vn,Ol),s(Ol,fu),s(Ol,cu),s(Ol,mu),s(Ol,$t),s($t,hn),s($t,bn),s($t,gn),s($t,kn),Ne($t,t[4].w.z,!0),s(vn,pu),s(vn,ql),s(ql,_u),s(ql,du),s(ql,vu),s(ql,wn),s(wn,Ct),Y(Ct,t[4].w.w),s(wn,hu),s(wn,Ki),s(tt,bu),s(tt,Qi),s(Qi,Xi),s(Xi,Rt),Rt.checked=t[4].w.a,s(Xi,gu),s(l,ku),s(l,et),s(et,Zi),s(et,wu),s(et,yn),Q($n,yn,null),s(et,yu),s(et,Ul),s(Ul,$u),s(Ul,Cu),s(Ul,Su),s(Ul,wl),s(wl,Bt),s(Bt,Cn),s(Bt,Sn),Ne(Bt,t[4].n.m,!0),s(wl,Tu),s(wl,gt),Y(gt,t[4].n.i),s(wl,Pu),s(wl,kt),Q(Tn,kt,null),Ne(kt,t[4].n.s,!0),s(et,Mu),_t&&_t.m(et,null),s(et,Ms),s(et,ls),s(ls,ns),s(ns,Ft),Ft.checked=t[4].n.d,s(ns,Du),s(et,Au),s(et,oi),s(et,Eu),s(et,yl),s(yl,Nu),s(yl,ui),s(ui,Lt),Lt.checked=t[4].n.h,s(ui,Iu),s(yl,Ru),s(yl,Fu),s(yl,is),s(is,il),Y(il,t[4].n.n1),s(l,Lu),s(l,Ye),s(Ye,ss),s(Ye,Ou),s(Ye,Pn),Q(Mn,Pn,null),s(Ye,qu),s(Ye,ri),s(Ye,Uu),s(Ye,Yt),s(Yt,Hu),dt&&dt.m(Yt,null),s(Yt,Ds),s(Yt,ju),s(Yt,Wu),s(Yt,Dn),s(Dn,sl),Y(sl,t[4].q.h),s(Dn,Gu),s(Dn,Ot),Y(Ot,t[4].q.p),s(Ye,Bu),Ke&&Ke.m(Ye,null),s(Ye,As),s(Ye,Hl),s(Hl,Yu),s(Hl,zu),s(Hl,Vu),s(Hl,ol),Y(ol,t[4].q.u),s(Ye,Ku),s(Ye,jl),s(jl,Qu),s(jl,Xu),s(jl,Zu),s(jl,ul),Y(ul,t[4].q.a),s(Ye,Ju),s(Ye,An),s(An,En),s(En,xu),s(En,er),s(En,tr),s(En,rl),Y(rl,t[4].q.c),s(An,lr),s(An,Nn),s(Nn,nr),s(Nn,ir),s(Nn,sr),s(Nn,rt),s(rt,In),s(rt,Rn),s(rt,Fn),s(rt,Ln),s(rt,On),s(rt,qn),Ne(rt,t[4].q.m,!0),s(Ye,or),s(Ye,Wl),s(Wl,ur),s(Wl,rr),s(Wl,ar),s(Wl,al),Y(al,t[4].q.b),s(l,fr),Qe&&Qe.m(l,null),s(l,Es),Xe&&Xe.m(l,null),s(l,Ns),Ze&&Ze.m(l,null),s(l,Rs),s(l,zt),s(zt,os),s(zt,cr),s(zt,Un),Q(Hn,Un,null),s(zt,mr),s(zt,ai),s(zt,pr),s(zt,Gl);for(let We=0;We<it.length;We+=1)it[We]&&it[We].m(Gl,null);s(Gl,Fs),s(Gl,Bl),s(Bl,_r),s(Bl,dr),s(Bl,vr),s(Bl,Vt);for(let We=0;We<st.length;We+=1)st[We]&&st[We].m(Vt,null);Ne(Vt,t[1],!0),s(l,hr),Je&&Je.m(l,null),s(l,Ls),s(l,wt),s(wt,us),s(wt,br),s(wt,jn),Q(Wn,jn,null),s(wt,gr),s(wt,fi),s(wt,kr),s(wt,rs),s(rs,as),s(as,qt),qt.checked=t[4].d.s,s(as,wr),s(wt,yr),vt&&vt.m(wt,null),s(e,$r),s(e,$l),s($l,Os),s(Os,Gn),s($l,Cr),s($l,fs),s(fs,Bn),s($l,Sr),s($l,cs),$(P,qs,te),Q(Yl,P,te),$(P,Us,te),Q(zl,P,te),$(P,Hs,te),Q(Vl,P,te),$(P,js,te),Q(Kl,P,te),Ut=!0,Ws||(Tr=[z(k,"input",t[14]),z(R,"change",t[15]),z(V,"change",t[16]),z(Mt,"change",t[17]),z(ot,"input",t[18]),z(ut,"input",t[19]),z(ht,"change",t[20]),z(bt,"change",t[22]),z(Wt,"change",t[25]),z(nt,"change",t[26]),z(Dt,"change",t[27]),z(Gt,"change",t[28]),z(At,"input",t[29]),z(Et,"input",t[30]),z(Nt,"change",t[31]),z(It,"change",t[34]),z(ll,"input",t[39]),z(nl,"input",t[40]),z($t,"change",t[41]),z(Ct,"input",t[42]),z(Rt,"change",t[43]),z(Bt,"change",t[44]),z(gt,"input",t[45]),z(kt,"change",t[46]),z(Ft,"change",t[50]),z(Lt,"change",t[51]),z(il,"input",t[52]),z(sl,"input",t[54]),z(Ot,"input",t[55]),z(ol,"input",t[56]),z(ul,"input",t[57]),z(rl,"input",t[58]),z(rt,"change",t[59]),z(al,"input",t[60]),z(Vt,"change",t[72]),z(qt,"change",t[90]),z(Gn,"click",t[10]),z(Bn,"click",t[12]),z(e,"submit",$s(t[11]))],Ws=!0)},p(P,te){if(te[0]&16&&k.value!==P[4].g.h&&Y(k,P[4].g.h),te[0]&16&&Ne(R,P[4].g.t),te[0]&16&&Ne(V,P[4].p.r),te[0]&16&&Ne(Mt,P[4].p.c),te[0]&16&&ae(ot.value)!==P[4].p.f&&Y(ot,P[4].p.f),te[0]&16&&ae(ut.value)!==P[4].p.m&&Y(ut,P[4].p.m),te[0]&16&&(ht.checked=P[4].p.e),P[4].p.e&&P[0].chip!="esp8266"?at?at.p(P,te):(at=Ka(P),at.c(),at.m(el,null)):at&&(at.d(1),at=null),te[0]&16&&Ne(bt,P[4].g.s),P[4].g.s>0?ft?ft.p(P,te):(ft=Qa(P),ft.c(),ft.m(n,null)):ft&&(ft.d(1),ft=null),(!Ut||te[0]&16&&Hi!==(Hi=P[4].m.b!=0))&&(gl.disabled=Hi),te[0]&16&&Ne(Wt,P[4].m.b),(!Ut||te[0]&16&&ji!==(ji=P[4].m.b!=0))&&(kl.disabled=ji),(!Ut||te[0]&16&&Wi!==(Wi=P[4].m.b==0))&&(nt.disabled=Wi),te[0]&16&&Ne(nt,P[4].m.p),te[0]&16&&(Dt.checked=P[4].m.i),te[0]&16&&Ne(Gt,P[4].m.d),te[0]&16&&ae(At.value)!==P[4].m.f&&Y(At,P[4].m.f),te[0]&16&&ae(Et.value)!==P[4].m.r&&Y(Et,P[4].m.r),te[0]&16&&(Nt.checked=P[4].m.e.e),P[4].m.e.e?ct?ct.p(P,te):(ct=Xa(P),ct.c(),ct.m(Rl,null)):ct&&(ct.d(1),ct=null),P[4].m.e.e?mt?mt.p(P,te):(mt=Za(P),mt.c(),mt.m(qe,Ps)):mt&&(mt.d(1),mt=null),te[0]&16&&(It.checked=P[4].m.m.e),P[4].m.m.e?pt?pt.p(P,te):(pt=Ja(P),pt.c(),pt.m(qe,null)):pt&&(pt.d(1),pt=null),te[0]&16&&ll.value!==P[4].w.s&&Y(ll,P[4].w.s),te[0]&16&&nl.value!==P[4].w.p&&Y(nl,P[4].w.p),te[0]&16&&Ne($t,P[4].w.z),te[0]&16&&ae(Ct.value)!==P[4].w.w&&Y(Ct,P[4].w.w),te[0]&16&&(Rt.checked=P[4].w.a),te[0]&16&&Ne(Bt,P[4].n.m),(!Ut||te[0]&16&&Ji!==(Ji=P[4].n.m=="dhcp"))&&(gt.disabled=Ji),(!Ut||te[0]&16&&xi!==(xi=P[4].n.m=="static"))&&(gt.required=xi),te[0]&16&&gt.value!==P[4].n.i&&Y(gt,P[4].n.i),(!Ut||te[0]&16&&es!==(es=P[4].n.m=="dhcp"))&&(kt.disabled=es),(!Ut||te[0]&16&&ts!==(ts=P[4].n.m=="static"))&&(kt.required=ts),te[0]&16&&Ne(kt,P[4].n.s),P[4].n.m=="static"?_t?_t.p(P,te):(_t=xa(P),_t.c(),_t.m(et,Ms)):_t&&(_t.d(1),_t=null),te[0]&16&&(Ft.checked=P[4].n.d),te[0]&16&&(Lt.checked=P[4].n.h),te[0]&16&&il.value!==P[4].n.n1&&Y(il,P[4].n.n1),P[0].chip!="esp8266"?dt?dt.p(P,te):(dt=ef(P),dt.c(),dt.m(Yt,Ds)):dt&&(dt.d(1),dt=null),te[0]&16&&sl.value!==P[4].q.h&&Y(sl,P[4].q.h),te[0]&16&&ae(Ot.value)!==P[4].q.p&&Y(Ot,P[4].q.p),P[4].q.s.e?Ke?(Ke.p(P,te),te[0]&16&&D(Ke,1)):(Ke=tf(P),Ke.c(),D(Ke,1),Ke.m(Ye,As)):Ke&&(Se(),N(Ke,1,1,()=>{Ke=null}),Te()),te[0]&16&&ol.value!==P[4].q.u&&Y(ol,P[4].q.u),te[0]&16&&ul.value!==P[4].q.a&&Y(ul,P[4].q.a),te[0]&16&&rl.value!==P[4].q.c&&Y(rl,P[4].q.c),te[0]&16&&Ne(rt,P[4].q.m),te[0]&16&&al.value!==P[4].q.b&&Y(al,P[4].q.b),P[4].q.m==3?Qe?(Qe.p(P,te),te[0]&16&&D(Qe,1)):(Qe=lf(P),Qe.c(),D(Qe,1),Qe.m(l,Es)):Qe&&(Se(),N(Qe,1,1,()=>{Qe=null}),Te()),P[4].q.m==4?Xe?(Xe.p(P,te),te[0]&16&&D(Xe,1)):(Xe=nf(P),Xe.c(),D(Xe,1),Xe.m(l,Ns)):Xe&&(Se(),N(Xe,1,1,()=>{Xe=null}),Te()),te[0]&16&&(Is=P[4].p.r.startsWith("10YNO")||P[4].p.r=="10Y1001A1001A48H"),Is?Ze?(Ze.p(P,te),te[0]&16&&D(Ze,1)):(Ze=sf(P),Ze.c(),D(Ze,1),Ze.m(l,Rs)):Ze&&(Se(),N(Ze,1,1,()=>{Ze=null}),Te()),te[0]&528){Yn=P[9];let Ue;for(Ue=0;Ue<Yn.length;Ue+=1){const pi=za(P,Yn,Ue);it[Ue]?it[Ue].p(pi,te):(it[Ue]=uf(pi),it[Ue].c(),it[Ue].m(Gl,Fs))}for(;Ue<it.length;Ue+=1)it[Ue].d(1);it.length=Yn.length}if(te[0]&256){zn=P[8];let Ue;for(Ue=0;Ue<zn.length;Ue+=1){const pi=Ya(P,zn,Ue);st[Ue]?st[Ue].p(pi,te):(st[Ue]=rf(pi),st[Ue].c(),st[Ue].m(Vt,null))}for(;Ue<st.length;Ue+=1)st[Ue].d(1);st.length=zn.length}te[0]&258&&Ne(Vt,P[1]),P[0].board>20||P[0].chip=="esp8266"?Je?(Je.p(P,te),te[0]&1&&D(Je,1)):(Je=af(P),Je.c(),D(Je,1),Je.m(l,Ls)):Je&&(Se(),N(Je,1,1,()=>{Je=null}),Te()),te[0]&16&&(qt.checked=P[4].d.s),P[4].d.s?vt?vt.p(P,te):(vt=df(P),vt.c(),vt.m(wt,null)):vt&&(vt.d(1),vt=null);const We={};te[0]&4&&(We.active=P[2]),Yl.$set(We);const Pr={};te[0]&8&&(Pr.active=P[3]),zl.$set(Pr);const Mr={};te[0]&32&&(Mr.active=P[5]),Vl.$set(Mr);const Dr={};te[0]&64&&(Dr.active=P[6]),Kl.$set(Dr)},i(P){Ut||(D(m.$$.fragment,P),D(F.$$.fragment,P),D(hl.$$.fragment,P),D(dn.$$.fragment,P),D($n.$$.fragment,P),D(Tn.$$.fragment,P),D(Mn.$$.fragment,P),D(Ke),D(Qe),D(Xe),D(Ze),D(Hn.$$.fragment,P),D(Je),D(Wn.$$.fragment,P),D(Yl.$$.fragment,P),D(zl.$$.fragment,P),D(Vl.$$.fragment,P),D(Kl.$$.fragment,P),Ut=!0)},o(P){N(m.$$.fragment,P),N(F.$$.fragment,P),N(hl.$$.fragment,P),N(dn.$$.fragment,P),N($n.$$.fragment,P),N(Tn.$$.fragment,P),N(Mn.$$.fragment,P),N(Ke),N(Qe),N(Xe),N(Ze),N(Hn.$$.fragment,P),N(Je),N(Wn.$$.fragment,P),N(Yl.$$.fragment,P),N(zl.$$.fragment,P),N(Vl.$$.fragment,P),N(Kl.$$.fragment,P),Ut=!1},d(P){P&&y(e),X(m),X(F),Ht(ci,P),at&&at.d(),ft&&ft.d(),X(hl),Ht(mi,P),ct&&ct.d(),mt&&mt.d(),pt&&pt.d(),X(dn),X($n),X(Tn),_t&&_t.d(),X(Mn),dt&&dt.d(),Ke&&Ke.d(),Qe&&Qe.d(),Xe&&Xe.d(),Ze&&Ze.d(),X(Hn),Ht(it,P),Ht(st,P),Je&&Je.d(),X(Wn),vt&&vt.d(),P&&y(qs),X(Yl,P),P&&y(Us),X(zl,P),P&&y(Hs),X(Vl,P),P&&y(js),X(Kl,P),Ws=!1,ze(Tr)}}}async function Zp(){await(await fetch("/reboot",{method:"POST"})).json()}function Jp(t){t==="Enable"&&(document.documentElement.classList.add("dark"),localStorage.theme="dark"),t==="Disable"?(document.documentElement.classList.remove("dark"),localStorage.removeItem("theme")):window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.removeItem("theme"))}function xp(t,e,l){let{sysinfo:n={}}=e,i="";localStorage.theme==="dark"?i="Enable":i="Disable";let o=["Enable","Disable","Auto"],a=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"}],m=!0,f=!1,r={g:{t:"",h:"",s:0,u:"",p:""},m:{b:2400,p:11,i:!1,d:0,f:0,r:0,e:{e:!1,k:"",a:""},m:{e:!1,w:!1,v:!1,a:!1,c:!1}},w:{s:"",p:"",w:0,z:255,a:!0},n:{m:"",i:"",s:"",g:"",d1:"",d2:"",d:!1,n1:"",n2:"",h:!1},q:{h:"",p:1883,u:"",a:"",b:"",s:{e:!1,c:!1,r:!0,k:!1}},o:{e:"",c:"",u1:"",u2:"",u3:""},t:{t:[0,0,0,0,0,0,0,0,0,0],h:1},p:{e:!1,t:"",r:"",c:"",m:1,f:null},d:{s:!1,t:!1,l:5},u:{i:0,e:0,v:0,a:0,r:0,c:0,t:0,p:0,d:0,m:0,s:0},i:{h:{p:null,u:!0},a:null,l:{p:null,i:!1},r:{r:null,g:null,b:null,i:!1},t:{d:null,a:null},v:{p:null,d:{v:null,g:null},o:null,m:null,b:null}},h:{t:"",h:"",n:""}};Ec.subscribe(je=>{je.version&&(l(4,r=je),l(2,m=!1))}),Tp();let p=!1,_=!1;async function h(){if(confirm("Are you sure you want to factory reset the device?")){l(5,p=!0);const je=new URLSearchParams;je.append("perform","true");let Al=await(await fetch("/reset",{method:"POST",body:je})).json();l(5,p=!1),l(6,_=Al.success)}}async function b(je){l(3,f=!0);const li=new FormData(je.target),Al=new URLSearchParams;for(let dl of li){const[vl,hl]=dl;Al.append(vl,hl)}let ln=await(await fetch("/save",{method:"POST",body:Al})).json();Pt.update(dl=>(dl.booting=ln.reboot,dl.ui=r.u,dl)),l(3,f=!1),Zn("/")}const d=function(){confirm("Are you sure you want to reboot the device?")&&(Pt.update(je=>(je.booting=!0,je)),Zp())},g=function(){r.q.s.e?r.q.p==1883&&l(4,r.q.p=8883,r):r.q.p==8883&&l(4,r.q.p=1883,r)};let w=44;function k(){r.g.h=this.value,l(4,r)}function S(){r.g.t=lt(this),l(4,r)}function M(){r.p.r=lt(this),l(4,r)}function I(){r.p.c=lt(this),l(4,r)}function T(){r.p.f=ae(this.value),l(4,r)}function A(){r.p.m=ae(this.value),l(4,r)}function R(){r.p.e=this.checked,l(4,r)}function F(){r.p.t=this.value,l(4,r)}function G(){r.g.s=lt(this),l(4,r)}function L(){r.g.u=this.value,l(4,r)}function E(){r.g.p=this.value,l(4,r)}function O(){r.m.b=lt(this),l(4,r)}function j(){r.m.p=lt(this),l(4,r)}function U(){r.m.i=this.checked,l(4,r)}function q(){r.m.d=lt(this),l(4,r)}function W(){r.m.f=ae(this.value),l(4,r)}function H(){r.m.r=ae(this.value),l(4,r)}function V(){r.m.e.e=this.checked,l(4,r)}function J(){r.m.e.k=this.value,l(4,r)}function ie(){r.m.e.a=this.value,l(4,r)}function le(){r.m.m.e=this.checked,l(4,r)}function pe(){r.m.m.w=ae(this.value),l(4,r)}function Pe(){r.m.m.v=ae(this.value),l(4,r)}function we(){r.m.m.a=ae(this.value),l(4,r)}function Fe(){r.m.m.c=ae(this.value),l(4,r)}function Ce(){r.w.s=this.value,l(4,r)}function Le(){r.w.p=this.value,l(4,r)}function _e(){r.w.z=lt(this),l(4,r)}function Me(){r.w.w=ae(this.value),l(4,r)}function Ie(){r.w.a=this.checked,l(4,r)}function ce(){r.n.m=lt(this),l(4,r)}function se(){r.n.i=this.value,l(4,r)}function me(){r.n.s=lt(this),l(4,r)}function K(){r.n.g=this.value,l(4,r)}function re(){r.n.d1=this.value,l(4,r)}function De(){r.n.d2=this.value,l(4,r)}function Ee(){r.n.d=this.checked,l(4,r)}function de(){r.n.h=this.checked,l(4,r)}function ee(){r.n.n1=this.value,l(4,r)}function oe(){r.q.s.e=this.checked,l(4,r)}function ve(){r.q.h=this.value,l(4,r)}function Ae(){r.q.p=ae(this.value),l(4,r)}function Oe(){r.q.u=this.value,l(4,r)}function he(){r.q.a=this.value,l(4,r)}function be(){r.q.c=this.value,l(4,r)}function x(){r.q.m=lt(this),l(4,r)}function ue(){r.q.b=this.value,l(4,r)}function Dl(){r.o.e=this.value,l(4,r)}function $i(){r.o.c=this.value,l(4,r)}function Ci(){r.o.u1=this.value,l(4,r)}function Mt(){r.o.u2=this.value,l(4,r)}function Si(){r.o.u3=this.value,l(4,r)}function en(){r.h.t=this.value,l(4,r)}function ml(){r.h.h=this.value,l(4,r)}function Jt(){r.h.n=this.value,l(4,r)}function Ti(je){r.t.t[je]=ae(this.value),l(4,r)}function Pi(){r.t.h=ae(this.value),l(4,r)}function Mi(je){r.u[je.key]=lt(this),l(4,r)}function ot(){i=lt(this),l(1,i),l(8,o)}function Di(){r.i.h.u=this.checked,l(4,r)}function xt(){r.i.h.p=lt(this),l(4,r)}function Ai(){r.i.a=ae(this.value),l(4,r)}function Ei(){r.i.l.i=this.checked,l(4,r)}function Ni(){r.i.l.p=ae(this.value),l(4,r)}function ut(){r.i.r.i=this.checked,l(4,r)}function Ii(){r.i.r.r=ae(this.value),l(4,r)}function el(){r.i.r.g=ae(this.value),l(4,r)}function tn(){r.i.r.b=ae(this.value),l(4,r)}function ht(){r.i.t.d=ae(this.value),l(4,r)}function Ri(){r.i.t.a=ae(this.value),l(4,r)}function Fi(){r.i.v.p=ae(this.value),l(4,r)}function Li(){r.i.v.d.v=ae(this.value),l(4,r)}function tl(){r.i.v.d.g=ae(this.value),l(4,r)}function Oi(){r.i.v.o=ae(this.value),l(4,r)}function qi(){r.i.v.m=ae(this.value),l(4,r)}function Ui(){r.i.v.b=ae(this.value),l(4,r)}function bt(){r.d.s=this.checked,l(4,r)}function pl(){r.d.t=this.checked,l(4,r)}function _l(){r.d.l=lt(this),l(4,r)}return t.$$set=je=>{"sysinfo"in je&&l(0,n=je.sysinfo)},t.$$.update=()=>{t.$$.dirty[0]&2&&Jp(i),t.$$.dirty[0]&1&&l(7,w=n.chip=="esp8266"?16:n.chip=="esp32s2"?44:39)},[n,i,m,f,r,p,_,w,o,a,h,b,d,g,k,S,M,I,T,A,R,F,G,L,E,O,j,U,q,W,H,V,J,ie,le,pe,Pe,we,Fe,Ce,Le,_e,Me,Ie,ce,se,me,K,re,De,Ee,de,ee,oe,ve,Ae,Oe,he,be,x,ue,Dl,$i,Ci,Mt,Si,en,ml,Jt,Ti,Pi,Mi,ot,Di,xt,Ai,Ei,Ni,ut,Ii,el,tn,ht,Ri,Fi,Li,tl,Oi,qi,Ui,bt,pl,_l]}class e0 extends $e{constructor(e){super(),ye(this,e,xp,Xp,ke,{sysinfo:0},null,[-1,-1,-1,-1])}}function hf(t,e,l){const n=t.slice();return n[20]=e[l],n}function t0(t){let e=fe(t[1].chip,t[1].board)+"",l;return{c(){l=C(e)},m(n,i){$(n,l,i)},p(n,i){i&2&&e!==(e=fe(n[1].chip,n[1].board)+"")&&B(l,e)},d(n){n&&y(l)}}}function bf(t){let e,l,n=t[1].apmac+"",i,o,a,m,f,r,p,_,h,b=zr(t[1])+"",d,g,w=t[1].boot_reason+"",k,S,M=t[1].ex_cause+"",I,T,A;const R=[n0,l0],F=[];function G(L,E){return L[0].u>0?0:1}return f=G(t),r=F[f]=R[f](t),{c(){e=c("div"),l=C("AP MAC: "),i=C(n),o=v(),a=c("div"),m=C(`Last boot:\r
            `),r.c(),p=v(),_=c("div"),h=C("Reason: "),d=C(b),g=C(" ("),k=C(w),S=C("/"),I=C(M),T=C(")"),u(e,"class","my-2"),u(a,"class","my-2"),u(_,"class","my-2")},m(L,E){$(L,e,E),s(e,l),s(e,i),$(L,o,E),$(L,a,E),s(a,m),F[f].m(a,null),$(L,p,E),$(L,_,E),s(_,h),s(_,d),s(_,g),s(_,k),s(_,S),s(_,I),s(_,T),A=!0},p(L,E){(!A||E&2)&&n!==(n=L[1].apmac+"")&&B(i,n);let O=f;f=G(L),f===O?F[f].p(L,E):(Se(),N(F[O],1,1,()=>{F[O]=null}),Te(),r=F[f],r?r.p(L,E):(r=F[f]=R[f](L),r.c()),D(r,1),r.m(a,null)),(!A||E&2)&&b!==(b=zr(L[1])+"")&&B(d,b),(!A||E&2)&&w!==(w=L[1].boot_reason+"")&&B(k,w),(!A||E&2)&&M!==(M=L[1].ex_cause+"")&&B(I,M)},i(L){A||(D(r),A=!0)},o(L){N(r),A=!1},d(L){L&&y(e),L&&y(o),L&&y(a),F[f].d(),L&&y(p),L&&y(_)}}}function l0(t){let e;return{c(){e=C("-")},m(l,n){$(l,e,n)},p:ne,i:ne,o:ne,d(l){l&&y(e)}}}function n0(t){let e,l;return e=new Mc({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:""}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function i0(t){let e;return{c(){e=c("span"),e.textContent="Update consents",u(e,"class","btn-pri-sm")},m(l,n){$(l,e,n)},p:ne,d(l){l&&y(e)}}}function gf(t){let e,l,n,i,o,a=ws(t[1].meter.mfg)+"",m,f,r,p,_=t[1].meter.model+"",h,b,d,g,w=t[1].meter.id+"",k;return{c(){e=c("div"),l=c("strong"),l.textContent="Meter",n=v(),i=c("div"),o=C("Manufacturer: "),m=C(a),f=v(),r=c("div"),p=C("Model: "),h=C(_),b=v(),d=c("div"),g=C("ID: "),k=C(w),u(l,"class","text-sm"),u(i,"class","my-2"),u(r,"class","my-2"),u(d,"class","my-2"),u(e,"class","cnt")},m(S,M){$(S,e,M),s(e,l),s(e,n),s(e,i),s(i,o),s(i,m),s(e,f),s(e,r),s(r,p),s(r,h),s(e,b),s(e,d),s(d,g),s(d,k)},p(S,M){M&2&&a!==(a=ws(S[1].meter.mfg)+"")&&B(m,a),M&2&&_!==(_=S[1].meter.model+"")&&B(h,_),M&2&&w!==(w=S[1].meter.id+"")&&B(k,w)},d(S){S&&y(e)}}}function kf(t){let e,l,n,i,o,a=t[1].net.ip+"",m,f,r,p,_=t[1].net.mask+"",h,b,d,g,w=t[1].net.gw+"",k,S,M,I,T=t[1].net.dns1+"",A,R,F=t[1].net.dns2&&wf(t);return{c(){e=c("div"),l=c("strong"),l.textContent="Network",n=v(),i=c("div"),o=C("IP: "),m=C(a),f=v(),r=c("div"),p=C("Mask: "),h=C(_),b=v(),d=c("div"),g=C("Gateway: "),k=C(w),S=v(),M=c("div"),I=C("DNS: "),A=C(T),R=v(),F&&F.c(),u(l,"class","text-sm"),u(i,"class","my-2"),u(r,"class","my-2"),u(d,"class","my-2"),u(M,"class","my-2"),u(e,"class","cnt")},m(G,L){$(G,e,L),s(e,l),s(e,n),s(e,i),s(i,o),s(i,m),s(e,f),s(e,r),s(r,p),s(r,h),s(e,b),s(e,d),s(d,g),s(d,k),s(e,S),s(e,M),s(M,I),s(M,A),s(M,R),F&&F.m(M,null)},p(G,L){L&2&&a!==(a=G[1].net.ip+"")&&B(m,a),L&2&&_!==(_=G[1].net.mask+"")&&B(h,_),L&2&&w!==(w=G[1].net.gw+"")&&B(k,w),L&2&&T!==(T=G[1].net.dns1+"")&&B(A,T),G[1].net.dns2?F?F.p(G,L):(F=wf(G),F.c(),F.m(M,null)):F&&(F.d(1),F=null)},d(G){G&&y(e),F&&F.d()}}}function wf(t){let e,l=t[1].net.dns2+"",n;return{c(){e=C("/ "),n=C(l)},m(i,o){$(i,e,o),$(i,n,o)},p(i,o){o&2&&l!==(l=i[1].net.dns2+"")&&B(n,l)},d(i){i&&y(e),i&&y(n)}}}function yf(t){let e,l,n,i=t[1].upgrade.t+"",o,a,m=t[1].version+"",f,r,p=t[1].upgrade.x+"",_,h,b=t[1].upgrade.e+"",d,g;return{c(){e=c("div"),l=c("div"),n=C("Previous upgrade attempt ("),o=C(i),a=C(") does not match current version ("),f=C(m),r=C(") ["),_=C(p),h=C("/"),d=C(b),g=C("]"),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(w,k){$(w,e,k),s(e,l),s(l,n),s(l,o),s(l,a),s(l,f),s(l,r),s(l,_),s(l,h),s(l,d),s(l,g)},p(w,k){k&2&&i!==(i=w[1].upgrade.t+"")&&B(o,i),k&2&&m!==(m=w[1].version+"")&&B(f,m),k&2&&p!==(p=w[1].upgrade.x+"")&&B(_,p),k&2&&b!==(b=w[1].upgrade.e+"")&&B(d,b)},d(w){w&&y(e)}}}function $f(t){let e,l,n,i=t[2].tag_name+"",o,a,m,f,r,p,_=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[2]&&t[2].tag_name!=t[1].version&&Cf(t),h=t[1].fwconsent===2&&Sf();return{c(){e=c("div"),l=C(`Latest version: \r
                `),n=c("a"),o=C(i),m=v(),_&&_.c(),f=v(),h&&h.c(),r=Be(),u(n,"href",a=t[2].html_url),u(n,"class","ml-2 text-blue-600 hover:text-blue-800"),u(n,"target","_blank"),u(n,"rel","noreferrer"),u(e,"class","my-2 flex")},m(b,d){$(b,e,d),s(e,l),s(e,n),s(n,o),s(e,m),_&&_.m(e,null),$(b,f,d),h&&h.m(b,d),$(b,r,d),p=!0},p(b,d){(!p||d&4)&&i!==(i=b[2].tag_name+"")&&B(o,i),(!p||d&4&&a!==(a=b[2].html_url))&&u(n,"href",a),(b[1].security==0||b[0].a)&&b[1].fwconsent===1&&b[2]&&b[2].tag_name!=b[1].version?_?(_.p(b,d),d&7&&D(_,1)):(_=Cf(b),_.c(),D(_,1),_.m(e,null)):_&&(Se(),N(_,1,1,()=>{_=null}),Te()),b[1].fwconsent===2?h||(h=Sf(),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null)},i(b){p||(D(_),p=!0)},o(b){N(_),p=!1},d(b){b&&y(e),_&&_.d(),b&&y(f),h&&h.d(b),b&&y(r)}}}function Cf(t){let e,l,n,i,o,a;return n=new Dc({}),{c(){e=c("div"),l=c("button"),Z(n.$$.fragment),u(e,"class","flex-none ml-2 text-green-500"),u(e,"title","Install this version")},m(m,f){$(m,e,f),s(e,l),Q(n,l,null),i=!0,o||(a=z(l,"click",t[10]),o=!0)},p:ne,i(m){i||(D(n.$$.fragment,m),i=!0)},o(m){N(n.$$.fragment,m),i=!1},d(m){m&&y(e),X(n),o=!1,a()}}}function Sf(t){let e;return{c(){e=c("div"),e.innerHTML='<div class="bd-yellow">You have disabled one-click firmware upgrade, link to self-upgrade is disabled</div>',u(e,"class","my-2")},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function Tf(t){let e,l=ys(fe(t[1].chip,t[1].board))+"",n;return{c(){e=c("div"),n=C(l),u(e,"class","bd-red")},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&2&&l!==(l=ys(fe(i[1].chip,i[1].board))+"")&&B(n,l)},d(i){i&&y(e)}}}function Pf(t){let e,l,n,i,o,a;function m(p,_){return p[4].length==0?o0:s0}let f=m(t),r=f(t);return{c(){e=c("div"),l=c("form"),n=c("input"),i=v(),r.c(),Wf(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","/firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(p,_){$(p,e,_),s(e,l),s(l,n),t[12](n),s(l,i),r.m(l,null),o||(a=[z(n,"change",t[13]),z(l,"submit",t[15])],o=!0)},p(p,_){f===(f=m(p))&&r?r.p(p,_):(r.d(1),r=f(p),r&&(r.c(),r.m(l,null)))},d(p){p&&y(e),t[12](null),r.d(),o=!1,ze(a)}}}function s0(t){let e=t[4][0].name+"",l,n,i;return{c(){l=C(e),n=v(),i=c("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm float-right")},m(o,a){$(o,l,a),$(o,n,a),$(o,i,a)},p(o,a){a&16&&e!==(e=o[4][0].name+"")&&B(l,e)},d(o){o&&y(l),o&&y(n),o&&y(i)}}}function o0(t){let e,l,n;return{c(){e=c("button"),e.textContent="Select firmware file for upgrade",u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(i,o){$(i,e,o),l||(n=z(e,"click",t[14]),l=!0)},p:ne,d(i){i&&y(e),l=!1,n()}}}function Mf(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g=t[9],w=[];for(let T=0;T<g.length;T+=1)w[T]=Df(hf(t,g,T));let k=t[7].length==0&&Af();function S(T,A){return T[7].length==0?r0:u0}let M=S(t),I=M(t);return{c(){e=c("div"),l=c("strong"),l.textContent="Backup & restore",n=v(),i=c("form"),o=c("div");for(let T=0;T<w.length;T+=1)w[T].c();a=v(),m=c("label"),m.innerHTML='<input type="checkbox" class="rounded" name="ic" value="true"/> Include Secrets<br/><small>(SSID, PSK, passwords and tokens)</small>',f=v(),k&&k.c(),r=v(),p=c("form"),_=c("input"),h=v(),I.c(),u(l,"class","text-sm"),u(m,"class","my-1 mx-3 col-span-2"),u(o,"class","grid grid-cols-2"),u(i,"method","get"),u(i,"action","/configfile.cfg"),u(i,"autocomplete","off"),Wf(_,"display","none"),u(_,"name","file"),u(_,"type","file"),u(_,"accept",".cfg"),u(p,"action","/configfile"),u(p,"enctype","multipart/form-data"),u(p,"method","post"),u(p,"autocomplete","off"),u(e,"class","cnt")},m(T,A){$(T,e,A),s(e,l),s(e,n),s(e,i),s(i,o);for(let R=0;R<w.length;R+=1)w[R]&&w[R].m(o,null);s(o,a),s(o,m),s(i,f),k&&k.m(i,null),s(e,r),s(e,p),s(p,_),t[16](_),s(p,h),I.m(p,null),b||(d=[z(_,"change",t[17]),z(p,"submit",t[19])],b=!0)},p(T,A){if(A&512){g=T[9];let R;for(R=0;R<g.length;R+=1){const F=hf(T,g,R);w[R]?w[R].p(F,A):(w[R]=Df(F),w[R].c(),w[R].m(o,a))}for(;R<w.length;R+=1)w[R].d(1);w.length=g.length}T[7].length==0?k||(k=Af(),k.c(),k.m(i,null)):k&&(k.d(1),k=null),M===(M=S(T))&&I?I.p(T,A):(I.d(1),I=M(T),I&&(I.c(),I.m(p,null)))},d(T){T&&y(e),Ht(w,T),k&&k.d(),t[16](null),I.d(),b=!1,ze(d)}}}function Df(t){let e,l,n,i=t[20].name+"",o;return{c(){e=c("label"),l=c("input"),n=v(),o=C(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[20].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(a,m){$(a,e,m),s(e,l),s(e,n),s(e,o)},p:ne,d(a){a&&y(e)}}}function Af(t){let e;return{c(){e=c("button"),e.textContent="Download",u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function u0(t){let e=t[7][0].name+"",l,n,i;return{c(){l=C(e),n=v(),i=c("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(o,a){$(o,l,a),$(o,n,a),$(o,i,a)},p(o,a){a&128&&e!==(e=o[7][0].name+"")&&B(l,e)},d(o){o&&y(l),o&&y(n),o&&y(i)}}}function r0(t){let e,l,n;return{c(){e=c("button"),e.textContent="Select file...",u(e,"type","button"),u(e,"class","btn-pri-sm")},m(i,o){$(i,e,o),l||(n=z(e,"click",t[18]),l=!0)},p:ne,d(i){i&&y(e),l=!1,n()}}}function a0(t){let e,l,n,i,o,a,m=t[1].chip+"",f,r,p,_,h,b,d,g,w=t[1].mac+"",k,S,M,I,T,A,R,F,G,L,E,O,j,U,q,W=t[1].version+"",H,V,J,ie,le=(t[1].security==0||t[0].a)&&Jn(t[1].board),pe,Pe,we,Fe,Ce,Le,_e,Me,Ie;h=new Sl({props:{to:"/vendor",$$slots:{default:[t0]},$$scope:{ctx:t}}});let ce=t[1].apmac&&t[1].apmac!=t[1].mac&&bf(t);T=new Sl({props:{to:"/consent",$$slots:{default:[i0]},$$scope:{ctx:t}}});let se=t[1].meter&&gf(t),me=t[1].net&&kf(t),K=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&yf(t),re=t[2]&&$f(t),De=le&&Tf(t),Ee=(t[1].security==0||t[0].a)&&Pf(t),de=(t[1].security==0||t[0].a)&&Mf(t);return Fe=new yt({props:{active:t[5],message:"Uploading firmware, please wait"}}),Le=new yt({props:{active:t[8],message:"Uploading configuration, please wait"}}),{c(){e=c("div"),l=c("div"),n=c("strong"),n.textContent="Device information",i=v(),o=c("div"),a=C("Chip: "),f=C(m),r=v(),p=c("div"),_=C("Device: "),Z(h.$$.fragment),b=v(),d=c("div"),g=C("MAC: "),k=C(w),S=v(),ce&&ce.c(),M=v(),I=c("div"),Z(T.$$.fragment),A=v(),R=c("button"),R.textContent="Reboot",F=v(),se&&se.c(),G=v(),me&&me.c(),L=v(),E=c("div"),O=c("strong"),O.textContent="Firmware",j=v(),U=c("div"),q=C("Installed version: "),H=C(W),V=v(),K&&K.c(),J=v(),re&&re.c(),ie=v(),De&&De.c(),pe=v(),Ee&&Ee.c(),Pe=v(),de&&de.c(),we=v(),Z(Fe.$$.fragment),Ce=v(),Z(Le.$$.fragment),u(n,"class","text-sm"),u(o,"class","my-2"),u(p,"class","my-2"),u(d,"class","my-2"),u(R,"class","text-xs py-1 px-2 rounded bg-yellow-500 text-white mr-3 float-right"),u(I,"class","my-2"),u(l,"class","cnt"),u(O,"class","text-sm"),u(U,"class","my-2"),u(E,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(ee,oe){$(ee,e,oe),s(e,l),s(l,n),s(l,i),s(l,o),s(o,a),s(o,f),s(l,r),s(l,p),s(p,_),Q(h,p,null),s(l,b),s(l,d),s(d,g),s(d,k),s(l,S),ce&&ce.m(l,null),s(l,M),s(l,I),Q(T,I,null),s(I,A),s(I,R),s(e,F),se&&se.m(e,null),s(e,G),me&&me.m(e,null),s(e,L),s(e,E),s(E,O),s(E,j),s(E,U),s(U,q),s(U,H),s(E,V),K&&K.m(E,null),s(E,J),re&&re.m(E,null),s(E,ie),De&&De.m(E,null),s(E,pe),Ee&&Ee.m(E,null),s(e,Pe),de&&de.m(e,null),$(ee,we,oe),Q(Fe,ee,oe),$(ee,Ce,oe),Q(Le,ee,oe),_e=!0,Me||(Ie=z(R,"click",t[11]),Me=!0)},p(ee,[oe]){(!_e||oe&2)&&m!==(m=ee[1].chip+"")&&B(f,m);const ve={};oe&8388610&&(ve.$$scope={dirty:oe,ctx:ee}),h.$set(ve),(!_e||oe&2)&&w!==(w=ee[1].mac+"")&&B(k,w),ee[1].apmac&&ee[1].apmac!=ee[1].mac?ce?(ce.p(ee,oe),oe&2&&D(ce,1)):(ce=bf(ee),ce.c(),D(ce,1),ce.m(l,M)):ce&&(Se(),N(ce,1,1,()=>{ce=null}),Te());const Ae={};oe&8388608&&(Ae.$$scope={dirty:oe,ctx:ee}),T.$set(Ae),ee[1].meter?se?se.p(ee,oe):(se=gf(ee),se.c(),se.m(e,G)):se&&(se.d(1),se=null),ee[1].net?me?me.p(ee,oe):(me=kf(ee),me.c(),me.m(e,L)):me&&(me.d(1),me=null),(!_e||oe&2)&&W!==(W=ee[1].version+"")&&B(H,W),ee[1].upgrade.t&&ee[1].upgrade.t!=ee[1].version?K?K.p(ee,oe):(K=yf(ee),K.c(),K.m(E,J)):K&&(K.d(1),K=null),ee[2]?re?(re.p(ee,oe),oe&4&&D(re,1)):(re=$f(ee),re.c(),D(re,1),re.m(E,ie)):re&&(Se(),N(re,1,1,()=>{re=null}),Te()),oe&3&&(le=(ee[1].security==0||ee[0].a)&&Jn(ee[1].board)),le?De?De.p(ee,oe):(De=Tf(ee),De.c(),De.m(E,pe)):De&&(De.d(1),De=null),ee[1].security==0||ee[0].a?Ee?Ee.p(ee,oe):(Ee=Pf(ee),Ee.c(),Ee.m(E,null)):Ee&&(Ee.d(1),Ee=null),ee[1].security==0||ee[0].a?de?de.p(ee,oe):(de=Mf(ee),de.c(),de.m(e,null)):de&&(de.d(1),de=null);const Oe={};oe&32&&(Oe.active=ee[5]),Fe.$set(Oe);const he={};oe&256&&(he.active=ee[8]),Le.$set(he)},i(ee){_e||(D(h.$$.fragment,ee),D(ce),D(T.$$.fragment,ee),D(re),D(Fe.$$.fragment,ee),D(Le.$$.fragment,ee),_e=!0)},o(ee){N(h.$$.fragment,ee),N(ce),N(T.$$.fragment,ee),N(re),N(Fe.$$.fragment,ee),N(Le.$$.fragment,ee),_e=!1},d(ee){ee&&y(e),X(h),ce&&ce.d(),X(T),se&&se.d(),me&&me.d(),K&&K.d(),re&&re.d(),De&&De.d(),Ee&&Ee.d(),de&&de.d(),ee&&y(we),X(Fe,ee),ee&&y(Ce),X(Le,ee),Me=!1,Ie()}}}async function f0(){await(await fetch("/reboot",{method:"POST"})).json()}function c0(t,e,l){let{data:n}=e,{sysinfo:i}=e,o=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price API",key:"is"}],a={};wo.subscribe(R=>{l(2,a=Pc(i.version,R)),a||l(2,a=R[0])});function m(){confirm("Do you want to upgrade this device to "+a.tag_name+"?")&&(i.board!=2&&i.board!=4&&i.board!=7||confirm(ys(fe(i.chip,i.board))))&&(Pt.update(R=>(R.upgrading=!0,R)),Tc(a.tag_name))}const f=function(){confirm("Are you sure you want to reboot the device?")&&(Pt.update(R=>(R.booting=!0,R)),f0())};let r,p=[],_=!1,h,b=[],d=!1;bo();function g(R){gs[R?"unshift":"push"](()=>{r=R,l(3,r)})}function w(){p=this.files,l(4,p)}const k=()=>{r.click()},S=()=>l(5,_=!0);function M(R){gs[R?"unshift":"push"](()=>{h=R,l(6,h)})}function I(){b=this.files,l(7,b)}const T=()=>{h.click()},A=()=>l(8,d=!0);return t.$$set=R=>{"data"in R&&l(0,n=R.data),"sysinfo"in R&&l(1,i=R.sysinfo)},[n,i,a,r,p,_,h,b,d,o,m,f,g,w,k,S,M,I,T,A]}class m0 extends $e{constructor(e){super(),ye(this,e,c0,a0,ke,{data:0,sysinfo:1})}}function Ef(t){let e,l,n=fe(t[0],7)+"",i,o,a=fe(t[0],5)+"",m,f,r=fe(t[0],4)+"",p,_,h=fe(t[0],3)+"",b,d,g,w,k=fe(t[0],2)+"",S,M,I=fe(t[0],1)+"",T,A,R=fe(t[0],0)+"",F,G,L,E,O=fe(t[0],101)+"",j,U,q=fe(t[0],100)+"",W;return{c(){e=c("optgroup"),l=c("option"),i=C(n),o=c("option"),m=C(a),f=c("option"),p=C(r),_=c("option"),b=C(h),d=v(),g=c("optgroup"),w=c("option"),S=C(k),M=c("option"),T=C(I),A=c("option"),F=C(R),G=v(),L=c("optgroup"),E=c("option"),j=C(O),U=c("option"),W=C(q),l.__value=7,l.value=l.__value,o.__value=5,o.value=o.__value,f.__value=4,f.value=f.__value,_.__value=3,_.value=_.__value,u(e,"label","amsleser.no"),w.__value=2,w.value=w.__value,M.__value=1,M.value=M.__value,A.__value=0,A.value=A.__value,u(g,"label","Custom hardware"),E.__value=101,E.value=E.__value,U.__value=100,U.value=U.__value,u(L,"label","Generic hardware")},m(H,V){$(H,e,V),s(e,l),s(l,i),s(e,o),s(o,m),s(e,f),s(f,p),s(e,_),s(_,b),$(H,d,V),$(H,g,V),s(g,w),s(w,S),s(g,M),s(M,T),s(g,A),s(A,F),$(H,G,V),$(H,L,V),s(L,E),s(E,j),s(L,U),s(U,W)},p(H,V){V&1&&n!==(n=fe(H[0],7)+"")&&B(i,n),V&1&&a!==(a=fe(H[0],5)+"")&&B(m,a),V&1&&r!==(r=fe(H[0],4)+"")&&B(p,r),V&1&&h!==(h=fe(H[0],3)+"")&&B(b,h),V&1&&k!==(k=fe(H[0],2)+"")&&B(S,k),V&1&&I!==(I=fe(H[0],1)+"")&&B(T,I),V&1&&R!==(R=fe(H[0],0)+"")&&B(F,R),V&1&&O!==(O=fe(H[0],101)+"")&&B(j,O),V&1&&q!==(q=fe(H[0],100)+"")&&B(W,q)},d(H){H&&y(e),H&&y(d),H&&y(g),H&&y(G),H&&y(L)}}}function Nf(t){let e,l,n=fe(t[0],201)+"",i,o,a=fe(t[0],202)+"",m,f,r=fe(t[0],203)+"",p,_,h=fe(t[0],200)+"",b;return{c(){e=c("optgroup"),l=c("option"),i=C(n),o=c("option"),m=C(a),f=c("option"),p=C(r),_=c("option"),b=C(h),l.__value=201,l.value=l.__value,o.__value=202,o.value=o.__value,f.__value=203,f.value=f.__value,_.__value=200,_.value=_.__value,u(e,"label","Generic hardware")},m(d,g){$(d,e,g),s(e,l),s(l,i),s(e,o),s(o,m),s(e,f),s(f,p),s(e,_),s(_,b)},p(d,g){g&1&&n!==(n=fe(d[0],201)+"")&&B(i,n),g&1&&a!==(a=fe(d[0],202)+"")&&B(m,a),g&1&&r!==(r=fe(d[0],203)+"")&&B(p,r),g&1&&h!==(h=fe(d[0],200)+"")&&B(b,h)},d(d){d&&y(e)}}}function If(t){let e,l,n=fe(t[0],7)+"",i,o,a=fe(t[0],6)+"",m,f,r=fe(t[0],5)+"",p,_,h,b,d=fe(t[0],51)+"",g,w,k=fe(t[0],50)+"",S;return{c(){e=c("optgroup"),l=c("option"),i=C(n),o=c("option"),m=C(a),f=c("option"),p=C(r),_=v(),h=c("optgroup"),b=c("option"),g=C(d),w=c("option"),S=C(k),l.__value=7,l.value=l.__value,o.__value=6,o.value=o.__value,f.__value=5,f.value=f.__value,u(e,"label","amsleser.no"),b.__value=51,b.value=b.__value,w.__value=50,w.value=w.__value,u(h,"label","Generic hardware")},m(M,I){$(M,e,I),s(e,l),s(l,i),s(e,o),s(o,m),s(e,f),s(f,p),$(M,_,I),$(M,h,I),s(h,b),s(b,g),s(h,w),s(w,S)},p(M,I){I&1&&n!==(n=fe(M[0],7)+"")&&B(i,n),I&1&&a!==(a=fe(M[0],6)+"")&&B(m,a),I&1&&r!==(r=fe(M[0],5)+"")&&B(p,r),I&1&&d!==(d=fe(M[0],51)+"")&&B(g,d),I&1&&k!==(k=fe(M[0],50)+"")&&B(S,k)},d(M){M&&y(e),M&&y(_),M&&y(h)}}}function Rf(t){let e,l,n=fe(t[0],8)+"",i,o,a,m,f=fe(t[0],71)+"",r,p,_=fe(t[0],70)+"",h;return{c(){e=c("optgroup"),l=c("option"),i=C(n),o=v(),a=c("optgroup"),m=c("option"),r=C(f),p=c("option"),h=C(_),l.__value=8,l.value=l.__value,u(e,"label","Custom hardware"),m.__value=71,m.value=m.__value,p.__value=70,p.value=p.__value,u(a,"label","Generic hardware")},m(b,d){$(b,e,d),s(e,l),s(l,i),$(b,o,d),$(b,a,d),s(a,m),s(m,r),s(a,p),s(p,h)},p(b,d){d&1&&n!==(n=fe(b[0],8)+"")&&B(i,n),d&1&&f!==(f=fe(b[0],71)+"")&&B(r,f),d&1&&_!==(_=fe(b[0],70)+"")&&B(h,_)},d(b){b&&y(e),b&&y(o),b&&y(a)}}}function Ff(t){let e,l,n=fe(t[0],200)+"",i;return{c(){e=c("optgroup"),l=c("option"),i=C(n),l.__value=200,l.value=l.__value,u(e,"label","Generic hardware")},m(o,a){$(o,e,a),s(e,l),s(l,i)},p(o,a){a&1&&n!==(n=fe(o[0],200)+"")&&B(i,n)},d(o){o&&y(e)}}}function p0(t){let e,l,n,i,o,a,m,f=t[0]=="esp8266"&&Ef(t),r=t[0]=="esp32"&&Nf(t),p=t[0]=="esp32s2"&&If(t),_=t[0]=="esp32c3"&&Rf(t),h=t[0]=="esp32solo"&&Ff(t);return{c(){e=c("option"),l=v(),f&&f.c(),n=v(),r&&r.c(),i=v(),p&&p.c(),o=v(),_&&_.c(),a=v(),h&&h.c(),m=Be(),e.__value=-1,e.value=e.__value},m(b,d){$(b,e,d),$(b,l,d),f&&f.m(b,d),$(b,n,d),r&&r.m(b,d),$(b,i,d),p&&p.m(b,d),$(b,o,d),_&&_.m(b,d),$(b,a,d),h&&h.m(b,d),$(b,m,d)},p(b,[d]){b[0]=="esp8266"?f?f.p(b,d):(f=Ef(b),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),b[0]=="esp32"?r?r.p(b,d):(r=Nf(b),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null),b[0]=="esp32s2"?p?p.p(b,d):(p=If(b),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null),b[0]=="esp32c3"?_?_.p(b,d):(_=Rf(b),_.c(),_.m(a.parentNode,a)):_&&(_.d(1),_=null),b[0]=="esp32solo"?h?h.p(b,d):(h=Ff(b),h.c(),h.m(m.parentNode,m)):h&&(h.d(1),h=null)},i:ne,o:ne,d(b){b&&y(e),b&&y(l),f&&f.d(b),b&&y(n),r&&r.d(b),b&&y(i),p&&p.d(b),b&&y(o),_&&_.d(b),b&&y(a),h&&h.d(b),b&&y(m)}}}function _0(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class d0 extends $e{constructor(e){super(),ye(this,e,_0,p0,ke,{chip:0})}}function Lf(t){let e;return{c(){e=c("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",u(e,"class","bd-red")},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function Of(t){let e,l,n,i,o,a,m;return a=new Nc({props:{chip:t[0].chip}}),{c(){e=c("div"),l=C("HAN GPIO"),n=c("br"),i=v(),o=c("select"),Z(a.$$.fragment),u(o,"name","vh"),u(o,"class","in-s"),u(e,"class","my-3")},m(f,r){$(f,e,r),s(e,l),s(e,n),s(e,i),s(e,o),Q(a,o,null),m=!0},p(f,r){const p={};r&1&&(p.chip=f[0].chip),a.$set(p)},i(f){m||(D(a.$$.fragment,f),m=!0)},o(f){N(a.$$.fragment,f),m=!1},d(f){f&&y(e),X(a)}}}function v0(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k,S,M,I,T,A,R,F,G,L,E,O,j,U=t[0].usrcfg&&Lf();d=new d0({props:{chip:t[0].chip}});let q=t[0].board&&t[0].board>20&&Of(t);return L=new yt({props:{active:t[1],message:"Saving device configuration"}}),{c(){e=c("div"),l=c("div"),n=c("form"),i=c("input"),o=v(),a=c("strong"),a.textContent="Initial configuration",m=v(),U&&U.c(),f=v(),r=c("div"),p=C("Board type"),_=c("br"),h=v(),b=c("select"),Z(d.$$.fragment),g=v(),q&&q.c(),w=v(),k=c("div"),S=c("label"),M=c("input"),I=C(" Clear all other configuration"),T=v(),A=c("div"),A.innerHTML='<button type="submit" class="btn-pri">Save</button>',R=v(),F=c("span"),F.textContent=" ",G=v(),Z(L.$$.fragment),u(i,"type","hidden"),u(i,"name","v"),i.value="true",u(a,"class","text-sm"),u(b,"name","vb"),u(b,"class","in-s"),t[0].board===void 0&&Ve(()=>t[4].call(b)),u(r,"class","my-3"),u(M,"type","checkbox"),u(M,"name","vr"),M.__value="true",M.value=M.__value,u(M,"class","rounded mb-1"),u(k,"class","my-3"),u(A,"class","my-3"),u(F,"class","clear-both"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(W,H){$(W,e,H),s(e,l),s(l,n),s(n,i),s(n,o),s(n,a),s(n,m),U&&U.m(n,null),s(n,f),s(n,r),s(r,p),s(r,_),s(r,h),s(r,b),Q(d,b,null),Ne(b,t[0].board,!0),s(n,g),q&&q.m(n,null),s(n,w),s(n,k),s(k,S),s(S,M),M.checked=t[2],s(S,I),s(n,T),s(n,A),s(n,R),s(n,F),$(W,G,H),Q(L,W,H),E=!0,O||(j=[z(b,"change",t[4]),z(M,"change",t[5]),z(n,"submit",$s(t[3]))],O=!0)},p(W,[H]){W[0].usrcfg?U||(U=Lf(),U.c(),U.m(n,f)):U&&(U.d(1),U=null);const V={};H&1&&(V.chip=W[0].chip),d.$set(V),H&1&&Ne(b,W[0].board),W[0].board&&W[0].board>20?q?(q.p(W,H),H&1&&D(q,1)):(q=Of(W),q.c(),D(q,1),q.m(n,w)):q&&(Se(),N(q,1,1,()=>{q=null}),Te()),H&4&&(M.checked=W[2]);const J={};H&2&&(J.active=W[1]),L.$set(J)},i(W){E||(D(d.$$.fragment,W),D(q),D(L.$$.fragment,W),E=!0)},o(W){N(d.$$.fragment,W),N(q),N(L.$$.fragment,W),E=!1},d(W){W&&y(e),U&&U.d(),X(d),q&&q.d(),W&&y(G),X(L,W),O=!1,ze(j)}}}function h0(t,e,l){let{sysinfo:n={}}=e,i=!1;async function o(r){l(1,i=!0);const p=new FormData(r.target),_=new URLSearchParams;for(let d of p){const[g,w]=d;_.append(g,w)}let b=await(await fetch("/save",{method:"POST",body:_})).json();l(1,i=!1),Pt.update(d=>(d.vndcfg=b.success,d.booting=b.reboot,d)),Zn(n.usrcfg?"/":"/setup")}let a=!1;function m(){n.board=lt(this),l(0,n)}function f(){a=this.checked,l(2,a),l(0,n)}return t.$$set=r=>{"sysinfo"in r&&l(0,n=r.sysinfo)},t.$$.update=()=>{t.$$.dirty&1&&l(2,a=!n.usrcfg)},[n,i,a,o,m,f]}class b0 extends $e{constructor(e){super(),ye(this,e,h0,v0,ke,{sysinfo:0})}}function qf(t){let e,l,n,i,o,a,m,f;return m=new Ic({}),{c(){e=c("br"),l=v(),n=c("div"),i=c("input"),o=v(),a=c("select"),Z(m.$$.fragment),u(i,"name","si"),u(i,"type","text"),u(i,"class","in-f w-full"),i.required=t[1],u(a,"name","su"),u(a,"class","in-l"),a.required=t[1],u(n,"class","flex")},m(r,p){$(r,e,p),$(r,l,p),$(r,n,p),s(n,i),s(n,o),s(n,a),Q(m,a,null),f=!0},p(r,p){(!f||p&2)&&(i.required=r[1]),(!f||p&2)&&(a.required=r[1])},i(r){f||(D(m.$$.fragment,r),f=!0)},o(r){N(m.$$.fragment,r),f=!1},d(r){r&&y(e),r&&y(l),r&&y(n),X(m)}}}function Uf(t){let e;return{c(){e=c("div"),e.innerHTML=`<div>Gateway<br/> 
                    <input name="sg" type="text" class="in-f w-full"/></div> 
                <div>DNS<br/> 
                    <input name="sd" type="text" class="in-l w-full"/></div>`,u(e,"class","my-3 flex")},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function g0(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k,S,M,I,T,A,R,F,G,L,E,O,j=t[1]&&qf(t),U=t[1]&&Uf();return G=new yt({props:{active:t[2],message:"Saving your configuration to the device"}}),{c(){e=c("div"),l=c("div"),n=c("form"),i=c("input"),o=v(),a=c("strong"),a.textContent="Setup",m=v(),f=c("div"),f.innerHTML=`SSID<br/> 
                <input name="ss" type="text" class="in-s" required=""/>`,r=v(),p=c("div"),p.innerHTML=`PSK<br/> 
                <input name="sp" type="password" class="in-s" autocomplete="off"/>`,_=v(),h=c("div"),b=C(`Hostname\r
                `),d=c("input"),g=v(),w=c("div"),k=c("label"),S=c("input"),M=C(" Static IP"),I=v(),j&&j.c(),T=v(),U&&U.c(),A=v(),R=c("div"),R.innerHTML='<button type="submit" class="btn-pri">Save</button>',F=v(),Z(G.$$.fragment),u(i,"type","hidden"),u(i,"name","s"),i.value="true",u(a,"class","text-sm"),u(f,"class","my-3"),u(p,"class","my-3"),u(d,"name","sh"),u(d,"type","text"),u(d,"class","in-s"),u(d,"maxlength","32"),u(d,"pattern","[a-z0-9_-]+"),u(d,"placeholder","Optional, ex.: ams-reader"),u(d,"autocomplete","off"),u(S,"type","checkbox"),u(S,"name","sm"),S.__value="static",S.value=S.__value,u(S,"class","rounded mb-1"),u(w,"class","my-3"),u(R,"class","my-3"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(q,W){$(q,e,W),s(e,l),s(l,n),s(n,i),s(n,o),s(n,a),s(n,m),s(n,f),s(n,r),s(n,p),s(n,_),s(n,h),s(h,b),s(h,d),Y(d,t[0].hostname),s(n,g),s(n,w),s(w,k),s(k,S),S.checked=t[1],s(k,M),s(w,I),j&&j.m(w,null),s(n,T),U&&U.m(n,null),s(n,A),s(n,R),$(q,F,W),Q(G,q,W),L=!0,E||(O=[z(d,"input",t[4]),z(S,"change",t[5]),z(n,"submit",$s(t[3]))],E=!0)},p(q,[W]){W&1&&d.value!==q[0].hostname&&Y(d,q[0].hostname),W&2&&(S.checked=q[1]),q[1]?j?(j.p(q,W),W&2&&D(j,1)):(j=qf(q),j.c(),D(j,1),j.m(w,null)):j&&(Se(),N(j,1,1,()=>{j=null}),Te()),q[1]?U||(U=Uf(),U.c(),U.m(n,A)):U&&(U.d(1),U=null);const H={};W&4&&(H.active=q[2]),G.$set(H)},i(q){L||(D(j),D(G.$$.fragment,q),L=!0)},o(q){N(j),N(G.$$.fragment,q),L=!1},d(q){q&&y(e),j&&j.d(),U&&U.d(),q&&y(F),X(G,q),E=!1,ze(O)}}}function k0(t,e,l){let{sysinfo:n={}}=e,i=!1,o=!1,a=0;function m(){var _="";a++;var h=function(){setTimeout(m,1e3)};if(n.net.ip&&a%3==0){if(!n.net.ip){h();return}_="http://"+n.net.ip}else n.hostname&&a%3==1?_="http://"+n.hostname:n.hostname&&a%3==2?_="http://"+n.hostname+".local":_="";console&&console.log("Trying url "+_),Pt.update(d=>(d.trying=_,d));var b=new XMLHttpRequest;b.timeout=5e3,b.addEventListener("abort",h),b.addEventListener("error",h),b.addEventListener("timeout",h),b.addEventListener("load",function(d){window.location.href=_||"/"}),b.open("GET",_+"/is-alive",!0),b.send()}async function f(_){l(2,o=!0);const h=new FormData(_.target),b=new URLSearchParams;for(let w of h){const[k,S]=w;b.append(k,S)}let g=await(await fetch("/save",{method:"POST",body:b})).json();l(2,o=!1),Pt.update(w=>(w.hostname=h.get("sh"),w.usrcfg=g.success,w.booting=g.reboot,i&&(w.net.ip=h.get("si"),w.net.mask=h.get("su"),w.net.gw=h.get("sg"),w.net.dns1=h.get("sd")),setTimeout(m,5e3),w))}function r(){n.hostname=this.value,l(0,n)}function p(){i=this.checked,l(1,i)}return t.$$set=_=>{"sysinfo"in _&&l(0,n=_.sysinfo)},[n,i,o,f,r,p]}class w0 extends $e{constructor(e){super(),ye(this,e,k0,g0,ke,{sysinfo:0})}}function y0(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k;return d=new yt({props:{active:t[2],message:"Uploading file, please wait"}}),{c(){e=c("div"),l=c("div"),n=c("strong"),i=C("Upload "),o=C(t[1]),a=v(),m=c("p"),m.textContent="Select a suitable file and click upload",f=v(),r=c("form"),p=c("input"),_=v(),h=c("div"),h.innerHTML='<button type="submit" class="btn-pri">Upload</button>',b=v(),Z(d.$$.fragment),u(m,"class","mb-4"),u(p,"name","file"),u(p,"type","file"),u(h,"class","w-full text-right mt-4"),u(r,"action",t[0]),u(r,"enctype","multipart/form-data"),u(r,"method","post"),u(r,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(S,M){$(S,e,M),s(e,l),s(l,n),s(n,i),s(n,o),s(l,a),s(l,m),s(l,f),s(l,r),s(r,p),s(r,_),s(r,h),$(S,b,M),Q(d,S,M),g=!0,w||(k=z(r,"submit",t[3]),w=!0)},p(S,[M]){(!g||M&2)&&B(o,S[1]),(!g||M&1)&&u(r,"action",S[0]);const I={};M&4&&(I.active=S[2]),d.$set(I)},i(S){g||(D(d.$$.fragment,S),g=!0)},o(S){N(d.$$.fragment,S),g=!1},d(S){S&&y(e),S&&y(b),X(d,S),w=!1,k()}}}function $0(t,e,l){let{action:n}=e,{title:i}=e,o=!1;const a=()=>l(2,o=!0);return t.$$set=m=>{"action"in m&&l(0,n=m.action),"title"in m&&l(1,i=m.title)},[n,i,o,a]}class yo extends $e{constructor(e){super(),ye(this,e,$0,y0,ke,{action:0,title:1})}}function C0(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k,S,M,I,T,A,R,F,G,L,E,O,j,U,q;return O=new yt({props:{active:t[1],message:"Saving preferences"}}),{c(){e=c("div"),l=c("div"),n=c("form"),i=c("div"),i.textContent="Various permissions we need to do stuff:",o=v(),a=c("hr"),m=v(),f=c("div"),r=C("Enable one-click upgrade? (implies data collection)"),p=c("br"),_=v(),h=c("a"),b=C("Read more"),d=c("br"),g=v(),w=c("label"),k=c("input"),M=C(" Yes"),I=c("label"),T=c("input"),R=C(" No"),F=c("br"),G=v(),L=c("div"),L.innerHTML='<button type="submit" class="btn-pri">Save</button>',E=v(),Z(O.$$.fragment),u(h,"href",Tt("Data-collection-on-one-click-firmware-upgrade")),u(h,"target","_blank"),u(h,"class","text-blue-600 hover:text-blue-800"),u(k,"type","radio"),u(k,"name","sf"),k.value=1,k.checked=S=t[0].fwconsent===1,u(k,"class","rounded m-2"),k.required=!0,u(T,"type","radio"),u(T,"name","sf"),T.value=2,T.checked=A=t[0].fwconsent===2,u(T,"class","rounded m-2"),T.required=!0,u(f,"class","my-3"),u(L,"class","my-3"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-3 lg:grid-cols-2")},m(W,H){$(W,e,H),s(e,l),s(l,n),s(n,i),s(n,o),s(n,a),s(n,m),s(n,f),s(f,r),s(f,p),s(f,_),s(f,h),s(h,b),s(f,d),s(f,g),s(f,w),s(w,k),s(w,M),s(f,I),s(I,T),s(I,R),s(f,F),s(n,G),s(n,L),$(W,E,H),Q(O,W,H),j=!0,U||(q=z(n,"submit",$s(t[2])),U=!0)},p(W,[H]){(!j||H&1&&S!==(S=W[0].fwconsent===1))&&(k.checked=S),(!j||H&1&&A!==(A=W[0].fwconsent===2))&&(T.checked=A);const V={};H&2&&(V.active=W[1]),O.$set(V)},i(W){j||(D(O.$$.fragment,W),j=!0)},o(W){N(O.$$.fragment,W),j=!1},d(W){W&&y(e),W&&y(E),X(O,W),U=!1,q()}}}function S0(t,e,l){let{sysinfo:n={}}=e,i=!1;async function o(a){l(1,i=!0);const m=new FormData(a.target),f=new URLSearchParams;for(let _ of m){const[h,b]=_;f.append(h,b)}let p=await(await fetch("/save",{method:"POST",body:f})).json();l(1,i=!1),Pt.update(_=>(_.fwconsent=m.sf===!0?1:m.sf===!1?2:0,_.booting=p.reboot,_)),Zn("/")}return t.$$set=a=>{"sysinfo"in a&&l(0,n=a.sysinfo)},[n,i,o]}class T0 extends $e{constructor(e){super(),ye(this,e,S0,C0,ke,{sysinfo:0})}}function P0(t){let e,l;return e=new Sp({props:{data:t[1],sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&2&&(o.data=n[1]),i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function M0(t){let e,l;return e=new e0({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function D0(t){let e,l;return e=new m0({props:{sysinfo:t[0],data:t[1]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),i&2&&(o.data=n[1]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function A0(t){let e,l;return e=new yo({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function E0(t){let e,l;return e=new yo({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function N0(t){let e,l;return e=new yo({props:{title:"private key",action:"/mqtt-key"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function I0(t){let e,l;return e=new T0({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function R0(t){let e,l;return e=new w0({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function F0(t){let e,l;return e=new b0({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function L0(t){let e,l,n,i,o,a,m,f,r,p,_,h,b,d,g,w,k,S,M,I;return e=new Um({props:{data:t[1]}}),n=new fl({props:{path:"/",$$slots:{default:[P0]},$$scope:{ctx:t}}}),o=new fl({props:{path:"/configuration",$$slots:{default:[M0]},$$scope:{ctx:t}}}),m=new fl({props:{path:"/status",$$slots:{default:[D0]},$$scope:{ctx:t}}}),r=new fl({props:{path:"/mqtt-ca",$$slots:{default:[A0]},$$scope:{ctx:t}}}),_=new fl({props:{path:"/mqtt-cert",$$slots:{default:[E0]},$$scope:{ctx:t}}}),b=new fl({props:{path:"/mqtt-key",$$slots:{default:[N0]},$$scope:{ctx:t}}}),g=new fl({props:{path:"/consent",$$slots:{default:[I0]},$$scope:{ctx:t}}}),k=new fl({props:{path:"/setup",$$slots:{default:[R0]},$$scope:{ctx:t}}}),M=new fl({props:{path:"/vendor",$$slots:{default:[F0]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),l=v(),Z(n.$$.fragment),i=v(),Z(o.$$.fragment),a=v(),Z(m.$$.fragment),f=v(),Z(r.$$.fragment),p=v(),Z(_.$$.fragment),h=v(),Z(b.$$.fragment),d=v(),Z(g.$$.fragment),w=v(),Z(k.$$.fragment),S=v(),Z(M.$$.fragment)},m(T,A){Q(e,T,A),$(T,l,A),Q(n,T,A),$(T,i,A),Q(o,T,A),$(T,a,A),Q(m,T,A),$(T,f,A),Q(r,T,A),$(T,p,A),Q(_,T,A),$(T,h,A),Q(b,T,A),$(T,d,A),Q(g,T,A),$(T,w,A),Q(k,T,A),$(T,S,A),Q(M,T,A),I=!0},p(T,A){const R={};A&2&&(R.data=T[1]),e.$set(R);const F={};A&7&&(F.$$scope={dirty:A,ctx:T}),n.$set(F);const G={};A&5&&(G.$$scope={dirty:A,ctx:T}),o.$set(G);const L={};A&7&&(L.$$scope={dirty:A,ctx:T}),m.$set(L);const E={};A&4&&(E.$$scope={dirty:A,ctx:T}),r.$set(E);const O={};A&4&&(O.$$scope={dirty:A,ctx:T}),_.$set(O);const j={};A&4&&(j.$$scope={dirty:A,ctx:T}),b.$set(j);const U={};A&5&&(U.$$scope={dirty:A,ctx:T}),g.$set(U);const q={};A&5&&(q.$$scope={dirty:A,ctx:T}),k.$set(q);const W={};A&5&&(W.$$scope={dirty:A,ctx:T}),M.$set(W)},i(T){I||(D(e.$$.fragment,T),D(n.$$.fragment,T),D(o.$$.fragment,T),D(m.$$.fragment,T),D(r.$$.fragment,T),D(_.$$.fragment,T),D(b.$$.fragment,T),D(g.$$.fragment,T),D(k.$$.fragment,T),D(M.$$.fragment,T),I=!0)},o(T){N(e.$$.fragment,T),N(n.$$.fragment,T),N(o.$$.fragment,T),N(m.$$.fragment,T),N(r.$$.fragment,T),N(_.$$.fragment,T),N(b.$$.fragment,T),N(g.$$.fragment,T),N(k.$$.fragment,T),N(M.$$.fragment,T),I=!1},d(T){X(e,T),T&&y(l),X(n,T),T&&y(i),X(o,T),T&&y(a),X(m,T),T&&y(f),X(r,T),T&&y(p),X(_,T),T&&y(h),X(b,T),T&&y(d),X(g,T),T&&y(w),X(k,T),T&&y(S),X(M,T)}}}function O0(t){let e,l,n,i;const o=[H0,U0],a=[];function m(f,r){return f[0].trying?0:1}return e=m(t),l=a[e]=o[e](t),{c(){l.c(),n=Be()},m(f,r){a[e].m(f,r),$(f,n,r),i=!0},p(f,r){let p=e;e=m(f),e===p?a[e].p(f,r):(Se(),N(a[p],1,1,()=>{a[p]=null}),Te(),l=a[e],l?l.p(f,r):(l=a[e]=o[e](f),l.c()),D(l,1),l.m(n.parentNode,n))},i(f){i||(D(l),i=!0)},o(f){N(l),i=!1},d(f){a[e].d(f),f&&y(n)}}}function q0(t){let e,l;return e=new yt({props:{active:"true",message:"Device is upgrading, please wait"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function U0(t){let e,l;return e=new yt({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function H0(t){let e,l;return e=new yt({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[0].trying}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.message="Device is booting, please wait. Trying to reach it on "+n[0].trying),e.$set(o)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){N(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function j0(t){let e,l,n,i,o,a;l=new pc({props:{$$slots:{default:[L0]},$$scope:{ctx:t}}});const m=[q0,O0],f=[];function r(p,_){return p[0].upgrading?0:p[0].booting?1:-1}return~(i=r(t))&&(o=f[i]=m[i](t)),{c(){e=c("div"),Z(l.$$.fragment),n=v(),o&&o.c(),u(e,"class","container mx-auto m-3")},m(p,_){$(p,e,_),Q(l,e,null),s(e,n),~i&&f[i].m(e,null),a=!0},p(p,[_]){const h={};_&7&&(h.$$scope={dirty:_,ctx:p}),l.$set(h);let b=i;i=r(p),i===b?~i&&f[i].p(p,_):(o&&(Se(),N(f[b],1,1,()=>{f[b]=null}),Te()),~i?(o=f[i],o?o.p(p,_):(o=f[i]=m[i](p),o.c()),D(o,1),o.m(e,null)):o=null)},i(p){a||(D(l.$$.fragment,p),D(o),a=!0)},o(p){N(l.$$.fragment,p),N(o),a=!1},d(p){p&&y(e),X(l),~i&&f[i].d()}}}function W0(t,e,l){let n={};Pt.subscribe(o=>{l(0,n=o),n.vndcfg===!1?Zn("/vendor"):n.usrcfg===!1?Zn("/setup"):n.fwconsent===0&&Zn("/consent")}),bo();let i={};return om.subscribe(o=>{l(1,i=o)}),[n,i]}class G0 extends $e{constructor(e){super(),ye(this,e,W0,j0,ke,{})}}localStorage.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");new G0({target:document.getElementById("app")});
