(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function oe(){}function Qt(t,e){for(const l in e)t[l]=e[l];return t}function Wf(t){return t()}function Cr(){return Object.create(null)}function je(t){t.forEach(Wf)}function Gf(t){return typeof t=="function"}function ye(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let os;function Rc(t,e){return os||(os=document.createElement("a")),os.href=e,t===os.href}function Lc(t){return Object.keys(t).length===0}function to(t,...e){if(t==null)return oe;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ti(t){let e;return to(t,l=>e=l)(),e}function nl(t,e,l){t.$$.on_destroy.push(to(e,l))}function lo(t,e,l,n){if(t){const i=Bf(t,e,l,n);return t[0](i)}}function Bf(t,e,l,n){return t[1]&&n?Qt(l.ctx.slice(),t[1](n(e))):l.ctx}function no(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],r=Math.max(e.dirty.length,i.length);for(let a=0;a<r;a+=1)s[a]=e.dirty[a]|i[a];return s}return e.dirty|i}return e.dirty}function io(t,e,l,n,i,s){if(i){const r=Bf(e,l,n,s);t.p(r,i)}}function so(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function ps(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function _s(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function o(t,e){t.appendChild(e)}function w(t,e,l){t.insertBefore(e,l||null)}function k(t){t.parentNode.removeChild(t)}function ol(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function m(t){return document.createElement(t)}function Pe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function C(t){return document.createTextNode(t)}function b(){return C(" ")}function Me(){return C("")}function K(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function oo(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function il(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set?t[n]=e[n]:u(t,n,e[n])}function fe(t){return t===""?null:+t}function qc(t){return Array.from(t.childNodes)}function H(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e){t.value=e==null?"":e}function Yf(t,e,l,n){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function Ne(t,e){for(let l=0;l<t.options.length;l+=1){const n=t.options[l];if(n.__value===e){n.selected=!0;return}}t.selectedIndex=-1}function mt(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let us;function Oc(){if(us===void 0){us=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{us=!0}}return us}function Uc(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=m("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Oc();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=K(window,"message",r=>{r.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=K(n.contentWindow,"resize",e)}),o(t,n),()=>{(i||s&&n.contentWindow)&&s(),k(n)}}function Hc(t,e,{bubbles:l=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,l,n,e),i}let gi;function di(t){gi=t}function ki(){if(!gi)throw new Error("Function called outside component initialization");return gi}function jc(t){ki().$$.on_mount.push(t)}function Wc(t){ki().$$.on_destroy.push(t)}function Gc(){const t=ki();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=Hc(e,l,{cancelable:n});return i.slice().forEach(r=>{r.call(t,s)}),!s.defaultPrevented}return!0}}function vi(t,e){return ki().$$.context.set(t,e),e}function Dl(t){return ki().$$.context.get(t)}const pi=[],ds=[],cs=[],$r=[],zf=Promise.resolve();let Gs=!1;function Vf(){Gs||(Gs=!0,zf.then(Kf))}function Bc(){return Vf(),zf}function Ze(t){cs.push(t)}const qs=new Set;let rs=0;function Kf(){const t=gi;do{for(;rs<pi.length;){const e=pi[rs];rs++,di(e),Yc(e.$$)}for(di(null),pi.length=0,rs=0;ds.length;)ds.pop()();for(let e=0;e<cs.length;e+=1){const l=cs[e];qs.has(l)||(qs.add(l),l())}cs.length=0}while(pi.length);for(;$r.length;)$r.pop()();Gs=!1,qs.clear(),di(t)}function Yc(t){if(t.fragment!==null){t.update(),je(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}const ms=new Set;let en;function Te(){en={r:0,c:[],p:en}}function Se(){en.r||je(en.c),en=en.p}function M(t,e){t&&t.i&&(ms.delete(t),t.i(e))}function A(t,e,l,n){if(t&&t.o){if(ms.has(t))return;ms.add(t),en.c.push(()=>{ms.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function li(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const r=t[s],a=e[s];if(a){for(const c in r)c in a||(n[c]=1);for(const c in a)i[c]||(l[c]=a[c],i[c]=1);t[s]=a}else for(const c in r)i[c]=1}for(const r in n)r in l||(l[r]=void 0);return l}function Tr(t){return typeof t=="object"&&t!==null?t:{}}function J(t){t&&t.c()}function Q(t,e,l,n){const{fragment:i,on_mount:s,on_destroy:r,after_update:a}=t.$$;i&&i.m(e,l),n||Ze(()=>{const c=s.map(Wf).filter(Gf);r?r.push(...c):je(c),t.$$.on_mount=[]}),a.forEach(Ze)}function X(t,e){const l=t.$$;l.fragment!==null&&(je(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function zc(t,e){t.$$.dirty[0]===-1&&(pi.push(t),Vf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ce(t,e,l,n,i,s,r,a=[-1]){const c=gi;di(t);const f=t.$$={fragment:null,ctx:null,props:s,update:oe,not_equal:i,bound:Cr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Cr(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};r&&r(f.root);let _=!1;if(f.ctx=l?l(t,e.props||{},(p,d,...v)=>{const h=v.length?v[0]:d;return f.ctx&&i(f.ctx[p],f.ctx[p]=h)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](h),_&&zc(t,p)),d}):[],f.update(),_=!0,je(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const p=qc(e.target);f.fragment&&f.fragment.l(p),p.forEach(k)}else f.fragment&&f.fragment.c();e.intro&&M(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),Kf()}di(c)}class $e{$destroy(){X(this,1),this.$destroy=oe}$on(e,l){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Lc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Sr=t=>typeof t>"u",Qf=t=>typeof t=="function",Xf=t=>typeof t=="number";function Vc(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Zf(){let t=0;return()=>t++}function Kc(){return Math.random().toString(36).substring(2)}const El=typeof window>"u";function Jf(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const Bs=(t,e)=>t?{}:{style:e},ei=t=>({"aria-hidden":"true",...Bs(t,"display:none;")}),xn=[];function xf(t,e){return{subscribe:Je(t,e).subscribe}}function Je(t,e=oe){let l;const n=new Set;function i(a){if(ye(t,a)&&(t=a,l)){const c=!xn.length;for(const f of n)f[1](),xn.push(f,t);if(c){for(let f=0;f<xn.length;f+=2)xn[f][0](xn[f+1]);xn.length=0}}}function s(a){i(a(t))}function r(a,c=oe){const f=[a,c];return n.add(f),n.size===1&&(l=e(i)||oe),a(t),()=>{n.delete(f),n.size===0&&(l(),l=null)}}return{set:i,update:s,subscribe:r}}function Qc(t,e,l){const n=!Array.isArray(t),i=n?[t]:t,s=e.length<2;return xf(l,r=>{let a=!1;const c=[];let f=0,_=oe;const p=()=>{if(f)return;_();const v=e(n?c[0]:c,r);s?r(v):_=Gf(v)?v:oe},d=i.map((v,h)=>to(v,g=>{c[h]=g,f&=~(1<<h),a&&p()},()=>{f|=1<<h}));return a=!0,p(),function(){je(d),_()}})}const wi=t=>`@@svnav-ctx__${t}`,Ys=wi("LOCATION"),ni=wi("ROUTER"),ec=wi("ROUTE"),Xc=wi("ROUTE_PARAMS"),Zc=wi("FOCUS_ELEM"),tc=/^:(.+)/,_i=(t,e,l)=>t.substr(e,l),zs=(t,e)=>_i(t,0,e.length)===e,Jc=t=>t==="",xc=t=>tc.test(t),lc=t=>t[0]==="*",e1=t=>t.replace(/\*.*$/,""),nc=t=>t.replace(/(^\/+|\/+$)/g,"");function ul(t,e=!1){const l=nc(t).split("/");return e?l.filter(Boolean):l}const Os=(t,e)=>t+(e?`?${e}`:""),uo=t=>`/${nc(t)}`;function yi(...t){const e=n=>ul(n,!0).join("/"),l=t.map(e).join("/");return uo(l)}const ro=1,gs=2,on=3,t1=4,ic=5,l1=6,sc=7,n1=8,i1=9,oc=10,uc=11,s1={[ro]:"Link",[gs]:"Route",[on]:"Router",[t1]:"useFocus",[ic]:"useLocation",[l1]:"useMatch",[sc]:"useNavigate",[n1]:"useParams",[i1]:"useResolvable",[oc]:"useResolve",[uc]:"navigate"},ao=t=>s1[t];function o1(t,e){let l;return t===gs?l=e.path?`path="${e.path}"`:"default":t===ro?l=`to="${e.to}"`:t===on&&(l=`basepath="${e.basepath||""}"`),`<${ao(t)} ${l||""} />`}function u1(t,e,l,n){const i=l&&o1(n||t,l),s=i?`

Occurred in: ${i}`:"",r=ao(t),a=Qf(e)?e(r):e;return`<${r}> ${a}${s}`}const rc=t=>(...e)=>t(u1(...e)),ac=rc(t=>{throw new Error(t)}),vs=rc(console.warn),Pr=4,r1=3,a1=2,f1=1,c1=1;function m1(t,e){const l=t.default?0:ul(t.fullPath).reduce((n,i)=>{let s=n;return s+=Pr,Jc(i)?s+=c1:xc(i)?s+=a1:lc(i)?s-=Pr+f1:s+=r1,s},0);return{route:t,score:l,index:e}}function p1(t){return t.map(m1).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function fc(t,e){let l,n;const[i]=e.split("?"),s=ul(i),r=s[0]==="",a=p1(t);for(let c=0,f=a.length;c<f;c++){const{route:_}=a[c];let p=!1;const d={},v=S=>({..._,params:d,uri:S});if(_.default){n=v(e);continue}const h=ul(_.fullPath),g=Math.max(s.length,h.length);let y=0;for(;y<g;y++){const S=h[y],T=s[y];if(!Sr(S)&&lc(S)){const P=S==="*"?"*":S.slice(1);d[P]=s.slice(y).map(decodeURIComponent).join("/");break}if(Sr(T)){p=!0;break}const $=tc.exec(S);if($&&!r){const P=decodeURIComponent(T);d[$[1]]=P}else if(S!==T){p=!0;break}}if(!p){l=v(yi(...s.slice(0,y)));break}}return l||n||null}function cc(t,e){return fc([t],e)}function _1(t,e){if(zs(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=ul(l),r=ul(i);if(s[0]==="")return Os(i,n);if(!zs(s[0],".")){const f=r.concat(s).join("/");return Os((i==="/"?"":"/")+f,n)}const a=r.concat(s),c=[];return a.forEach(f=>{f===".."?c.pop():f!=="."&&c.push(f)}),Os(`/${c.join("/")}`,n)}function Nr(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,r=ul(e,!0),a=ul(l,!0);for(;r.length;)r[0]!==a[0]&&ac(on,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),r.shift(),a.shift();return{pathname:yi(...a),hash:n,search:i,state:s}}const Mr=t=>t.length===1?"":t,fo=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?Mr(_i(t,l)):"",r=i?_i(t,0,l):t,a=n?Mr(_i(r,e)):"";return{pathname:(n?_i(r,0,e):r)||"/",search:a,hash:s}},d1=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function v1(t,e,l){return yi(l,_1(t,e))}function h1(t,e){const l=uo(e1(t)),n=ul(l,!0),i=ul(e,!0).slice(0,n.length),s=cc({fullPath:l},yi(...i));return s&&s.uri}const Us="POP",b1="PUSH",g1="REPLACE";function Hs(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function k1(t){let e=[],l=Hs(t),n=Us;const i=(s=e)=>s.forEach(r=>r({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const r=()=>{l=Hs(t),n=Us,i([s])};i([s]);const a=Jf(t,"popstate",r);return()=>{a(),e=e.filter(c=>c!==s)}},navigate(s,r){const{state:a={},replace:c=!1}=r||{};if(n=c?g1:b1,Xf(s))r&&vs(uc,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Us,t.history.go(s);else{const f={...a,_key:Kc()};try{t.history[c?"replaceState":"pushState"](f,"",s)}catch{t.location[c?"replace":"assign"](s)}}l=Hs(t),i()}}}function js(t,e){return{...fo(e),state:t}}function w1(t="/"){let e=0,l=[js(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(js(n,s))},replaceState(n,i,s){l[e]=js(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const y1=!!(!El&&window.document&&window.document.createElement),C1=!El&&window.location.origin==="null",mc=k1(y1&&!C1?window:w1()),{navigate:hs}=mc;let kl=null,pc=!0;function $1(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function T1(t){(!kl||t.level>kl.level||t.level===kl.level&&$1(t.routerId,kl.routerId))&&(kl=t)}function S1(){kl=null}function P1(){pc=!1}function Ar(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=Jf(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function N1(t,e){return Number(t.dataset.svnavRouteEnd)===e}function M1(t){return/^H[1-6]$/i.test(t.tagName)}function Dr(t,e=document){return e.querySelector(t)}function A1(t){let l=Dr(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!N1(l,t);){if(M1(l))return l;const n=Dr("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function D1(t){Promise.resolve(ti(t.focusElement)).then(e=>{const l=e||A1(t.id);l||vs(on,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,gs),!Ar(l)&&Ar(document.documentElement)})}const E1=(t,e,l)=>(n,i)=>Bc().then(()=>{if(!kl||pc){P1();return}if(n&&D1(kl.route),t.announcements&&i){const{path:s,fullPath:r,meta:a,params:c,uri:f}=kl.route,_=t.createAnnouncement({path:s,fullPath:r,meta:a,params:c,uri:f},ti(l));Promise.resolve(_).then(p=>{e.set(p)})}S1()}),Er="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function I1(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Bs(t[6],Er)],i={};for(let s=0;s<n.length;s+=1)i=Qt(i,n[s]);return{c(){e=m("div"),l=C(t[0]),il(e,i)},m(s,r){w(s,e,r),o(e,l)},p(s,r){r[0]&1&&H(l,s[0]),il(e,i=li(n,[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Bs(s[6],Er)]))},d(s){s&&k(e)}}}function F1(t){let e,l,n,i,s,r=[ei(t[6]),{"data-svnav-router":t[3]}],a={};for(let p=0;p<r.length;p+=1)a=Qt(a,r[p]);const c=t[22].default,f=lo(c,t,t[21],null);let _=t[2]&&t[4]&&t[1].announcements&&I1(t);return{c(){e=m("div"),l=b(),f&&f.c(),n=b(),_&&_.c(),i=Me(),il(e,a)},m(p,d){w(p,e,d),w(p,l,d),f&&f.m(p,d),w(p,n,d),_&&_.m(p,d),w(p,i,d),s=!0},p(p,d){il(e,a=li(r,[ei(p[6]),{"data-svnav-router":p[3]}])),f&&f.p&&(!s||d[0]&2097152)&&io(f,c,p,p[21],s?no(c,p[21],d,null):so(p[21]),null),p[2]&&p[4]&&p[1].announcements&&_.p(p,d)},i(p){s||(M(f,p),s=!0)},o(p){A(f,p),s=!1},d(p){p&&k(e),p&&k(l),f&&f.d(p),p&&k(n),_&&_.d(p),p&&k(i)}}}const R1=Zf(),Ir="/";function L1(t,e,l){let n,i,s,r,a,{$$slots:c={},$$scope:f}=e,{basepath:_=Ir}=e,{url:p=null}=e,{history:d=mc}=e,{primary:v=!0}=e,{a11y:h={}}=e,{disableInlineStyles:g=!1}=e;const y={createAnnouncement:x=>`Navigated to ${x.uri}`,announcements:!0,...h},S=_,T=uo(_),$=Dl(Ys),P=Dl(ni),L=!$,D=R1(),I=v&&!(P&&!P.manageFocus),E=Je("");nl(t,E,x=>l(0,a=x));const Z=P?P.disableInlineStyles:g,R=Je([]);nl(t,R,x=>l(20,r=x));const U=Je(null);nl(t,U,x=>l(18,i=x));let O=!1;const Y=L?0:P.level+1,W=L?Je((()=>Nr(El?fo(p):d.location,T))()):$;nl(t,W,x=>l(17,n=x));const V=Je(n);nl(t,V,x=>l(19,s=x));const F=E1(y,E,W),j=x=>B=>B.filter(G=>G.id!==x);function te(x){if(El){if(O)return;const B=cc(x,n.pathname);if(B)return O=!0,B}else R.update(B=>{const G=j(x.id)(B);return G.push(x),G})}function ie(x){R.update(j(x))}return!L&&_!==Ir&&vs(on,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:_}),L&&(jc(()=>d.listen(B=>{const G=Nr(B.location,T);V.set(n),W.set(G)})),vi(Ys,W)),vi(ni,{activeRoute:U,registerRoute:te,unregisterRoute:ie,manageFocus:I,level:Y,id:D,history:L?d:P.history,basepath:L?T:P.basepath,disableInlineStyles:Z}),t.$$set=x=>{"basepath"in x&&l(11,_=x.basepath),"url"in x&&l(12,p=x.url),"history"in x&&l(13,d=x.history),"primary"in x&&l(14,v=x.primary),"a11y"in x&&l(15,h=x.a11y),"disableInlineStyles"in x&&l(16,g=x.disableInlineStyles),"$$scope"in x&&l(21,f=x.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&_!==S&&vs(on,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const x=fc(r,n.pathname);U.set(x)}if(t.$$.dirty[0]&655360&&L){const x=!!n.hash,B=!x&&I,G=!x||n.pathname!==s.pathname;F(B,G)}t.$$.dirty[0]&262144&&I&&i&&i.primary&&T1({level:Y,routerId:D,route:i})},[a,y,L,D,I,E,Z,R,U,W,V,_,p,d,v,h,g,n,i,s,r,f,c]}class _c extends $e{constructor(e){super(),Ce(this,e,L1,F1,ye,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}function Ci(t,e,l=ni,n=on){Dl(l)||ac(t,s=>`You cannot use ${s} outside of a ${ao(n)}.`,e)}const q1=t=>{const{subscribe:e}=Dl(t);return{subscribe:e}};function dc(){return Ci(ic),q1(Ys)}function vc(){const{history:t}=Dl(ni);return t}function hc(){const t=Dl(ec);return t?Qc(t,e=>e.base):Je("/")}function bc(){Ci(oc);const t=hc(),{basepath:e}=Dl(ni);return n=>v1(n,ti(t),e)}function O1(){Ci(sc);const t=bc(),{navigate:e}=vc();return(n,i)=>{const s=Xf(n)?n:t(n);return e(s,i)}}const U1=t=>({params:t&16,location:t&8}),Fr=t=>({params:El?ti(t[10]):t[4],location:t[3],navigate:t[11]});function Rr(t){let e,l;return e=new _c({props:{primary:t[1],$$slots:{default:[W1]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function H1(t){let e;const l=t[18].default,n=lo(l,t,t[19],Fr);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&io(n,l,i,i[19],e?no(l,i[19],s,U1):so(i[19]),Fr)},i(i){e||(M(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function j1(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},El?ti(t[10]):t[4],t[12]];var s=t[0];function r(a){let c={};for(let f=0;f<i.length;f+=1)c=Qt(c,i[f]);return{props:c}}return s&&(e=new s(r())),{c(){e&&J(e.$$.fragment),l=Me()},m(a,c){e&&Q(e,a,c),w(a,l,c),n=!0},p(a,c){const f=c&7192?li(i,[c&8&&{location:a[3]},c&2048&&{navigate:a[11]},c&1040&&Tr(El?ti(a[10]):a[4]),c&4096&&Tr(a[12])]):{};if(s!==(s=a[0])){if(e){Te();const _=e;A(_.$$.fragment,1,0,()=>{X(_,1)}),Se()}s?(e=new s(r()),J(e.$$.fragment),M(e.$$.fragment,1),Q(e,l.parentNode,l)):e=null}else s&&e.$set(f)},i(a){n||(e&&M(e.$$.fragment,a),n=!0)},o(a){e&&A(e.$$.fragment,a),n=!1},d(a){a&&k(l),e&&X(e,a)}}}function W1(t){let e,l,n,i;const s=[j1,H1],r=[];function a(c,f){return c[0]!==null?0:1}return e=a(t),l=r[e]=s[e](t),{c(){l.c(),n=Me()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let _=e;e=a(c),e===_?r[e].p(c,f):(Te(),A(r[_],1,1,()=>{r[_]=null}),Se(),l=r[e],l?l.p(c,f):(l=r[e]=s[e](c),l.c()),M(l,1),l.m(n.parentNode,n))},i(c){i||(M(l),i=!0)},o(c){A(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function G1(t){let e,l,n,i,s,r=[ei(t[7]),{"data-svnav-route-start":t[5]}],a={};for(let p=0;p<r.length;p+=1)a=Qt(a,r[p]);let c=t[2]&&Rr(t),f=[ei(t[7]),{"data-svnav-route-end":t[5]}],_={};for(let p=0;p<f.length;p+=1)_=Qt(_,f[p]);return{c(){e=m("div"),l=b(),c&&c.c(),n=b(),i=m("div"),il(e,a),il(i,_)},m(p,d){w(p,e,d),w(p,l,d),c&&c.m(p,d),w(p,n,d),w(p,i,d),s=!0},p(p,[d]){il(e,a=li(r,[ei(p[7]),{"data-svnav-route-start":p[5]}])),p[2]?c?(c.p(p,d),d&4&&M(c,1)):(c=Rr(p),c.c(),M(c,1),c.m(n.parentNode,n)):c&&(Te(),A(c,1,1,()=>{c=null}),Se()),il(i,_=li(f,[ei(p[7]),{"data-svnav-route-end":p[5]}]))},i(p){s||(M(c),s=!0)},o(p){A(c),s=!1},d(p){p&&k(e),p&&k(l),c&&c.d(p),p&&k(n),p&&k(i)}}}const B1=Zf();function Y1(t,e,l){let n;const i=["path","component","meta","primary"];let s=_s(e,i),r,a,c,f,{$$slots:_={},$$scope:p}=e,{path:d=""}=e,{component:v=null}=e,{meta:h={}}=e,{primary:g=!0}=e;Ci(gs,e);const y=B1(),{registerRoute:S,unregisterRoute:T,activeRoute:$,disableInlineStyles:P}=Dl(ni);nl(t,$,O=>l(16,r=O));const L=hc();nl(t,L,O=>l(17,c=O));const D=dc();nl(t,D,O=>l(3,a=O));const I=Je(null);let E;const Z=Je(),R=Je({});nl(t,R,O=>l(4,f=O)),vi(ec,Z),vi(Xc,R),vi(Zc,I);const U=O1();return El||Wc(()=>T(y)),t.$$set=O=>{l(24,e=Qt(Qt({},e),ps(O))),l(12,s=_s(e,i)),"path"in O&&l(13,d=O.path),"component"in O&&l(0,v=O.component),"meta"in O&&l(14,h=O.meta),"primary"in O&&l(1,g=O.primary),"$$scope"in O&&l(19,p=O.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const O=d==="",Y=yi(c,d),q={id:y,path:d,meta:h,default:O,fullPath:O?"":Y,base:O?c:h1(Y,a.pathname),primary:g,focusElement:I};Z.set(q),l(15,E=S(q))}if(t.$$.dirty&98304&&l(2,n=!!(E||r&&r.id===y)),t.$$.dirty&98308&&n){const{params:O}=E||r;R.set(O)}},e=ps(e),[v,g,n,a,f,y,$,P,L,D,R,U,s,d,h,E,r,c,_,p]}class Ml extends $e{constructor(e){super(),Ce(this,e,Y1,G1,ye,{path:13,component:0,meta:14,primary:1})}}function z1(t){let e,l,n,i;const s=t[13].default,r=lo(s,t,t[12],null);let a=[{href:t[0]},t[2],t[1]],c={};for(let f=0;f<a.length;f+=1)c=Qt(c,a[f]);return{c(){e=m("a"),r&&r.c(),il(e,c)},m(f,_){w(f,e,_),r&&r.m(e,null),l=!0,n||(i=K(e,"click",t[4]),n=!0)},p(f,[_]){r&&r.p&&(!l||_&4096)&&io(r,s,f,f[12],l?no(s,f[12],_,null):so(f[12]),null),il(e,c=li(a,[(!l||_&1)&&{href:f[0]},_&4&&f[2],_&2&&f[1]]))},i(f){l||(M(r,f),l=!0)},o(f){A(r,f),l=!1},d(f){f&&k(e),r&&r.d(f),n=!1,i()}}}function V1(t,e,l){let n,i,s,r,a,c;const f=["to","replace","state","getProps"];let _=_s(e,f),p,{$$slots:d={},$$scope:v}=e,{to:h}=e,{replace:g=!1}=e,{state:y={}}=e,{getProps:S=null}=e;Ci(ro,e);const T=dc();nl(t,T,I=>l(11,p=I));const $=Gc(),P=bc(),{navigate:L}=vc();function D(I){$("click",I),Vc(I)&&(I.preventDefault(),L(n,{state:y,replace:r||g}))}return t.$$set=I=>{l(19,e=Qt(Qt({},e),ps(I))),l(18,_=_s(e,f)),"to"in I&&l(5,h=I.to),"replace"in I&&l(6,g=I.replace),"state"in I&&l(7,y=I.state),"getProps"in I&&l(8,S=I.getProps),"$$scope"in I&&l(12,v=I.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=P(h,p)),t.$$.dirty&2049&&l(10,i=zs(p.pathname,n)),t.$$.dirty&2049&&l(9,s=n===p.pathname),t.$$.dirty&2049&&(r=fo(n)===d1(p)),t.$$.dirty&512&&l(2,a=s?{"aria-current":"page"}:{}),l(1,c=(()=>{if(Qf(S)){const I=S({location:p,href:n,isPartiallyCurrent:i,isCurrent:s});return{..._,...I}}return _})())},e=ps(e),[n,c,a,T,D,h,g,y,S,s,i,p,v,d]}class sn extends $e{constructor(e){super(),Ce(this,e,V1,z1,ye,{to:5,replace:6,state:7,getProps:8})}}let Vs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Al(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function K1(t){return t>218&&t<242?"#5a9d4f":t>212&&t<248?"#adc300":t>208&&t<252?"#ffb800":"#d90000"}function gc(t){return t>90?"#d90000":t>85?"#e32100":t>80?"#ffb800":t>75?"#dcd800":"#5a9d4f"}function Q1(t){return"#407038"}function bs(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return""}}function ke(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function pe(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"\xB5HAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1"}}function Lr(t){switch(t){case-1:return"Parse error";case-2:return"Incomplete data received";case-3:return"Payload boundry flag missing";case-4:return"Header checksum error";case-5:return"Footer checksum error";case-9:return"Unknown data received, check meter config";case-41:return"Frame length not equal";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid";case 90:return"No HAN data received for at least 30s";case 91:return"Serial break";case 92:return"Serial buffer full";case 93:return"Serial FIFO overflow";case 94:return"Serial frame error";case 95:return"Serial parity error";case 96:return"RX error";case 98:return"Exception in code, debugging necessary";case 99:return"Autodetection failed"}return t<0?"Unspecified error "+t:""}function qr(t){switch(t){case-3:return"Connection failed";case-4:return"Network timeout";case-10:return"Connection denied";case-11:return"Failed to subscribe";case-13:return"Connection lost"}return t<0?"Unspecified error "+t:""}function Or(t){switch(t){case 401:case 403:return"Unauthorized, check API key";case 404:return"Price unavailable, not found";case 425:return"Server says its too early";case 429:return"Exceeded API rate limit";case 500:return"Internal server error";case-2:return"Incomplete data received";case-3:return"Invalid data, tag missing";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid"}return t<0?"Unspecified error "+t:""}function hi(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Oe(t,e){return t==1||t==2&&e}function Kt(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function ce(t,e){return isNaN(t)?"-":(isNaN(e)&&(e=t<10?1:0),t.toFixed(e))}function bi(t,e){return t.setTime(t.getTime()+e*36e5),t}function Ur(t){if(t.chip=="esp8266")switch(t.boot_reason){case 0:return"Normal";case 1:return"WDT reset";case 2:return"Exception reset";case 3:return"Soft WDT reset";case 4:return"Software restart";case 5:return"Deep sleep";case 6:return"External reset";default:return"Unknown (8266)"}else switch(t.boot_reason){case 1:return"Vbat power on reset";case 3:return"Software reset";case 4:return"WDT reset";case 5:return"Deep sleep";case 6:return"SLC reset";case 7:return"Timer Group0 WDT reset";case 8:return"Timer Group1 WDT reset";case 9:return"RTC WDT reset";case 10:return"Instrusion test reset CPU";case 11:return"Time Group reset CPU";case 12:return"Software reset CPU";case 13:return"RTC WTD reset CPU";case 14:return"PRO CPU";case 15:return"Brownout";case 16:return"RTC reset";default:return"Unknown"}}async function Fl(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let ll={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null},trying:null};const Il=Je(ll);async function co(){ll=await(await Fl("/sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),Il.set(ll)}let as=0,Hr=-127,jr=null,X1={};const Z1=xf(X1,t=>{let e;async function l(){Fl("/data.json").then(n=>n.json()).then(n=>{t(n),Hr!=n.t&&(Hr=n.t,setTimeout($c,2e3)),jr!=n.p&&n.pe&&(jr=n.p,setTimeout(J1,4e3)),ll.upgrading?window.location.reload():(!ll||!ll.chip||ll.booting||as>1&&!hi(ll.board))&&(co(),tn&&clearTimeout(tn),tn=setTimeout(mo,2e3),ln&&clearTimeout(ln),ln=setTimeout(po,3e3),nn&&clearTimeout(nn),nn=setTimeout(_o,2500));let i=5e3;if(hi(ll.board)&&n.v>2.5){let s=3.3-Math.min(3.3,n.v);s>0&&(i=Math.max(s,.1)*10*5e3)}i>5e3&&console.log("Scheduling next data fetch in "+i+"ms"),e&&clearTimeout(e),e=setTimeout(l,i),as=0}).catch(n=>{as++,as>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(l,15e3)):e=setTimeout(l,hi(ll.board)?1e4:5e3)})}return l(),function(){clearTimeout(e)}});let Ks={};const kc=Je(Ks);async function J1(){Ks=await(await Fl("/energyprice.json")).json(),kc.set(Ks)}let Qs={},tn;async function mo(){tn&&(clearTimeout(tn),tn=0),Qs=await(await Fl("/dayplot.json")).json(),wc.set(Qs);let e=new Date;tn=setTimeout(mo,(60-e.getMinutes())*6e4+20)}const wc=Je(Qs,t=>(mo(),function(){}));let Xs={},ln;async function po(){ln&&(clearTimeout(ln),ln=0),Xs=await(await Fl("/monthplot.json")).json(),yc.set(Xs);let e=new Date;ln=setTimeout(po,(24-e.getHours())*36e5+40)}const yc=Je(Xs,t=>(po(),function(){}));let Zs={},nn;async function _o(){nn&&(clearTimeout(nn),nn=0),Zs=await(await Fl("/hourplot.json")).json(),Cc.set(Zs),nn=setTimeout(_o,20030)}const Cc=Je(Zs,t=>(_o(),function(){}));let Js={};async function $c(){Js=await(await Fl("/temperature.json")).json(),Tc.set(Js)}const Tc=Je(Js,t=>($c(),function(){}));let xs={},fs;async function Sc(){fs&&(clearTimeout(fs),fs=0),xs=await(await Fl("/tariff.json")).json(),Pc.set(xs);let e=new Date;fs=setTimeout(Sc,(60-e.getMinutes())*6e4+30)}const Pc=Je(xs,t=>function(){});let x1=[];const em=Je(x1),tm="/github.svg";function Wr(t){let e,l;function n(r,a){return r[1]>1?rm:r[1]>0?um:r[2]>1?om:r[2]>0?sm:r[3]>1?im:r[3]>0?nm:lm}let i=n(t),s=i(t);return{c(){e=C(`Up
    `),s.c(),l=Me()},m(r,a){w(r,e,a),s.m(r,a),w(r,l,a)},p(r,a){i===(i=n(r))&&s?s.p(r,a):(s.d(1),s=i(r),s&&(s.c(),s.m(l.parentNode,l)))},d(r){r&&k(e),s.d(r),r&&k(l)}}}function lm(t){let e,l;return{c(){e=C(t[0]),l=C(" seconds")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&1&&H(e,n[0])},d(n){n&&k(e),n&&k(l)}}}function nm(t){let e,l;return{c(){e=C(t[3]),l=C(" minute")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&8&&H(e,n[3])},d(n){n&&k(e),n&&k(l)}}}function im(t){let e,l;return{c(){e=C(t[3]),l=C(" minutes")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&8&&H(e,n[3])},d(n){n&&k(e),n&&k(l)}}}function sm(t){let e,l;return{c(){e=C(t[2]),l=C(" hour")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&4&&H(e,n[2])},d(n){n&&k(e),n&&k(l)}}}function om(t){let e,l;return{c(){e=C(t[2]),l=C(" hours")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&4&&H(e,n[2])},d(n){n&&k(e),n&&k(l)}}}function um(t){let e,l;return{c(){e=C(t[1]),l=C(" day")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&2&&H(e,n[1])},d(n){n&&k(e),n&&k(l)}}}function rm(t){let e,l;return{c(){e=C(t[1]),l=C(" days")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&2&&H(e,n[1])},d(n){n&&k(e),n&&k(l)}}}function am(t){let e,l=t[0]&&Wr(t);return{c(){l&&l.c(),e=Me()},m(n,i){l&&l.m(n,i),w(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Wr(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:oe,o:oe,d(n){l&&l.d(n),n&&k(e)}}}function fm(t,e,l){let{epoch:n}=e,i=0,s=0,r=0;return t.$$set=a=>{"epoch"in a&&l(0,n=a.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(1,i=Math.floor(n/86400)),l(2,s=Math.floor(n/3600)),l(3,r=Math.floor(n/60)))},[n,i,s,r]}class cm extends $e{constructor(e){super(),Ce(this,e,fm,am,ye,{epoch:0})}}function mm(t){let e,l,n;return{c(){e=m("span"),l=C(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,s){w(i,e,s),o(e,l)},p(i,[s]){s&4&&H(l,i[2]),s&2&&u(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:oe,o:oe,d(i){i&&k(e)}}}function pm(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=r=>{"color"in r&&l(0,n=r.color),"title"in r&&l(1,i=r.title),"text"in r&&l(2,s=r.text)},[n,i,s]}class sl extends $e{constructor(e){super(),Ce(this,e,pm,mm,ye,{color:0,title:1,text:2})}}function _m(t){let e,l=`${ke(t[0].getDate())}.${ke(t[0].getMonth()+1)}.${t[0].getFullYear()} ${ke(t[0].getHours())}:${ke(t[0].getMinutes())}:${ke(t[0].getSeconds())}`,n;return{c(){e=m("span"),n=C(l),u(e,"class",t[1])},m(i,s){w(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=`${ke(i[0].getDate())}.${ke(i[0].getMonth()+1)}.${i[0].getFullYear()} ${ke(i[0].getHours())}:${ke(i[0].getMinutes())}:${ke(i[0].getSeconds())}`)&&H(n,l),s&2&&u(e,"class",i[1])},d(i){i&&k(e)}}}function dm(t){let e=`${ke(t[0].getDate())}. ${Vs[t[0].getMonth()]}.${t[0].getFullYear()} ${ke(t[0].getHours())}:${ke(t[0].getMinutes())}:${ke(t[0].getSeconds())}`,l;return{c(){l=C(e)},m(n,i){w(n,l,i)},p(n,i){i&1&&e!==(e=`${ke(n[0].getDate())}. ${Vs[n[0].getMonth()]}.${n[0].getFullYear()} ${ke(n[0].getHours())}:${ke(n[0].getMinutes())}:${ke(n[0].getSeconds())}`)&&H(l,e)},d(n){n&&k(l)}}}function vm(t){let e,l;function n(r,a){return a&1&&(e=null),e==null&&(e=Math.abs(new Date().getTime()-r[0].getTime())<3e5),e?dm:_m}let i=n(t,-1),s=i(t);return{c(){s.c(),l=Me()},m(r,a){s.m(r,a),w(r,l,a)},p(r,[a]){i===(i=n(r,a))&&s?s.p(r,a):(s.d(1),s=i(r),s&&(s.c(),s.m(l.parentNode,l)))},i:oe,o:oe,d(r){s.d(r),r&&k(l)}}}function hm(t,e,l){let{timestamp:n}=e,{fullTimeColor:i}=e;return t.$$set=s=>{"timestamp"in s&&l(0,n=s.timestamp),"fullTimeColor"in s&&l(1,i=s.fullTimeColor)},[n,i]}class Nc extends $e{constructor(e){super(),Ce(this,e,hm,vm,ye,{timestamp:0,fullTimeColor:1})}}function bm(t){let e,l,n;return{c(){e=Pe("svg"),l=Pe("path"),n=Pe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,s){w(i,e,s),o(e,l),o(e,n)},p:oe,i:oe,o:oe,d(i){i&&k(e)}}}class gm extends $e{constructor(e){super(),Ce(this,e,null,bm,ye,{})}}function km(t){let e,l;return{c(){e=Pe("svg"),l=Pe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){w(n,e,i),o(e,l)},p:oe,i:oe,o:oe,d(n){n&&k(e)}}}class wm extends $e{constructor(e){super(),Ce(this,e,null,km,ye,{})}}function ym(t){let e,l;return{c(){e=Pe("svg"),l=Pe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){w(n,e,i),o(e,l)},p:oe,i:oe,o:oe,d(n){n&&k(e)}}}class Et extends $e{constructor(e){super(),Ce(this,e,null,ym,ye,{})}}function Cm(t){let e;return{c(){e=C("AMS reader EHo 2.2.17")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Gr(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=m("div"),n=C(l),i=C("\xB0C"),u(e,"class","flex-none my-auto")},m(s,r){w(s,e,r),o(e,n),o(e,i)},p(s,r){r&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&H(n,l)},d(s){s&&k(e)}}}function Br(t){let e,l="HAN: "+Lr(t[0].he),n;return{c(){e=m("div"),n=C(l),u(e,"class","bd-red")},m(i,s){w(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l="HAN: "+Lr(i[0].he))&&H(n,l)},d(i){i&&k(e)}}}function Yr(t){let e,l="MQTT: "+qr(t[0].me),n;return{c(){e=m("div"),n=C(l),u(e,"class","bd-red")},m(i,s){w(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l="MQTT: "+qr(i[0].me))&&H(n,l)},d(i){i&&k(e)}}}function zr(t){let e,l="PriceAPI: "+Or(t[0].ee),n;return{c(){e=m("div"),n=C(l),u(e,"class","bd-red")},m(i,s){w(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l="PriceAPI: "+Or(i[0].ee))&&H(n,l)},d(i){i&&k(e)}}}function Vr(t){let e,l,n,i,s,r;return l=new sn({props:{to:"/configuration",$$slots:{default:[$m]},$$scope:{ctx:t}}}),s=new sn({props:{to:"/status",$$slots:{default:[Tm]},$$scope:{ctx:t}}}),{c(){e=m("div"),J(l.$$.fragment),n=b(),i=m("div"),J(s.$$.fragment),u(e,"class","flex-none px-1 mt-1"),u(e,"title","Configuration"),u(i,"class","flex-none px-1 mt-1"),u(i,"title","Device information")},m(a,c){w(a,e,c),Q(l,e,null),w(a,n,c),w(a,i,c),Q(s,i,null),r=!0},i(a){r||(M(l.$$.fragment,a),M(s.$$.fragment,a),r=!0)},o(a){A(l.$$.fragment,a),A(s.$$.fragment,a),r=!1},d(a){a&&k(e),X(l),a&&k(n),a&&k(i),X(s)}}}function $m(t){let e,l;return e=new gm({}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Tm(t){let e,l;return e=new wm({}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Sm(t){let e,l,n,i,s,r,a,c,f,_,p,d,v=(t[0].m?(t[0].m/1e3).toFixed(1):"-")+"",h,g,y,S,T,$,P,L,D,I,E,Z,R,U,O,Y,q,W,V,F,j,te,ie,x,B,G,_e,ge,me;i=new sn({props:{to:"/",$$slots:{default:[Cm]},$$scope:{ctx:t}}}),c=new cm({props:{epoch:t[0].u}});let de=t[0].t>-50&&Gr(t);T=new sl({props:{title:"ESP",text:t[1].booting?"Booting":t[0].v>2?t[0].v.toFixed(2)+"V":"ESP",color:Al(t[1].booting?2:t[0].em)}}),P=new sl({props:{title:"HAN",text:"HAN",color:Al(t[1].booting?9:t[0].hm)}}),D=new sl({props:{title:"WiFi",text:t[0].r?t[0].r.toFixed(0)+"dBm":"WiFi",color:Al(t[1].booting?9:t[0].wm)}}),E=new sl({props:{title:"MQTT",text:"MQTT",color:Al(t[1].booting?9:t[0].mm)}});let ae=(t[0].he<0||t[0].he>0)&&Br(t),ve=t[0].me<0&&Yr(t),le=(t[0].ee>0||t[0].ee<0)&&zr(t);ie=new Nc({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),fullTimeColor:"text-red-500"}});let se=t[1].vndcfg&&t[1].usrcfg&&Vr(t);return ge=new Et({}),{c(){e=m("nav"),l=m("div"),n=m("div"),J(i.$$.fragment),s=b(),r=m("div"),a=m("div"),J(c.$$.fragment),f=b(),de&&de.c(),_=b(),p=m("div"),d=C("Free mem: "),h=C(v),g=C("kb"),y=b(),S=m("div"),J(T.$$.fragment),$=b(),J(P.$$.fragment),L=b(),J(D.$$.fragment),I=b(),J(E.$$.fragment),Z=b(),ae&&ae.c(),R=b(),ve&&ve.c(),U=b(),le&&le.c(),O=b(),Y=m("div"),q=m("div"),W=m("a"),V=m("img"),j=b(),te=m("div"),J(ie.$$.fragment),x=b(),se&&se.c(),B=b(),G=m("div"),_e=m("a"),J(ge.$$.fragment),u(n,"class","flex text-lg text-gray-100 p-2"),u(a,"class","flex-none my-auto"),u(p,"class","flex-none my-auto"),u(r,"class","flex-none my-auto p-2 flex space-x-4"),u(S,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(V,"class","gh-logo"),Rc(V.src,F=tm)||u(V,"src",F),u(V,"alt","GitHub repo"),u(W,"class","float-right"),u(W,"href","https://github.com/ehorvat1/AmsToMqttBridge-EHo/tree/master"),u(W,"target","_blank"),u(W,"rel","noreferrer"),u(W,"aria-label","GitHub"),u(q,"class","flex-none"),u(te,"class","flex-none my-auto px-2"),u(_e,"href",Kt("")),u(_e,"target","_blank"),u(_e,"rel","noreferrer"),u(G,"class","flex-none px-1 mt-1"),u(G,"title","Documentation"),u(Y,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-sm text-gray-300"),u(e,"class","bg-violet-600 p-1 rounded-md mx-2")},m(ee,we){w(ee,e,we),o(e,l),o(l,n),Q(i,n,null),o(l,s),o(l,r),o(r,a),Q(c,a,null),o(r,f),de&&de.m(r,null),o(r,_),o(r,p),o(p,d),o(p,h),o(p,g),o(l,y),o(l,S),Q(T,S,null),o(S,$),Q(P,S,null),o(S,L),Q(D,S,null),o(S,I),Q(E,S,null),o(l,Z),ae&&ae.m(l,null),o(l,R),ve&&ve.m(l,null),o(l,U),le&&le.m(l,null),o(l,O),o(l,Y),o(Y,q),o(q,W),o(W,V),o(Y,j),o(Y,te),Q(ie,te,null),o(Y,x),se&&se.m(Y,null),o(Y,B),o(Y,G),o(G,_e),Q(ge,_e,null),me=!0},p(ee,[we]){const Ee={};we&8&&(Ee.$$scope={dirty:we,ctx:ee}),i.$set(Ee);const We={};we&1&&(We.epoch=ee[0].u),c.$set(We),ee[0].t>-50?de?de.p(ee,we):(de=Gr(ee),de.c(),de.m(r,_)):de&&(de.d(1),de=null),(!me||we&1)&&v!==(v=(ee[0].m?(ee[0].m/1e3).toFixed(1):"-")+"")&&H(h,v);const Ge={};we&3&&(Ge.text=ee[1].booting?"Booting":ee[0].v>2?ee[0].v.toFixed(2)+"V":"ESP"),we&3&&(Ge.color=Al(ee[1].booting?2:ee[0].em)),T.$set(Ge);const ot={};we&3&&(ot.color=Al(ee[1].booting?9:ee[0].hm)),P.$set(ot);const Ie={};we&1&&(Ie.text=ee[0].r?ee[0].r.toFixed(0)+"dBm":"WiFi"),we&3&&(Ie.color=Al(ee[1].booting?9:ee[0].wm)),D.$set(Ie);const xe={};we&3&&(xe.color=Al(ee[1].booting?9:ee[0].mm)),E.$set(xe),ee[0].he<0||ee[0].he>0?ae?ae.p(ee,we):(ae=Br(ee),ae.c(),ae.m(l,R)):ae&&(ae.d(1),ae=null),ee[0].me<0?ve?ve.p(ee,we):(ve=Yr(ee),ve.c(),ve.m(l,U)):ve&&(ve.d(1),ve=null),ee[0].ee>0||ee[0].ee<0?le?le.p(ee,we):(le=zr(ee),le.c(),le.m(l,O)):le&&(le.d(1),le=null);const Be={};we&1&&(Be.timestamp=ee[0].c?new Date(ee[0].c*1e3):new Date(0)),ie.$set(Be),ee[1].vndcfg&&ee[1].usrcfg?se?we&2&&M(se,1):(se=Vr(ee),se.c(),M(se,1),se.m(Y,B)):se&&(Te(),A(se,1,1,()=>{se=null}),Se())},i(ee){me||(M(i.$$.fragment,ee),M(c.$$.fragment,ee),M(T.$$.fragment,ee),M(P.$$.fragment,ee),M(D.$$.fragment,ee),M(E.$$.fragment,ee),M(ie.$$.fragment,ee),M(se),M(ge.$$.fragment,ee),me=!0)},o(ee){A(i.$$.fragment,ee),A(c.$$.fragment,ee),A(T.$$.fragment,ee),A(P.$$.fragment,ee),A(D.$$.fragment,ee),A(E.$$.fragment,ee),A(ie.$$.fragment,ee),A(se),A(ge.$$.fragment,ee),me=!1},d(ee){ee&&k(e),X(i),X(c),de&&de.d(),X(T),X(P),X(D),X(E),ae&&ae.d(),ve&&ve.d(),le&&le.d(),X(ie),se&&se.d(),X(ge)}}}function Pm(t,e,l){let{data:n={}}=e,i={};return Il.subscribe(s=>{l(1,i=s)}),t.$$set=s=>{"data"in s&&l(0,n=s.data)},[n,i]}class Nm extends $e{constructor(e){super(),Ce(this,e,Pm,Sm,ye,{data:0})}}function Mm(t){let e,l,n,i;return{c(){e=Pe("svg"),l=Pe("path"),n=Pe("path"),u(l,"d",Ws(150,150,115,210,510)),u(l,"stroke","#eee"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Ws(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(s,r){w(s,e,r),o(e,l),o(e,n)},p(s,[r]){r&1&&i!==(i=Ws(150,150,115,210,210+300*s[0]/100))&&u(n,"d",i),r&2&&u(n,"stroke",s[1])},i:oe,o:oe,d(s){s&&k(e)}}}function Kr(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Ws(t,e,l,n,i){var s=Kr(t,e,l,i),r=Kr(t,e,l,n),a=i-n<=180?"0":"1",c=["M",s.x,s.y,"A",l,l,0,a,0,r.x,r.y].join(" ");return c}function Am(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class Dm extends $e{constructor(e){super(),Ce(this,e,Am,Mm,ye,{pct:0,color:1})}}function Qr(t){let e,l,n,i,s,r,a,c;return{c(){e=m("br"),l=b(),n=m("span"),i=C(t[3]),s=b(),r=m("span"),a=C(t[4]),c=C("/kWh"),u(n,"class","pl-sub"),u(r,"class","pl-snt")},m(f,_){w(f,e,_),w(f,l,_),w(f,n,_),o(n,i),w(f,s,_),w(f,r,_),o(r,a),o(r,c)},p(f,_){_&8&&H(i,f[3]),_&16&&H(a,f[4])},d(f){f&&k(e),f&&k(l),f&&k(n),f&&k(s),f&&k(r)}}}function Em(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y;l=new Dm({props:{pct:t[6],color:t[5](t[6])}});let S=t[3]&&Qr(t);return{c(){e=m("div"),J(l.$$.fragment),n=b(),i=m("span"),s=m("span"),r=C(t[2]),a=b(),c=m("br"),f=b(),_=m("span"),p=C(t[0]),d=b(),v=m("span"),h=C(t[1]),g=b(),S&&S.c(),u(s,"class","pl-lab"),u(_,"class","pl-val"),u(v,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(T,$){w(T,e,$),Q(l,e,null),o(e,n),o(e,i),o(i,s),o(s,r),o(i,a),o(i,c),o(i,f),o(i,_),o(_,p),o(i,d),o(i,v),o(v,h),o(i,g),S&&S.m(i,null),y=!0},p(T,[$]){const P={};$&64&&(P.pct=T[6]),$&96&&(P.color=T[5](T[6])),l.$set(P),(!y||$&4)&&H(r,T[2]),(!y||$&1)&&H(p,T[0]),(!y||$&2)&&H(h,T[1]),T[3]?S?S.p(T,$):(S=Qr(T),S.c(),S.m(i,null)):S&&(S.d(1),S=null)},i(T){y||(M(l.$$.fragment,T),y=!0)},o(T){A(l.$$.fragment,T),y=!1},d(T){T&&k(e),X(l),S&&S.d()}}}function Im(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:r}=e,{sub:a=""}=e,{subunit:c=""}=e,{colorFn:f}=e,_=0;return t.$$set=p=>{"val"in p&&l(0,n=p.val),"max"in p&&l(7,i=p.max),"unit"in p&&l(1,s=p.unit),"label"in p&&l(2,r=p.label),"sub"in p&&l(3,a=p.sub),"subunit"in p&&l(4,c=p.subunit),"colorFn"in p&&l(5,f=p.colorFn)},t.$$.update=()=>{t.$$.dirty&129&&l(6,_=Math.min(n,i)/i*100)},[n,s,r,a,c,f,_,i]}class Mc extends $e{constructor(e){super(),Ce(this,e,Im,Em,ye,{val:0,max:7,unit:1,label:2,sub:3,subunit:4,colorFn:5})}}function Xr(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function Zr(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function Jr(t,e,l){const n=t.slice();return n[13]=e[l],n}function xr(t){let e,l,n,i,s,r=t[0].title&&ea(t),a=t[0].y.ticks,c=[];for(let v=0;v<a.length;v+=1)c[v]=la(Jr(t,a,v));let f=t[0].x.ticks,_=[];for(let v=0;v<f.length;v+=1)_[v]=sa(Zr(t,f,v));let p=t[0].points,d=[];for(let v=0;v<p.length;v+=1)d[v]=ha(Xr(t,p,v));return{c(){r&&r.c(),e=b(),l=Pe("svg"),n=Pe("g");for(let v=0;v<c.length;v+=1)c[v].c();i=Pe("g");for(let v=0;v<_.length;v+=1)_[v].c();s=Pe("g");for(let v=0;v<d.length;v+=1)d[v].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(s,"class","bars"),u(l,"height",t[4])},m(v,h){r&&r.m(v,h),w(v,e,h),w(v,l,h),o(l,n);for(let g=0;g<c.length;g+=1)c[g].m(n,null);o(l,i);for(let g=0;g<_.length;g+=1)_[g].m(i,null);o(l,s);for(let g=0;g<d.length;g+=1)d[g].m(s,null)},p(v,h){if(v[0].title?r?r.p(v,h):(r=ea(v),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),h&65){a=v[0].y.ticks;let g;for(g=0;g<a.length;g+=1){const y=Jr(v,a,g);c[g]?c[g].p(y,h):(c[g]=la(y),c[g].c(),c[g].m(n,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=a.length}if(h&57){f=v[0].x.ticks;let g;for(g=0;g<f.length;g+=1){const y=Zr(v,f,g);_[g]?_[g].p(y,h):(_[g]=sa(y),_[g].c(),_[g].m(i,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=f.length}if(h&233){p=v[0].points;let g;for(g=0;g<p.length;g+=1){const y=Xr(v,p,g);d[g]?d[g].p(y,h):(d[g]=ha(y),d[g].c(),d[g].m(s,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=p.length}h&16&&u(l,"height",v[4])},d(v){r&&r.d(v),v&&k(e),v&&k(l),ol(c,v),ol(_,v),ol(d,v)}}}function ea(t){let e,l=t[0].title+"",n;return{c(){e=m("strong"),n=C(l),u(e,"class","text-sm")},m(i,s){w(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[0].title+"")&&H(n,l)},d(i){i&&k(e)}}}function ta(t){let e,l,n,i=t[13].label+"",s,r,a,c;return{c(){e=Pe("g"),l=Pe("line"),n=Pe("text"),s=C(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",r=t[13].align=="right"?"85%":""),u(e,"class",a="tick tick-"+t[13].value+" tick-"+t[13].color),u(e,"transform",c="translate(0, "+t[6](t[13].value)+")")},m(f,_){w(f,e,_),o(e,l),o(e,n),o(n,s)},p(f,_){_&1&&i!==(i=f[13].label+"")&&H(s,i),_&1&&r!==(r=f[13].align=="right"?"85%":"")&&u(n,"x",r),_&1&&a!==(a="tick tick-"+f[13].value+" tick-"+f[13].color)&&u(e,"class",a),_&65&&c!==(c="translate(0, "+f[6](f[13].value)+")")&&u(e,"transform",c)},d(f){f&&k(e)}}}function la(t){let e=!isNaN(t[6](t[13].value)),l,n=e&&ta(t);return{c(){n&&n.c(),l=Me()},m(i,s){n&&n.m(i,s),w(i,l,s)},p(i,s){s&65&&(e=!isNaN(i[6](i[13].value))),e?n?n.p(i,s):(n=ta(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&k(l)}}}function na(t){let e,l,n=(t[3]>20||t[11]%2==0)&&ia(t);return{c(){e=Pe("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[5](t[11])+","+t[4]+")")},m(i,s){w(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[11]%2==0?n?n.p(i,s):(n=ia(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&48&&l!==(l="translate("+i[5](i[11])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&k(e),n&&n.d()}}}function ia(t){let e,l=t[9].label+"",n,i;return{c(){e=Pe("text"),n=C(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(s,r){w(s,e,r),o(e,n)},p(s,r){r&1&&l!==(l=s[9].label+"")&&H(n,l),r&8&&i!==(i=s[3]/2)&&u(e,"x",i)},d(s){s&&k(e)}}}function sa(t){let e=!isNaN(t[5](t[11])),l,n=e&&na(t);return{c(){n&&n.c(),l=Me()},m(i,s){n&&n.m(i,s),w(i,l,s)},p(i,s){s&32&&(e=!isNaN(i[5](i[11]))),e?n?n.p(i,s):(n=na(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&k(l)}}}function oa(t){let e,l,n=t[9].value!==void 0&&ua(t),i=t[9].value2>1e-4&&ma(t);return{c(){e=Pe("g"),n&&n.c(),l=Pe("g"),i&&i.c()},m(s,r){w(s,e,r),n&&n.m(e,null),w(s,l,r),i&&i.m(l,null)},p(s,r){s[9].value!==void 0?n?n.p(s,r):(n=ua(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[9].value2>1e-4?i?i.p(s,r):(i=ma(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&k(e),n&&n.d(),s&&k(l),i&&i.d()}}}function ua(t){let e,l,n,i,s,r,a,c,f=t[3]>15&&ra(t),_=t[3]<16&&t[9].value>1e-4&&fa(t);return{c(){e=Pe("rect"),f&&f.c(),a=Me(),_&&_.c(),c=Me(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](t[9].value)),u(e,"width",i=t[3]-4),u(e,"height",s=t[6](t[0].y.min)-t[6](Math.min(t[0].y.min,0)+t[9].value)),u(e,"fill",r=t[9].color)},m(p,d){w(p,e,d),f&&f.m(p,d),w(p,a,d),_&&_.m(p,d),w(p,c,d)},p(p,d){d&32&&l!==(l=p[5](p[11])+2)&&u(e,"x",l),d&65&&n!==(n=p[6](p[9].value))&&u(e,"y",n),d&8&&i!==(i=p[3]-4)&&u(e,"width",i),d&65&&s!==(s=p[6](p[0].y.min)-p[6](Math.min(p[0].y.min,0)+p[9].value))&&u(e,"height",s),d&1&&r!==(r=p[9].color)&&u(e,"fill",r),p[3]>15?f?f.p(p,d):(f=ra(p),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null),p[3]<16&&p[9].value>1e-4?_?_.p(p,d):(_=fa(p),_.c(),_.m(c.parentNode,c)):_&&(_.d(1),_=null)},d(p){p&&k(e),f&&f.d(p),p&&k(a),_&&_.d(p),p&&k(c)}}}function ra(t){let e,l=t[9].label+"",n,i,s,r,a,c,f,_,p=t[9].title&&aa(t);return{c(){e=Pe("text"),n=C(l),p&&p.c(),_=Me(),u(e,"y",i=t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+10),u(e,"x",s=t[5](t[11])+t[3]/2),u(e,"width",r=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",a=t[3]<25?"left":"middle"),u(e,"fill",c=t[6](t[9].value)>t[6](0)-t[7]?t[9].color:"white"),u(e,"transform",f="rotate("+(t[3]<25?90:0)+", "+(t[5](t[11])+t[3]/2)+", "+(t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+9)+")")},m(d,v){w(d,e,v),o(e,n),p&&p.m(d,v),w(d,_,v)},p(d,v){v&1&&l!==(l=d[9].label+"")&&H(n,l),v&193&&i!==(i=d[6](d[9].value)>d[6](0)-d[7]?d[6](d[9].value)-d[7]:d[6](d[9].value)+10)&&u(e,"y",i),v&40&&s!==(s=d[5](d[11])+d[3]/2)&&u(e,"x",s),v&8&&r!==(r=d[3]-4)&&u(e,"width",r),v&8&&a!==(a=d[3]<25?"left":"middle")&&u(e,"text-anchor",a),v&193&&c!==(c=d[6](d[9].value)>d[6](0)-d[7]?d[9].color:"white")&&u(e,"fill",c),v&233&&f!==(f="rotate("+(d[3]<25?90:0)+", "+(d[5](d[11])+d[3]/2)+", "+(d[6](d[9].value)>d[6](0)-d[7]?d[6](d[9].value)-d[7]:d[6](d[9].value)+9)+")")&&u(e,"transform",f),d[9].title?p?p.p(d,v):(p=aa(d),p.c(),p.m(_.parentNode,_)):p&&(p.d(1),p=null)},d(d){d&&k(e),p&&p.d(d),d&&k(_)}}}function aa(t){let e,l=t[9].title+"",n;return{c(){e=Pe("title"),n=C(l)},m(i,s){w(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[9].title+"")&&H(n,l)},d(i){i&&k(e)}}}function fa(t){let e,l,n=t[11]%3==0&&Fm(t),i=t[9].title&&ca(t);return{c(){n&&n.c(),e=Me(),i&&i.c(),l=Me()},m(s,r){n&&n.m(s,r),w(s,e,r),i&&i.m(s,r),w(s,l,r)},p(s,r){s[11]%3==0&&n.p(s,r),s[9].title?i?i.p(s,r):(i=ca(s),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(s){n&&n.d(s),s&&k(e),i&&i.d(s),s&&k(l)}}}function Fm(t){let e,l=t[9].label+"",n,i,s,r;return{c(){e=Pe("text"),n=C(l),u(e,"y",i=t[6](t[0].y.max)+6),u(e,"x",s=t[5](t[11])+t[3]/2-4),u(e,"text-anchor","middle"),u(e,"fill","black"),u(e,"transform",r="rotate(90, "+(t[5](t[11])+t[3]/2-4)+", "+(t[6](t[0].y.max)+6)+")")},m(a,c){w(a,e,c),o(e,n)},p(a,c){c&1&&l!==(l=a[9].label+"")&&H(n,l),c&65&&i!==(i=a[6](a[0].y.max)+6)&&u(e,"y",i),c&40&&s!==(s=a[5](a[11])+a[3]/2-4)&&u(e,"x",s),c&105&&r!==(r="rotate(90, "+(a[5](a[11])+a[3]/2-4)+", "+(a[6](a[0].y.max)+6)+")")&&u(e,"transform",r)},d(a){a&&k(e)}}}function ca(t){let e,l=t[9].title+"",n;return{c(){e=Pe("title"),n=C(l)},m(i,s){w(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[9].title+"")&&H(n,l)},d(i){i&&k(e)}}}function ma(t){let e,l,n,i,s,r,a,c,f=t[3]>15&&pa(t),_=t[3]<16&&da(t);return{c(){e=Pe("rect"),f&&f.c(),a=Me(),_&&_.c(),c=Me(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](0)),u(e,"width",i=t[3]-4),u(e,"height",s=t[6](t[0].y.min)-t[6](t[0].y.min+t[9].value2)),u(e,"fill",r=t[9].color2)},m(p,d){w(p,e,d),f&&f.m(p,d),w(p,a,d),_&&_.m(p,d),w(p,c,d)},p(p,d){d&32&&l!==(l=p[5](p[11])+2)&&u(e,"x",l),d&64&&n!==(n=p[6](0))&&u(e,"y",n),d&8&&i!==(i=p[3]-4)&&u(e,"width",i),d&65&&s!==(s=p[6](p[0].y.min)-p[6](p[0].y.min+p[9].value2))&&u(e,"height",s),d&1&&r!==(r=p[9].color2)&&u(e,"fill",r),p[3]>15?f?f.p(p,d):(f=pa(p),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null),p[3]<16?_?_.p(p,d):(_=da(p),_.c(),_.m(c.parentNode,c)):_&&(_.d(1),_=null)},d(p){p&&k(e),f&&f.d(p),p&&k(a),_&&_.d(p),p&&k(c)}}}function pa(t){let e,l=t[9].label2+"",n,i,s,r,a,c,f,_,p=t[9].title2&&_a(t);return{c(){e=Pe("text"),n=C(l),p&&p.c(),_=Me(),u(e,"y",i=t[6](-t[9].value2)<t[6](0)+12?t[6](-t[9].value2)+12:t[6](-t[9].value2)-10),u(e,"x",s=t[5](t[11])+t[3]/2),u(e,"width",r=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",a=t[3]<25?"left":"middle"),u(e,"fill",c=t[6](-t[9].value2)<t[6](0)+12?t[9].color:"white"),u(e,"transform",f="rotate("+(t[3]<25?90:0)+", "+(t[5](t[11])+t[3]/2)+", "+(t[6](t[9].value2-t[0].y.min)>t[6](0)-12?t[6](t[9].value2-t[0].y.min)-12:t[6](t[9].value2-t[0].y.min)+9)+")")},m(d,v){w(d,e,v),o(e,n),p&&p.m(d,v),w(d,_,v)},p(d,v){v&1&&l!==(l=d[9].label2+"")&&H(n,l),v&65&&i!==(i=d[6](-d[9].value2)<d[6](0)+12?d[6](-d[9].value2)+12:d[6](-d[9].value2)-10)&&u(e,"y",i),v&40&&s!==(s=d[5](d[11])+d[3]/2)&&u(e,"x",s),v&8&&r!==(r=d[3]-4)&&u(e,"width",r),v&8&&a!==(a=d[3]<25?"left":"middle")&&u(e,"text-anchor",a),v&65&&c!==(c=d[6](-d[9].value2)<d[6](0)+12?d[9].color:"white")&&u(e,"fill",c),v&105&&f!==(f="rotate("+(d[3]<25?90:0)+", "+(d[5](d[11])+d[3]/2)+", "+(d[6](d[9].value2-d[0].y.min)>d[6](0)-12?d[6](d[9].value2-d[0].y.min)-12:d[6](d[9].value2-d[0].y.min)+9)+")")&&u(e,"transform",f),d[9].title2?p?p.p(d,v):(p=_a(d),p.c(),p.m(_.parentNode,_)):p&&(p.d(1),p=null)},d(d){d&&k(e),p&&p.d(d),d&&k(_)}}}function _a(t){let e,l=t[9].title2+"",n;return{c(){e=Pe("title"),n=C(l)},m(i,s){w(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[9].title2+"")&&H(n,l)},d(i){i&&k(e)}}}function da(t){let e,l,n=t[11]%3==0&&Rm(t),i=t[9].title2&&va(t);return{c(){n&&n.c(),e=Me(),i&&i.c(),l=Me()},m(s,r){n&&n.m(s,r),w(s,e,r),i&&i.m(s,r),w(s,l,r)},p(s,r){s[11]%3==0&&n.p(s,r),s[9].title2?i?i.p(s,r):(i=va(s),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(s){n&&n.d(s),s&&k(e),i&&i.d(s),s&&k(l)}}}function Rm(t){let e,l=t[9].label2+"",n,i,s,r;return{c(){e=Pe("text"),n=C(l),u(e,"y",i=t[6](t[0].y.min)),u(e,"x",s=t[5](t[11])+t[3]/2-4),u(e,"text-anchor","middle"),u(e,"fill","black"),u(e,"transform",r="rotate(90, "+(t[5](t[11])+t[3]/2-4)+", "+t[6](t[0].y.min)+")")},m(a,c){w(a,e,c),o(e,n)},p(a,c){c&1&&l!==(l=a[9].label2+"")&&H(n,l),c&65&&i!==(i=a[6](a[0].y.min))&&u(e,"y",i),c&40&&s!==(s=a[5](a[11])+a[3]/2-4)&&u(e,"x",s),c&105&&r!==(r="rotate(90, "+(a[5](a[11])+a[3]/2-4)+", "+a[6](a[0].y.min)+")")&&u(e,"transform",r)},d(a){a&&k(e)}}}function va(t){let e,l=t[9].title2+"",n;return{c(){e=Pe("title"),n=C(l)},m(i,s){w(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[9].title2+"")&&H(n,l)},d(i){i&&k(e)}}}function ha(t){let e=!isNaN(t[5](t[11]))&&!isNaN(t[6](t[9].value))||!isNaN(t[5](t[11]))&&!isNaN(t[6](t[9].value2)),l,n=e&&oa(t);return{c(){n&&n.c(),l=Me()},m(i,s){n&&n.m(i,s),w(i,l,s)},p(i,s){s&97&&(e=!isNaN(i[5](i[11]))&&!isNaN(i[6](i[9].value))||!isNaN(i[5](i[11]))&&!isNaN(i[6](i[9].value2))),e?n?n.p(i,s):(n=oa(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&k(l)}}}function Lm(t){let e,l,n=t[0].x.ticks&&t[0].points&&t[4]&&xr(t);return{c(){e=m("div"),n&&n.c(),u(e,"class","chart"),Ze(()=>t[8].call(e))},m(i,s){w(i,e,s),n&&n.m(e,null),l=Uc(e,t[8].bind(e))},p(i,[s]){i[0].x.ticks&&i[0].points&&i[4]?n?n.p(i,s):(n=xr(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:oe,o:oe,d(i){i&&k(e),n&&n.d(),l()}}}function qm(t,e,l){let{config:n}=e,i,s,r,a,c,f,_;function p(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=d=>{"config"in d&&l(0,n=d.config)},t.$$.update=()=>{if(t.$$.dirty&31){l(4,f=s-(n.title?20:0));let d=i-(n.padding.left+n.padding.right);l(3,r=d/n.points.length),l(7,_=r<25?28:17);let v=(f-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(5,a=function(h){return h*r+n.padding.left}),l(6,c=function(h){let g=0;return h>n.y.max?g=n.padding.bottom:h<n.y.min?g=f-n.padding.bottom:g=f-n.padding.bottom-(h-n.y.min)*v,g>f||g<0?0:g})}},[n,i,s,r,f,a,c,_,p]}class Rl extends $e{constructor(e){super(),Ce(this,e,qm,Lm,ye,{config:0})}}function Om(t){let e,l;return e=new Rl({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Um(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:s}=e,{ds:r}=e,a={};function c(f){return{label:ce(f)+"V",title:f.toFixed(1)+" V",value:isNaN(f)?0:f,color:K1(f||0)}}return t.$$set=f=>{"u1"in f&&l(1,n=f.u1),"u2"in f&&l(2,i=f.u2),"u3"in f&&l(3,s=f.u3),"ds"in f&&l(4,r=f.ds)},t.$$.update=()=>{if(t.$$.dirty&30){let f=[],_=[];n>0&&(f.push({label:r===1?"L1-L2":"L1"}),_.push(c(n))),i>0&&(f.push({label:r===1?"L1-L3":"L2"}),_.push(c(i))),s>0&&(f.push({label:r===1?"L2-L3":"L3"}),_.push(c(s))),l(0,a={padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:f},points:_})}},[a,n,i,s,r]}class Hm extends $e{constructor(e){super(),Ce(this,e,Um,Om,ye,{u1:1,u2:2,u3:3,ds:4})}}function jm(t){let e,l;return e=new Rl({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Wm(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:s}=e,{i1:r}=e,{i2:a}=e,{i3:c}=e,{max:f}=e,_={};function p(d){return{label:ce(d)+"A",title:d.toFixed(1)+" A",value:isNaN(d)?0:d,color:gc(d?d/f*100:0)}}return t.$$set=d=>{"u1"in d&&l(1,n=d.u1),"u2"in d&&l(2,i=d.u2),"u3"in d&&l(3,s=d.u3),"i1"in d&&l(4,r=d.i1),"i2"in d&&l(5,a=d.i2),"i3"in d&&l(6,c=d.i3),"max"in d&&l(7,f=d.max)},t.$$.update=()=>{if(t.$$.dirty&254){let d=[],v=[];n>0&&(d.push({label:"L1"}),v.push(p(r))),i>0&&(d.push({label:"L2"}),v.push(p(a))),s>0&&(d.push({label:"L3"}),v.push(p(c))),l(0,_={padding:{top:20,right:15,bottom:20,left:35},y:{min:0,max:f,ticks:[{value:0,label:"0%"},{value:f/4,label:"25%"},{value:f/2,label:"50%"},{value:f/4*3,label:"75%"},{value:f,label:"100%"}]},x:{ticks:d},points:v})}},[_,n,i,s,r,a,c,f]}class Gm extends $e{constructor(e){super(),Ce(this,e,Wm,jm,ye,{u1:1,u2:2,u3:3,i1:4,i2:5,i3:6,max:7})}}function Bm(t){let e,l,n,i,s,r,a,c=(typeof t[0]<"u"?t[0].toFixed(0):"-")+"",f,_,p,d,v,h,g=(typeof t[1]<"u"?t[1].toFixed(0):"-")+"",y,S,T,$,P,L,D,I=(typeof t[2]<"u"?t[2].toFixed(1):"-")+"",E,Z,R,U,O,Y,q=(typeof t[3]<"u"?t[3].toFixed(1):"-")+"",W,V;return{c(){e=m("div"),l=m("strong"),l.textContent="Reactive",n=b(),i=m("div"),s=m("div"),s.textContent="Instant in",r=b(),a=m("div"),f=C(c),_=C(" VAr"),p=b(),d=m("div"),d.textContent="Instant out",v=b(),h=m("div"),y=C(g),S=C(" VAr"),T=b(),$=m("div"),P=m("div"),P.textContent="Total in",L=b(),D=m("div"),E=C(I),Z=C(" kVArh"),R=b(),U=m("div"),U.textContent="Total out",O=b(),Y=m("div"),W=C(q),V=C(" kVArh"),u(a,"class","text-right"),u(h,"class","text-right"),u(i,"class","grid grid-cols-2 mt-4"),u(D,"class","text-right"),u(Y,"class","text-right"),u($,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(F,j){w(F,e,j),o(e,l),o(e,n),o(e,i),o(i,s),o(i,r),o(i,a),o(a,f),o(a,_),o(i,p),o(i,d),o(i,v),o(i,h),o(h,y),o(h,S),o(e,T),o(e,$),o($,P),o($,L),o($,D),o(D,E),o(D,Z),o($,R),o($,U),o($,O),o($,Y),o(Y,W),o(Y,V)},p(F,[j]){j&1&&c!==(c=(typeof F[0]<"u"?F[0].toFixed(0):"-")+"")&&H(f,c),j&2&&g!==(g=(typeof F[1]<"u"?F[1].toFixed(0):"-")+"")&&H(y,g),j&4&&I!==(I=(typeof F[2]<"u"?F[2].toFixed(1):"-")+"")&&H(E,I),j&8&&q!==(q=(typeof F[3]<"u"?F[3].toFixed(1):"-")+"")&&H(W,q)},i:oe,o:oe,d(F){F&&k(e)}}}function Ym(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:r}=e;return t.$$set=a=>{"importInstant"in a&&l(0,n=a.importInstant),"exportInstant"in a&&l(1,i=a.exportInstant),"importTotal"in a&&l(2,s=a.importTotal),"exportTotal"in a&&l(3,r=a.exportTotal)},[n,i,s,r]}class zm extends $e{constructor(e){super(),Ce(this,e,Ym,Bm,ye,{importInstant:0,exportInstant:1,importTotal:2,exportTotal:3})}}function ba(t){let e;function l(s,r){return s[3]?Km:Vm}let n=l(t),i=n(t);return{c(){i.c(),e=Me()},m(s,r){i.m(s,r),w(s,e,r)},p(s,r){n===(n=l(s))&&i?i.p(s,r):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&k(e)}}}function Vm(t){let e,l,n,i,s,r,a=ce(t[1].h.u,2)+"",c,f,_,p,d,v,h=ce(t[1].d.u,1)+"",g,y,S,T,$,P,L=ce(t[1].m.u)+"",D,I,E,Z,R,U,O=ce(t[0].last_month.u)+"",Y,q,W,V,F=t[4]&&ga(t);return{c(){e=m("strong"),e.textContent="Consumption",l=b(),n=m("div"),i=m("div"),i.textContent="Hour",s=b(),r=m("div"),c=C(a),f=C(" kWh"),_=b(),p=m("div"),p.textContent="Day",d=b(),v=m("div"),g=C(h),y=C(" kWh"),S=b(),T=m("div"),T.textContent="Month",$=b(),P=m("div"),D=C(L),I=C(" kWh"),E=b(),Z=m("div"),Z.textContent="Last month",R=b(),U=m("div"),Y=C(O),q=C(" kWh"),W=b(),F&&F.c(),V=Me(),u(r,"class","text-right"),u(v,"class","text-right"),u(P,"class","text-right"),u(U,"class","text-right"),u(n,"class","grid grid-cols-2 mb-3")},m(j,te){w(j,e,te),w(j,l,te),w(j,n,te),o(n,i),o(n,s),o(n,r),o(r,c),o(r,f),o(n,_),o(n,p),o(n,d),o(n,v),o(v,g),o(v,y),o(n,S),o(n,T),o(n,$),o(n,P),o(P,D),o(P,I),o(n,E),o(n,Z),o(n,R),o(n,U),o(U,Y),o(U,q),w(j,W,te),F&&F.m(j,te),w(j,V,te)},p(j,te){te&2&&a!==(a=ce(j[1].h.u,2)+"")&&H(c,a),te&2&&h!==(h=ce(j[1].d.u,1)+"")&&H(g,h),te&2&&L!==(L=ce(j[1].m.u)+"")&&H(D,L),te&1&&O!==(O=ce(j[0].last_month.u)+"")&&H(Y,O),j[4]?F?F.p(j,te):(F=ga(j),F.c(),F.m(V.parentNode,V)):F&&(F.d(1),F=null)},d(j){j&&k(e),j&&k(l),j&&k(n),j&&k(W),F&&F.d(j),j&&k(V)}}}function Km(t){let e,l,n,i,s,r,a=ce(t[1].h.u,2)+"",c,f,_,p,d,v,h,g=ce(t[1].d.u,1)+"",y,S,T,$,P,L,D,I=ce(t[1].m.u)+"",E,Z,R,U,O,Y,q,W=ce(t[0].last_month.u)+"",V,F,j,te,ie,x,B,G,_e,ge,me,de=ce(t[1].h.p,2)+"",ae,ve,le,se,ee,we,Ee,We=ce(t[1].d.p,1)+"",Ge,ot,Ie,xe,Be,Ue,et,rt=ce(t[1].m.p)+"",Re,Le,re,be,Ft,Ll,Xt,at=ce(t[0].last_month.p)+"",wl,rl,Rt,pt,Ye=t[4]&&ka(t),ze=t[4]&&wa(t),Ve=t[4]&&ya(t),Ae=t[4]&&Ca(t),Ke=t[4]&&$a(t),qe=t[4]&&Ta(t),Qe=t[4]&&Sa(t),Xe=t[4]&&Pa(t);return{c(){e=m("strong"),e.textContent="Import",l=b(),n=m("div"),i=m("div"),i.textContent="Hour",s=b(),r=m("div"),c=C(a),f=C(" kWh"),_=b(),Ye&&Ye.c(),p=b(),d=m("div"),d.textContent="Day",v=b(),h=m("div"),y=C(g),S=C(" kWh"),T=b(),ze&&ze.c(),$=b(),P=m("div"),P.textContent="Month",L=b(),D=m("div"),E=C(I),Z=C(" kWh"),R=b(),Ve&&Ve.c(),U=b(),O=m("div"),O.textContent="Last mo.",Y=b(),q=m("div"),V=C(W),F=C(" kWh"),j=b(),Ae&&Ae.c(),ie=b(),x=m("strong"),x.textContent="Export",B=b(),G=m("div"),_e=m("div"),_e.textContent="Hour",ge=b(),me=m("div"),ae=C(de),ve=C(" kWh"),le=b(),Ke&&Ke.c(),se=b(),ee=m("div"),ee.textContent="Day",we=b(),Ee=m("div"),Ge=C(We),ot=C(" kWh"),Ie=b(),qe&&qe.c(),xe=b(),Be=m("div"),Be.textContent="Month",Ue=b(),et=m("div"),Re=C(rt),Le=C(" kWh"),re=b(),Qe&&Qe.c(),be=b(),Ft=m("div"),Ft.textContent="Last mo.",Ll=b(),Xt=m("div"),wl=C(at),rl=C(" kWh"),Rt=b(),Xe&&Xe.c(),u(r,"class","text-right"),u(h,"class","text-right"),u(D,"class","text-right"),u(q,"class","text-right"),u(n,"class",te="grid grid-cols-"+t[5]+" mb-3"),u(me,"class","text-right"),u(Ee,"class","text-right"),u(et,"class","text-right"),u(Xt,"class","text-right"),u(G,"class",pt="grid grid-cols-"+t[5])},m(ue,he){w(ue,e,he),w(ue,l,he),w(ue,n,he),o(n,i),o(n,s),o(n,r),o(r,c),o(r,f),o(n,_),Ye&&Ye.m(n,null),o(n,p),o(n,d),o(n,v),o(n,h),o(h,y),o(h,S),o(n,T),ze&&ze.m(n,null),o(n,$),o(n,P),o(n,L),o(n,D),o(D,E),o(D,Z),o(n,R),Ve&&Ve.m(n,null),o(n,U),o(n,O),o(n,Y),o(n,q),o(q,V),o(q,F),o(n,j),Ae&&Ae.m(n,null),w(ue,ie,he),w(ue,x,he),w(ue,B,he),w(ue,G,he),o(G,_e),o(G,ge),o(G,me),o(me,ae),o(me,ve),o(G,le),Ke&&Ke.m(G,null),o(G,se),o(G,ee),o(G,we),o(G,Ee),o(Ee,Ge),o(Ee,ot),o(G,Ie),qe&&qe.m(G,null),o(G,xe),o(G,Be),o(G,Ue),o(G,et),o(et,Re),o(et,Le),o(G,re),Qe&&Qe.m(G,null),o(G,be),o(G,Ft),o(G,Ll),o(G,Xt),o(Xt,wl),o(Xt,rl),o(G,Rt),Xe&&Xe.m(G,null)},p(ue,he){he&2&&a!==(a=ce(ue[1].h.u,2)+"")&&H(c,a),ue[4]?Ye?Ye.p(ue,he):(Ye=ka(ue),Ye.c(),Ye.m(n,p)):Ye&&(Ye.d(1),Ye=null),he&2&&g!==(g=ce(ue[1].d.u,1)+"")&&H(y,g),ue[4]?ze?ze.p(ue,he):(ze=wa(ue),ze.c(),ze.m(n,$)):ze&&(ze.d(1),ze=null),he&2&&I!==(I=ce(ue[1].m.u)+"")&&H(E,I),ue[4]?Ve?Ve.p(ue,he):(Ve=ya(ue),Ve.c(),Ve.m(n,U)):Ve&&(Ve.d(1),Ve=null),he&1&&W!==(W=ce(ue[0].last_month.u)+"")&&H(V,W),ue[4]?Ae?Ae.p(ue,he):(Ae=Ca(ue),Ae.c(),Ae.m(n,null)):Ae&&(Ae.d(1),Ae=null),he&32&&te!==(te="grid grid-cols-"+ue[5]+" mb-3")&&u(n,"class",te),he&2&&de!==(de=ce(ue[1].h.p,2)+"")&&H(ae,de),ue[4]?Ke?Ke.p(ue,he):(Ke=$a(ue),Ke.c(),Ke.m(G,se)):Ke&&(Ke.d(1),Ke=null),he&2&&We!==(We=ce(ue[1].d.p,1)+"")&&H(Ge,We),ue[4]?qe?qe.p(ue,he):(qe=Ta(ue),qe.c(),qe.m(G,xe)):qe&&(qe.d(1),qe=null),he&2&&rt!==(rt=ce(ue[1].m.p)+"")&&H(Re,rt),ue[4]?Qe?Qe.p(ue,he):(Qe=Sa(ue),Qe.c(),Qe.m(G,be)):Qe&&(Qe.d(1),Qe=null),he&1&&at!==(at=ce(ue[0].last_month.p)+"")&&H(wl,at),ue[4]?Xe?Xe.p(ue,he):(Xe=Pa(ue),Xe.c(),Xe.m(G,null)):Xe&&(Xe.d(1),Xe=null),he&32&&pt!==(pt="grid grid-cols-"+ue[5])&&u(G,"class",pt)},d(ue){ue&&k(e),ue&&k(l),ue&&k(n),Ye&&Ye.d(),ze&&ze.d(),Ve&&Ve.d(),Ae&&Ae.d(),ue&&k(ie),ue&&k(x),ue&&k(B),ue&&k(G),Ke&&Ke.d(),qe&&qe.d(),Qe&&Qe.d(),Xe&&Xe.d()}}}function ga(t){let e,l,n,i,s,r,a=ce(t[1].h.c,2)+"",c,f,_,p,d,v,h,g=ce(t[1].d.c,1)+"",y,S,T,$,P,L,D,I=ce(t[1].m.c)+"",E,Z,R,U,O,Y,q,W=ce(t[0].last_month.c)+"",V,F,j;return{c(){e=m("strong"),e.textContent="Cost",l=b(),n=m("div"),i=m("div"),i.textContent="Hour",s=b(),r=m("div"),c=C(a),f=b(),_=C(t[2]),p=b(),d=m("div"),d.textContent="Day",v=b(),h=m("div"),y=C(g),S=b(),T=C(t[2]),$=b(),P=m("div"),P.textContent="Month",L=b(),D=m("div"),E=C(I),Z=b(),R=C(t[2]),U=b(),O=m("div"),O.textContent="Last month",Y=b(),q=m("div"),V=C(W),F=b(),j=C(t[2]),u(r,"class","text-right"),u(h,"class","text-right"),u(D,"class","text-right"),u(q,"class","text-right"),u(n,"class","grid grid-cols-2")},m(te,ie){w(te,e,ie),w(te,l,ie),w(te,n,ie),o(n,i),o(n,s),o(n,r),o(r,c),o(r,f),o(r,_),o(n,p),o(n,d),o(n,v),o(n,h),o(h,y),o(h,S),o(h,T),o(n,$),o(n,P),o(n,L),o(n,D),o(D,E),o(D,Z),o(D,R),o(n,U),o(n,O),o(n,Y),o(n,q),o(q,V),o(q,F),o(q,j)},p(te,ie){ie&2&&a!==(a=ce(te[1].h.c,2)+"")&&H(c,a),ie&4&&H(_,te[2]),ie&2&&g!==(g=ce(te[1].d.c,1)+"")&&H(y,g),ie&4&&H(T,te[2]),ie&2&&I!==(I=ce(te[1].m.c)+"")&&H(E,I),ie&4&&H(R,te[2]),ie&1&&W!==(W=ce(te[0].last_month.c)+"")&&H(V,W),ie&4&&H(j,te[2])},d(te){te&&k(e),te&&k(l),te&&k(n)}}}function ka(t){let e,l=ce(t[1].h.c,2)+"",n,i,s;return{c(){e=m("div"),n=C(l),i=b(),s=C(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),o(e,n),o(e,i),o(e,s)},p(r,a){a&2&&l!==(l=ce(r[1].h.c,2)+"")&&H(n,l),a&4&&H(s,r[2])},d(r){r&&k(e)}}}function wa(t){let e,l=ce(t[1].d.c,1)+"",n,i,s;return{c(){e=m("div"),n=C(l),i=b(),s=C(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),o(e,n),o(e,i),o(e,s)},p(r,a){a&2&&l!==(l=ce(r[1].d.c,1)+"")&&H(n,l),a&4&&H(s,r[2])},d(r){r&&k(e)}}}function ya(t){let e,l=ce(t[1].m.c)+"",n,i,s;return{c(){e=m("div"),n=C(l),i=b(),s=C(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),o(e,n),o(e,i),o(e,s)},p(r,a){a&2&&l!==(l=ce(r[1].m.c)+"")&&H(n,l),a&4&&H(s,r[2])},d(r){r&&k(e)}}}function Ca(t){let e,l=ce(t[0].last_month.c)+"",n,i,s;return{c(){e=m("div"),n=C(l),i=b(),s=C(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),o(e,n),o(e,i),o(e,s)},p(r,a){a&1&&l!==(l=ce(r[0].last_month.c)+"")&&H(n,l),a&4&&H(s,r[2])},d(r){r&&k(e)}}}function $a(t){let e,l=ce(t[1].h.i,2)+"",n,i,s;return{c(){e=m("div"),n=C(l),i=b(),s=C(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),o(e,n),o(e,i),o(e,s)},p(r,a){a&2&&l!==(l=ce(r[1].h.i,2)+"")&&H(n,l),a&4&&H(s,r[2])},d(r){r&&k(e)}}}function Ta(t){let e,l=ce(t[1].d.i,1)+"",n,i,s;return{c(){e=m("div"),n=C(l),i=b(),s=C(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),o(e,n),o(e,i),o(e,s)},p(r,a){a&2&&l!==(l=ce(r[1].d.i,1)+"")&&H(n,l),a&4&&H(s,r[2])},d(r){r&&k(e)}}}function Sa(t){let e,l=ce(t[1].m.i)+"",n,i,s;return{c(){e=m("div"),n=C(l),i=b(),s=C(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),o(e,n),o(e,i),o(e,s)},p(r,a){a&2&&l!==(l=ce(r[1].m.i)+"")&&H(n,l),a&4&&H(s,r[2])},d(r){r&&k(e)}}}function Pa(t){let e,l=ce(t[0].last_month.i)+"",n,i,s;return{c(){e=m("div"),n=C(l),i=b(),s=C(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),o(e,n),o(e,i),o(e,s)},p(r,a){a&1&&l!==(l=ce(r[0].last_month.i)+"")&&H(n,l),a&4&&H(s,r[2])},d(r){r&&k(e)}}}function Qm(t){let e,l,n,i,s,r,a=t[1]&&ba(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Real time calculation",n=b(),i=m("br"),s=m("br"),r=b(),a&&a.c(),u(e,"class","mx-2 text-sm")},m(c,f){w(c,e,f),o(e,l),o(e,n),o(e,i),o(e,s),o(e,r),a&&a.m(e,null)},p(c,[f]){c[1]?a?a.p(c,f):(a=ba(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:oe,o:oe,d(c){c&&k(e),a&&a.d()}}}function Xm(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:s}=e,{hasExport:r}=e,a=!1,c=3;return t.$$set=f=>{"sysinfo"in f&&l(0,n=f.sysinfo),"data"in f&&l(1,i=f.data),"currency"in f&&l(2,s=f.currency),"hasExport"in f&&l(3,r=f.hasExport)},t.$$.update=()=>{t.$$.dirty&18&&(l(4,a=i&&i.h&&(i.h.c>.01||i.d.c>.01||i.m.c>.01||i.h.i>.01||i.d.i>.01||i.m.i>.01)),l(5,c=a?3:2))},[n,i,s,r,a,c]}class Zm extends $e{constructor(e){super(),Ce(this,e,Xm,Qm,ye,{sysinfo:0,data:1,currency:2,hasExport:3})}}function Jm(t){let e,l,n,i;return n=new Rl({props:{config:t[0]}}),{c(){e=m("a"),e.textContent="Provided by ENTSO-E",l=b(),J(n.$$.fragment),u(e,"href","https://transparency.entsoe.eu/"),u(e,"target","_blank"),u(e,"class","text-xs float-right z-40")},m(s,r){w(s,e,r),w(s,l,r),Q(n,s,r),i=!0},p(s,[r]){const a={};r&1&&(a.config=s[0]),n.$set(a)},i(s){i||(M(n.$$.fragment,s),i=!0)},o(s){A(n.$$.fragment,s),i=!1},d(s){s&&k(e),s&&k(l),X(n,s)}}}function xm(t,e,l){let{json:n}=e,i={},s=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=new Date().getUTCHours(),c=0,f=0,_=0,p=n[20]==null?2:1,d=[],v=[],h=[],g=new Date;for(c=a;c<24&&(f=n[ke(_++)],f!=null);c++)v.push({label:ke(g.getHours())}),h.push({label:f>0?f.toFixed(p):"",title:f>0?f.toFixed(2)+" "+n.currency:"",value:f>0?Math.abs(f*100):0,label2:f<0?f.toFixed(p):"",title2:f<0?f.toFixed(2)+" "+n.currency:"",value2:f<0?Math.abs(f*100):0,color:"#7c3aed"}),l(3,r=Math.min(r,f*100)),l(2,s=Math.max(s,f*100)),bi(g,1);for(c=0;c<24&&(f=n[ke(_++)],f!=null);c++)v.push({label:ke(g.getHours())}),h.push({label:f>0?f.toFixed(p):"",value:f>0?Math.abs(f*100):0,label2:f<0?f.toFixed(p):"",value2:f<0?Math.abs(f*100):0,color:"#7c3aed"}),l(3,r=Math.min(r,f*100)),l(2,s=Math.max(s,f*100)),bi(g,1);if(l(2,s=Math.ceil(s)),l(3,r=Math.floor(r)),r<0){let S=r/4;for(c=1;c<5;c++){let T=S*c;d.push({value:T,label:(T/100).toFixed(2)})}}let y=s/4;for(c=0;c<5;c++){let S=y*c;d.push({value:S,label:(S/100).toFixed(2)})}l(0,i={title:"Future energy price ("+n.currency+")",padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:s,ticks:d},x:{ticks:v},points:h})}},[i,n,s,r]}class ep extends $e{constructor(e){super(),Ce(this,e,xm,Jm,ye,{json:1})}}function tp(t){let e,l;return e=new Rl({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function lp(t,e,l){let{json:n}=e,i={},s=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,c=[],f=[],_=[],p=bi(new Date,-24),d=new Date().getUTCHours();for(a=d;a<24;a++){let g=n["i"+ke(a)],y=n["e"+ke(a)];g===void 0&&(g=0),y===void 0&&(y=0),f.push({label:ke(p.getHours())}),_.push({label:g.toFixed(1),title:g.toFixed(2)+" kWh",value:g*10,label2:y.toFixed(1),title2:y.toFixed(2)+" kWh",value2:y*10,color:"#7c3aed",color2:"#407038"}),l(3,r=Math.max(r,y*10)),l(2,s=Math.max(s,g*10)),bi(p,1)}for(a=0;a<d;a++){let g=n["i"+ke(a)],y=n["e"+ke(a)];g===void 0&&(g=0),y===void 0&&(y=0),f.push({label:ke(p.getHours())}),_.push({label:g.toFixed(1),title:g.toFixed(2)+" kWh",value:g*10,label2:y.toFixed(1),title2:y.toFixed(2)+" kWh",value2:y*10,color:"#7c3aed",color2:"#407038"}),l(3,r=Math.max(r,y*10)),l(2,s=Math.max(s,g*10)),bi(p,1)}let v=Math.ceil(Math.max(r,s));if(l(2,s=v),l(3,r=r==0?0:v*-1),r<0){let g=r/4;for(a=1;a<5;a++){let y=g*a;c.push({value:y,label:(y/10).toFixed(1)})}}let h=s/4;for(a=0;a<5;a++){let g=h*a;c.push({value:g,label:(g/10).toFixed(1)})}l(0,i={title:"Energy use last 24 hours (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:s,ticks:c},x:{ticks:f},points:_})}},[i,n,s,r]}class np extends $e{constructor(e){super(),Ce(this,e,lp,tp,ye,{json:1})}}function ip(t){let e,l;return e=new Rl({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function sp(t,e,l){let{json:n}=e,i={},s=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,c=[],f=[],_=[],p=new Date,d=new Date;for(d.setDate(0),a=p.getDate();a<=d.getDate();a++){let g=n["i"+ke(a)],y=n["e"+ke(a)];g===void 0&&(g=0),y===void 0&&(y=0),f.push({label:ke(a)}),_.push({label:g.toFixed(g<10?1:0),title:g.toFixed(2)+" kWh",value:g,label2:y.toFixed(y<10?1:0),title2:y.toFixed(2)+" kWh",value2:y,color:"#7c3aed",color2:"#407038"}),l(3,r=Math.max(r,y)),l(2,s=Math.max(s,g))}for(a=1;a<p.getDate();a++){let g=n["i"+ke(a)],y=n["e"+ke(a)];g===void 0&&(g=0),y===void 0&&(y=0),f.push({label:ke(a)}),_.push({label:g.toFixed(g<10?1:0),title:g.toFixed(2)+" kWh",value:g,label2:y.toFixed(y<10?1:0),title2:y.toFixed(2)+" kWh",value2:y,color:"#7c3aed",color2:"#407038"}),l(3,r=Math.max(r,y)),l(2,s=Math.max(s,g))}let v=Math.ceil(Math.max(r,s)/10)*10;if(l(2,s=v),l(3,r=r==0?0:v*-1),r<0){let g=r/4;for(a=0;a<5;a++){let y=g*a;c.push({value:y,label:y.toFixed(0)})}}let h=s/4;for(a=0;a<5;a++){let g=h*a;c.push({value:g,label:g.toFixed(0)})}l(0,i={title:"Energy use last month (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:s,ticks:c},x:{ticks:f},points:_})}},[i,n,s,r]}class op extends $e{constructor(e){super(),Ce(this,e,sp,ip,ye,{json:1})}}function up(t){let e,l;return e=new Rl({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function rp(t,e,l){let{json:n}=e,i={},s=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,c=0,f=[],_=[],p=[];n.s&&n.s.forEach((h,g)=>{var y=h.n?h.n:h.a;c=h.v,c==-127&&(c=0),_.push({label:y.slice(-4)}),p.push({label:c.toFixed(1),value:c,color:"#7c3aed"}),l(3,r=Math.min(r,c)),l(2,s=Math.max(s,c))}),l(2,s=Math.ceil(s)),l(3,r=Math.floor(r));let d=s;r<0&&(d+=Math.abs(r));let v=d/4;for(a=0;a<5;a++)c=r+v*a,f.push({value:c,label:c.toFixed(1)});l(0,i={title:"Temperature sensors (\xB0C)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:s,ticks:f},x:{ticks:_},points:p})}},[i,n,s,r]}class ap extends $e{constructor(e){super(),Ce(this,e,rp,up,ye,{json:1})}}function fp(t){let e,l;return e=new Rl({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}let cp=0;function mp(t,e,l){let n={},i=0,s;return Pc.subscribe(r=>{l(2,s=r)}),Sc(),t.$$.update=()=>{if(t.$$.dirty&6){let r=0,a=[],c=[],f=[];if(a.push({value:0,label:0}),s&&s.p)for(r=0;r<s.p.length;r++){let _=s.p[r];f.push({label:_.v.toFixed(2),value:_.v,color:"#7c3aed"}),c.push({label:_.d>0?ke(_.d)+"."+Vs[new Date().getMonth()]:"-"}),l(1,i=Math.max(i,_.v))}if(s&&s.t){for(r=0;r<s.t.length;r++){let _=s.t[r];if(_>=i)break;a.push({value:_,label:_})}a.push({label:s.m.toFixed(1),align:"right",color:"green",value:s.m})}s&&s.c&&(a.push({label:s.c.toFixed(0),color:"orange",value:s.c}),l(1,i=Math.max(i,s.c))),l(1,i=Math.ceil(i)),l(0,n={title:"Tariff peaks",padding:{top:20,right:35,bottom:20,left:35},y:{min:cp,max:i,ticks:a},x:{ticks:c},points:f})}},[n,i,s]}class pp extends $e{constructor(e){super(),Ce(this,e,mp,fp,ye,{})}}function _p(t){let e,l;return e=new Rl({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}let Na=179;function dp(t,e,l){let{json:n}=e,i={},s=0,r=0,a=0,c=0;return t.$$set=f=>{"json"in f&&l(1,n=f.json)},t.$$.update=()=>{if(t.$$.dirty&62){let f=0,_=[],p=[],d=[],v=0;for(f=Na;f>-1;f--){let h=n["i"+ke(f)];h===void 0&&(h=0),h<0?(v=-1*h,h=0):v=0,f==Na&&(l(2,s=Math.ceil(h/10)*10),l(3,r=Math.floor(h/10)*10),l(4,a=Math.ceil(v/10)*10),l(5,c=Math.floor(v/10)*10)),f%3==0?p.push({label:ke(-1*f/3)}):p.push({label:" "}),d.push({label:h,title:h+" W",value:h,label2:v*-1,title2:v*-1+" W",value2:v,color2:"#407038",color:"#7c3aed"}),l(3,r=Math.min(r,h)),l(2,s=Math.max(s,h)),l(5,c=Math.min(c,v)),l(4,a=Math.max(a,v))}if(a>0?(l(4,a=Math.ceil(a/10)*10),l(5,c=Math.floor(c/10)*10),s>0&&(l(3,r=0),l(5,c=0))):(l(4,a=0),l(5,c=0)),s>0&&l(5,c=0),l(4,a=a*-1),l(5,c=c*-1),a<0){let h=(a-c)/4;for(h>-1&&(h=-1),f=0;f<5;f++){let g=h*f+c;_.push({value:g,label:g.toFixed(0)})}}if(l(2,s=Math.ceil(s/10)*10),r>0&&l(3,r=Math.floor(r/10)*10),s>0){let h=(s-r)/4;for(h<1&&(h=1),f=0;f<5;f++){let g=h*f+r;_.push({value:g,label:g.toFixed(0)})}}a<0&&(l(3,r=a),s<0&&(l(2,s=c),l(3,r=a))),l(0,i={title:"Electrical power last hour (Watt)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:s,ticks:_},x:{ticks:p},points:d})}},[i,n,s,r,a,c]}class vp extends $e{constructor(e){super(),Ce(this,e,dp,_p,ye,{json:1})}}function Ma(t){let e,l,n,i,s,r,a=(t[0].mt?bs(t[0].mt):"-")+"",c,f,_,p=(t[0].ic?t[0].ic.toFixed(1):"-")+"",d,v,h;return i=new Mc({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:"Import",sub:t[0].p,subunit:t[0].pc,colorFn:gc}}),{c(){e=m("div"),l=m("div"),n=m("div"),J(i.$$.fragment),s=b(),r=m("div"),c=C(a),f=b(),_=m("div"),d=C(p),v=C(" kWh"),u(n,"class","col-span-2"),u(_,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(g,y){w(g,e,y),o(e,l),o(l,n),Q(i,n,null),o(l,s),o(l,r),o(r,c),o(l,f),o(l,_),o(_,d),o(_,v),h=!0},p(g,y){const S={};y&1&&(S.val=g[0].i?g[0].i:0),y&1&&(S.max=g[0].im?g[0].im:15e3),y&1&&(S.sub=g[0].p),y&1&&(S.subunit=g[0].pc),i.$set(S),(!h||y&1)&&a!==(a=(g[0].mt?bs(g[0].mt):"-")+"")&&H(c,a),(!h||y&1)&&p!==(p=(g[0].ic?g[0].ic.toFixed(1):"-")+"")&&H(d,p)},i(g){h||(M(i.$$.fragment,g),h=!0)},o(g){A(i.$$.fragment,g),h=!1},d(g){g&&k(e),X(i)}}}function Aa(t){let e,l,n,i,s,r,a,c,f=(t[0].ec?t[0].ec.toFixed(1):"-")+"",_,p,d;return i=new Mc({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:"Export",colorFn:Q1}}),{c(){e=m("div"),l=m("div"),n=m("div"),J(i.$$.fragment),s=b(),r=m("div"),a=b(),c=m("div"),_=C(f),p=C(" kWh"),u(n,"class","col-span-2"),u(c,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(v,h){w(v,e,h),o(e,l),o(l,n),Q(i,n,null),o(l,s),o(l,r),o(l,a),o(l,c),o(c,_),o(c,p),d=!0},p(v,h){const g={};h&1&&(g.val=v[0].e?v[0].e:0),h&1&&(g.max=v[0].om?v[0].om*1e3:1e4),i.$set(g),(!d||h&1)&&f!==(f=(v[0].ec?v[0].ec.toFixed(1):"-")+"")&&H(_,f)},i(v){d||(M(i.$$.fragment,v),d=!0)},o(v){A(i.$$.fragment,v),d=!1},d(v){v&&k(e),X(i)}}}function Da(t){let e,l,n;return l=new Hm({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,ds:t[0].ds}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,s){w(i,e,s),Q(l,e,null),n=!0},p(i,s){const r={};s&1&&(r.u1=i[0].u1),s&1&&(r.u2=i[0].u2),s&1&&(r.u3=i[0].u3),s&1&&(r.ds=i[0].ds),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Ea(t){let e,l,n;return l=new Gm({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,i1:t[0].i1,i2:t[0].i2,i3:t[0].i3,max:t[0].mf?t[0].mf:32}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,s){w(i,e,s),Q(l,e,null),n=!0},p(i,s){const r={};s&1&&(r.u1=i[0].u1),s&1&&(r.u2=i[0].u2),s&1&&(r.u3=i[0].u3),s&1&&(r.i1=i[0].i1),s&1&&(r.i2=i[0].i2),s&1&&(r.i3=i[0].i3),s&1&&(r.max=i[0].mf?i[0].mf:32),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Ia(t){let e,l,n;return l=new zm({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,s){w(i,e,s),Q(l,e,null),n=!0},p(i,s){const r={};s&1&&(r.importInstant=i[0].ri),s&1&&(r.exportInstant=i[0].re),s&1&&(r.importTotal=i[0].ric),s&1&&(r.exportTotal=i[0].rec),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Fa(t){let e,l,n;return l=new Zm({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,s){w(i,e,s),Q(l,e,null),n=!0},p(i,s){const r={};s&2&&(r.sysinfo=i[1]),s&1&&(r.data=i[0].ea),s&1&&(r.currency=i[0].pc),s&1&&(r.hasExport=i[0].om>0||i[0].e>0),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Ra(t){let e,l,n;return l=new pp({}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt h-64")},m(i,s){w(i,e,s),Q(l,e,null),n=!0},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function La(t){let e,l,n;return l=new ep({props:{json:t[2]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,s){w(i,e,s),Q(l,e,null),n=!0},p(i,s){const r={};s&4&&(r.json=i[2]),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function qa(t){let e,l,n;return l=new vp({props:{json:t[5]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,s){w(i,e,s),Q(l,e,null),n=!0},p(i,s){const r={};s&32&&(r.json=i[5]),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Oa(t){let e,l,n;return l=new np({props:{json:t[3]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,s){w(i,e,s),Q(l,e,null),n=!0},p(i,s){const r={};s&8&&(r.json=i[3]),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Ua(t){let e,l,n;return l=new op({props:{json:t[4]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,s){w(i,e,s),Q(l,e,null),n=!0},p(i,s){const r={};s&16&&(r.json=i[4]),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Ha(t){let e,l,n;return l=new ap({props:{json:t[6]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,s){w(i,e,s),Q(l,e,null),n=!0},p(i,s){const r={};s&64&&(r.json=i[6]),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function hp(t){let e,l=Oe(t[1].ui.i,t[0].i),n,i=Oe(t[1].ui.e,t[0].om||t[0].e>0),s,r=Oe(t[1].ui.v,t[0].u1>100||t[0].u2>100||t[0].u3>100),a,c=Oe(t[1].ui.a,t[0].i1>.01||t[0].i2>.01||t[0].i3>.01),f,_=Oe(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),p,d=Oe(t[1].ui.c,t[0].ea),v,h=Oe(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("10YNO")||t[0].pr=="10Y1001A1001A48H")),g,y=Oe(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),S,T=Oe(t[1].ui.d,t[5]),$,P=Oe(t[1].ui.d,t[3]),L,D=Oe(t[1].ui.m,t[4]),I,E=Oe(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[6].c>1),Z,R=l&&Ma(t),U=i&&Aa(t),O=r&&Da(t),Y=c&&Ea(t),q=_&&Ia(t),W=d&&Fa(t),V=h&&Ra(),F=y&&La(t),j=T&&qa(t),te=P&&Oa(t),ie=D&&Ua(t),x=E&&Ha(t);return{c(){e=m("div"),R&&R.c(),n=b(),U&&U.c(),s=b(),O&&O.c(),a=b(),Y&&Y.c(),f=b(),q&&q.c(),p=b(),W&&W.c(),v=b(),V&&V.c(),g=b(),F&&F.c(),S=b(),j&&j.c(),$=b(),te&&te.c(),L=b(),ie&&ie.c(),I=b(),x&&x.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(B,G){w(B,e,G),R&&R.m(e,null),o(e,n),U&&U.m(e,null),o(e,s),O&&O.m(e,null),o(e,a),Y&&Y.m(e,null),o(e,f),q&&q.m(e,null),o(e,p),W&&W.m(e,null),o(e,v),V&&V.m(e,null),o(e,g),F&&F.m(e,null),o(e,S),j&&j.m(e,null),o(e,$),te&&te.m(e,null),o(e,L),ie&&ie.m(e,null),o(e,I),x&&x.m(e,null),Z=!0},p(B,[G]){G&3&&(l=Oe(B[1].ui.i,B[0].i)),l?R?(R.p(B,G),G&3&&M(R,1)):(R=Ma(B),R.c(),M(R,1),R.m(e,n)):R&&(Te(),A(R,1,1,()=>{R=null}),Se()),G&3&&(i=Oe(B[1].ui.e,B[0].om||B[0].e>0)),i?U?(U.p(B,G),G&3&&M(U,1)):(U=Aa(B),U.c(),M(U,1),U.m(e,s)):U&&(Te(),A(U,1,1,()=>{U=null}),Se()),G&3&&(r=Oe(B[1].ui.v,B[0].u1>100||B[0].u2>100||B[0].u3>100)),r?O?(O.p(B,G),G&3&&M(O,1)):(O=Da(B),O.c(),M(O,1),O.m(e,a)):O&&(Te(),A(O,1,1,()=>{O=null}),Se()),G&3&&(c=Oe(B[1].ui.a,B[0].i1>.01||B[0].i2>.01||B[0].i3>.01)),c?Y?(Y.p(B,G),G&3&&M(Y,1)):(Y=Ea(B),Y.c(),M(Y,1),Y.m(e,f)):Y&&(Te(),A(Y,1,1,()=>{Y=null}),Se()),G&3&&(_=Oe(B[1].ui.r,B[0].ri>0||B[0].re>0||B[0].ric>0||B[0].rec>0)),_?q?(q.p(B,G),G&3&&M(q,1)):(q=Ia(B),q.c(),M(q,1),q.m(e,p)):q&&(Te(),A(q,1,1,()=>{q=null}),Se()),G&3&&(d=Oe(B[1].ui.c,B[0].ea)),d?W?(W.p(B,G),G&3&&M(W,1)):(W=Fa(B),W.c(),M(W,1),W.m(e,v)):W&&(Te(),A(W,1,1,()=>{W=null}),Se()),G&3&&(h=Oe(B[1].ui.t,B[0].pr&&(B[0].pr.startsWith("10YNO")||B[0].pr=="10Y1001A1001A48H"))),h?V?G&3&&M(V,1):(V=Ra(),V.c(),M(V,1),V.m(e,g)):V&&(Te(),A(V,1,1,()=>{V=null}),Se()),G&3&&(y=Oe(B[1].ui.p,B[0].pe&&!Number.isNaN(B[0].p))),y?F?(F.p(B,G),G&3&&M(F,1)):(F=La(B),F.c(),M(F,1),F.m(e,S)):F&&(Te(),A(F,1,1,()=>{F=null}),Se()),G&34&&(T=Oe(B[1].ui.d,B[5])),T?j?(j.p(B,G),G&34&&M(j,1)):(j=qa(B),j.c(),M(j,1),j.m(e,$)):j&&(Te(),A(j,1,1,()=>{j=null}),Se()),G&10&&(P=Oe(B[1].ui.d,B[3])),P?te?(te.p(B,G),G&10&&M(te,1)):(te=Oa(B),te.c(),M(te,1),te.m(e,L)):te&&(Te(),A(te,1,1,()=>{te=null}),Se()),G&18&&(D=Oe(B[1].ui.m,B[4])),D?ie?(ie.p(B,G),G&18&&M(ie,1)):(ie=Ua(B),ie.c(),M(ie,1),ie.m(e,I)):ie&&(Te(),A(ie,1,1,()=>{ie=null}),Se()),G&67&&(E=Oe(B[1].ui.s,B[0].t&&B[0].t!=-127&&B[6].c>1)),E?x?(x.p(B,G),G&67&&M(x,1)):(x=Ha(B),x.c(),M(x,1),x.m(e,null)):x&&(Te(),A(x,1,1,()=>{x=null}),Se())},i(B){Z||(M(R),M(U),M(O),M(Y),M(q),M(W),M(V),M(F),M(j),M(te),M(ie),M(x),Z=!0)},o(B){A(R),A(U),A(O),A(Y),A(q),A(W),A(V),A(F),A(j),A(te),A(ie),A(x),Z=!1},d(B){B&&k(e),R&&R.d(),U&&U.d(),O&&O.d(),Y&&Y.d(),q&&q.d(),W&&W.d(),V&&V.d(),F&&F.d(),j&&j.d(),te&&te.d(),ie&&ie.d(),x&&x.d()}}}function bp(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,s={},r={},a={},c={},f={};return kc.subscribe(_=>{l(2,s=_)}),wc.subscribe(_=>{l(3,r=_)}),yc.subscribe(_=>{l(4,a=_)}),Cc.subscribe(_=>{l(5,c=_)}),Tc.subscribe(_=>{l(6,f=_)}),t.$$set=_=>{"data"in _&&l(0,n=_.data),"sysinfo"in _&&l(1,i=_.sysinfo)},[n,i,s,r,a,c,f]}class gp extends $e{constructor(e){super(),Ce(this,e,bp,hp,ye,{data:0,sysinfo:1})}}let eo={};const Ac=Je(eo);async function kp(){eo=await(await fetch("/configuration.json")).json(),Ac.set(eo)}function ja(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function wp(t){let e;return{c(){e=m("option"),e.textContent="UART0",e.__value=3,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function yp(t){let e;return{c(){e=m("option"),e.textContent="UART0",e.__value=20,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Wa(t){let e;return{c(){e=m("option"),e.textContent="UART2",e.__value=113,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Ga(t){let e,l,n;return{c(){e=m("option"),e.textContent="UART1",l=b(),n=m("option"),n.textContent="UART2",e.__value=9,e.value=e.__value,n.__value=16,n.value=n.__value},m(i,s){w(i,e,s),w(i,l,s),w(i,n,s)},d(i){i&&k(e),i&&k(l),i&&k(n)}}}function Ba(t){let e;return{c(){e=m("option"),e.textContent="UART1",e.__value=18,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Ya(t){let e,l,n;return{c(){e=m("option"),l=C("GPIO"),n=C(t[4]),e.__value=t[4],e.value=e.__value},m(i,s){w(i,e,s),o(e,l),o(e,n)},d(i){i&&k(e)}}}function za(t){let e,l=t[4]>3&&!(t[0]=="esp32"&&(t[4]==9||t[4]==16))&&!(t[0]=="esp32s2"&&t[4]==18)&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&Ya(t);return{c(){l&&l.c(),e=Me()},m(n,i){l&&l.m(n,i),w(n,e,i)},p(n,i){n[4]>3&&!(n[0]=="esp32"&&(n[4]==9||n[4]==16))&&!(n[0]=="esp32s2"&&n[4]==18)&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=Ya(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){l&&l.d(n),n&&k(e)}}}function Cp(t){let e,l,n,i,s;function r(h,g){return h[0]=="esp32c3"?yp:wp}let a=r(t),c=a(t),f=t[0]=="esp8266"&&Wa(),_=(t[0]=="esp32"||t[0]=="esp32solo")&&Ga(),p=t[0]=="esp32s2"&&Ba(),d={length:t[1]+1},v=[];for(let h=0;h<d.length;h+=1)v[h]=za(ja(t,d,h));return{c(){c.c(),e=b(),f&&f.c(),l=b(),_&&_.c(),n=b(),p&&p.c(),i=b();for(let h=0;h<v.length;h+=1)v[h].c();s=Me()},m(h,g){c.m(h,g),w(h,e,g),f&&f.m(h,g),w(h,l,g),_&&_.m(h,g),w(h,n,g),p&&p.m(h,g),w(h,i,g);for(let y=0;y<v.length;y+=1)v[y].m(h,g);w(h,s,g)},p(h,[g]){if(a!==(a=r(h))&&(c.d(1),c=a(h),c&&(c.c(),c.m(e.parentNode,e))),h[0]=="esp8266"?f||(f=Wa(),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),h[0]=="esp32"||h[0]=="esp32solo"?_||(_=Ga(),_.c(),_.m(n.parentNode,n)):_&&(_.d(1),_=null),h[0]=="esp32s2"?p||(p=Ba(),p.c(),p.m(i.parentNode,i)):p&&(p.d(1),p=null),g&3){d={length:h[1]+1};let y;for(y=0;y<d.length;y+=1){const S=ja(h,d,y);v[y]?v[y].p(S,g):(v[y]=za(S),v[y].c(),v[y].m(s.parentNode,s))}for(;y<v.length;y+=1)v[y].d(1);v.length=d.length}},i:oe,o:oe,d(h){c.d(h),h&&k(e),f&&f.d(h),h&&k(l),_&&_.d(h),h&&k(n),p&&p.d(h),h&&k(i),ol(v,h),h&&k(s)}}}function $p(t,e,l){let{chip:n}=e,i=39;return t.$$set=s=>{"chip"in s&&l(0,n=s.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32c3":l(1,i=19);break}},[n,i]}class Dc extends $e{constructor(e){super(),Ce(this,e,$p,Cp,ye,{chip:0})}}function Va(t){let e,l,n=t[1]&&Ka(t);return{c(){e=m("div"),l=m("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,s){w(i,e,s),o(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=Ka(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&k(e),n&&n.d()}}}function Ka(t){let e,l;return{c(){e=m("div"),l=C(t[1]),u(e,"class","bg-white m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 w-96")},m(n,i){w(n,e,i),o(e,l)},p(n,i){i&2&&H(l,n[1])},d(n){n&&k(e)}}}function Tp(t){let e,l=t[0]&&Va(t);return{c(){l&&l.c(),e=Me()},m(n,i){l&&l.m(n,i),w(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Va(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:oe,o:oe,d(n){l&&l.d(n),n&&k(e)}}}function Sp(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class It extends $e{constructor(e){super(),Ce(this,e,Sp,Tp,ye,{active:0,message:1})}}function Qa(t,e,l){const n=t.slice();return n[1]=e[l],n}function Xa(t){let e,l,n=t[1]+"",i;return{c(){e=m("option"),l=C("Europe/"),i=C(n),e.__value="Europe/"+t[1],e.value=e.__value},m(s,r){w(s,e,r),o(e,l),o(e,i)},p:oe,d(s){s&&k(e)}}}function Pp(t){let e,l,n,i=t[0],s=[];for(let r=0;r<i.length;r+=1)s[r]=Xa(Qa(t,i,r));return{c(){e=m("option"),e.textContent="GMT",l=b();for(let r=0;r<s.length;r+=1)s[r].c();n=Me(),e.__value="GMT",e.value=e.__value},m(r,a){w(r,e,a),w(r,l,a);for(let c=0;c<s.length;c+=1)s[c].m(r,a);w(r,n,a)},p(r,[a]){if(a&1){i=r[0];let c;for(c=0;c<i.length;c+=1){const f=Qa(r,i,c);s[c]?s[c].p(f,a):(s[c]=Xa(f),s[c].c(),s[c].m(n.parentNode,n))}for(;c<s.length;c+=1)s[c].d(1);s.length=i.length}},i:oe,o:oe,d(r){r&&k(e),r&&k(l),ol(s,r),r&&k(n)}}}function Np(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class Mp extends $e{constructor(e){super(),Ce(this,e,Np,Pp,ye,{})}}function Ap(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h;return{c(){e=m("optgroup"),l=m("option"),l.textContent="/24",n=b(),i=m("optgroup"),s=m("option"),s.textContent="/25",r=m("option"),r.textContent="/26",a=m("option"),a.textContent="/27",c=m("option"),c.textContent="/28",f=m("option"),f.textContent="/29",_=b(),p=m("optgroup"),d=m("option"),d.textContent="/23",v=m("option"),v.textContent="/22",h=m("option"),h.textContent="/16",l.__value="255.255.255.0",l.value=l.__value,u(e,"label","Most common is /24 (255.255.255.0)"),s.__value="255.255.255.128",s.value=s.__value,r.__value="255.255.255.192",r.value=r.__value,a.__value="255.255.255.224",a.value=a.__value,c.__value="255.255.255.240",c.value=c.__value,f.__value="255.255.255.248",f.value=f.__value,u(i,"label","Smaller subnets"),d.__value="255.255.254.0",d.value=d.__value,v.__value="255.255.252.0",v.value=v.__value,h.__value="255.255.0.0",h.value=h.__value,u(p,"label","Larger subnets")},m(g,y){w(g,e,y),o(e,l),w(g,n,y),w(g,i,y),o(i,s),o(i,r),o(i,a),o(i,c),o(i,f),w(g,_,y),w(g,p,y),o(p,d),o(p,v),o(p,h)},p:oe,i:oe,o:oe,d(g){g&&k(e),g&&k(n),g&&k(i),g&&k(_),g&&k(p)}}}class Ec extends $e{constructor(e){super(),Ce(this,e,null,Ap,ye,{})}}function Za(t,e,l){const n=t.slice();return n[90]=e[l],n[91]=e,n[92]=l,n}function Ja(t,e,l){const n=t.slice();return n[93]=e[l],n[94]=e,n[95]=l,n}function Dp(t,e,l){const n=t.slice();return n[96]=e[l],n}function Ep(t,e,l){const n=t.slice();return n[99]=e[l],n}function Ip(t){let e,l;return{c(){e=m("option"),l=C(t[99]),e.__value=t[99],e.value=e.__value},m(n,i){w(n,e,i),o(e,l)},p:oe,d(n){n&&k(e)}}}function xa(t){let e,l,n,i;return{c(){e=m("br"),l=m("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder","ENTSO-E API key, optional, read docs")},m(s,r){w(s,e,r),w(s,l,r),z(l,t[3].p.t),n||(i=K(l,"input",t[19]),n=!0)},p(s,r){r[0]&8&&l.value!==s[3].p.t&&z(l,s[3].p.t)},d(s){s&&k(e),s&&k(l),n=!1,i()}}}function ef(t){let e,l,n,i,s,r,a,c,f,_,p,d,v;return{c(){e=m("div"),l=C("Username"),n=m("br"),i=b(),s=m("input"),r=b(),a=m("div"),c=C("Password"),f=m("br"),_=b(),p=m("input"),u(s,"name","gu"),u(s,"type","text"),u(s,"class","in-s"),u(e,"class","my-1"),u(p,"name","gp"),u(p,"type","password"),u(p,"class","in-s"),u(a,"class","my-1")},m(h,g){w(h,e,g),o(e,l),o(e,n),o(e,i),o(e,s),z(s,t[3].g.u),w(h,r,g),w(h,a,g),o(a,c),o(a,f),o(a,_),o(a,p),z(p,t[3].g.p),d||(v=[K(s,"input",t[21]),K(p,"input",t[22])],d=!0)},p(h,g){g[0]&8&&s.value!==h[3].g.u&&z(s,h[3].g.u),g[0]&8&&p.value!==h[3].g.p&&z(p,h[3].g.p)},d(h){h&&k(e),h&&k(r),h&&k(a),d=!1,je(v)}}}function Fp(t){let e,l=t[96]*100+"",n;return{c(){e=m("option"),n=C(l),e.__value=t[96]*100,e.value=e.__value},m(i,s){w(i,e,s),o(e,n)},p:oe,d(i){i&&k(e)}}}function tf(t){let e,l,n,i;return{c(){e=m("br"),l=m("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s")},m(s,r){w(s,e,r),w(s,l,r),z(l,t[3].m.e.k),n||(i=K(l,"input",t[30]),n=!0)},p(s,r){r[0]&8&&l.value!==s[3].m.e.k&&z(l,s[3].m.e.k)},d(s){s&&k(e),s&&k(l),n=!1,i()}}}function lf(t){let e,l,n,i,s,r,a;return{c(){e=m("div"),l=C("Authentication key"),n=m("br"),i=b(),s=m("input"),u(s,"name","mea"),u(s,"type","text"),u(s,"class","in-s"),u(e,"class","my-1")},m(c,f){w(c,e,f),o(e,l),o(e,n),o(e,i),o(e,s),z(s,t[3].m.e.a),r||(a=K(s,"input",t[31]),r=!0)},p(c,f){f[0]&8&&s.value!==c[3].m.e.a&&z(s,c[3].m.e.a)},d(c){c&&k(e),r=!1,a()}}}function nf(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S,T,$,P,L,D,I,E,Z,R;return{c(){e=m("div"),l=m("div"),n=C("Watt"),i=m("br"),s=b(),r=m("input"),a=b(),c=m("div"),f=C("Volt"),_=m("br"),p=b(),d=m("input"),v=b(),h=m("div"),g=C("Amp"),y=m("br"),S=b(),T=m("input"),$=b(),P=m("div"),L=C("kWh"),D=m("br"),I=b(),E=m("input"),u(r,"name","mmw"),u(r,"type","number"),u(r,"min","0.00"),u(r,"max","1000"),u(r,"step","0.001"),u(r,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(d,"name","mmv"),u(d,"type","number"),u(d,"min","0.00"),u(d,"max","1000"),u(d,"step","0.001"),u(d,"class","in-m tr w-full"),u(c,"class","w-1/4"),u(T,"name","mma"),u(T,"type","number"),u(T,"min","0.00"),u(T,"max","1000"),u(T,"step","0.001"),u(T,"class","in-m tr w-full"),u(h,"class","w-1/4"),u(E,"name","mmc"),u(E,"type","number"),u(E,"min","0.00"),u(E,"max","1000"),u(E,"step","0.001"),u(E,"class","in-l tr w-full"),u(P,"class","w-1/4"),u(e,"class","flex my-1")},m(U,O){w(U,e,O),o(e,l),o(l,n),o(l,i),o(l,s),o(l,r),z(r,t[3].m.m.w),o(e,a),o(e,c),o(c,f),o(c,_),o(c,p),o(c,d),z(d,t[3].m.m.v),o(e,v),o(e,h),o(h,g),o(h,y),o(h,S),o(h,T),z(T,t[3].m.m.a),o(e,$),o(e,P),o(P,L),o(P,D),o(P,I),o(P,E),z(E,t[3].m.m.c),Z||(R=[K(r,"input",t[33]),K(d,"input",t[34]),K(T,"input",t[35]),K(E,"input",t[36])],Z=!0)},p(U,O){O[0]&8&&fe(r.value)!==U[3].m.m.w&&z(r,U[3].m.m.w),O[0]&8&&fe(d.value)!==U[3].m.m.v&&z(d,U[3].m.m.v),O[0]&8&&fe(T.value)!==U[3].m.m.a&&z(T,U[3].m.m.a),O[0]&8&&fe(E.value)!==U[3].m.m.c&&z(E,U[3].m.m.c)},d(U){U&&k(e),Z=!1,je(R)}}}function sf(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y;return{c(){e=m("div"),l=C("Gateway"),n=m("br"),i=b(),s=m("input"),r=b(),a=m("div"),c=C("DNS"),f=m("br"),_=b(),p=m("div"),d=m("input"),v=b(),h=m("input"),u(s,"name","ng"),u(s,"type","text"),u(s,"class","in-s"),u(e,"class","my-1"),u(d,"name","nd1"),u(d,"type","text"),u(d,"class","in-f w-full"),u(h,"name","nd2"),u(h,"type","text"),u(h,"class","in-l w-full"),u(p,"class","flex"),u(a,"class","my-1")},m(S,T){w(S,e,T),o(e,l),o(e,n),o(e,i),o(e,s),z(s,t[3].n.g),w(S,r,T),w(S,a,T),o(a,c),o(a,f),o(a,_),o(a,p),o(p,d),z(d,t[3].n.d1),o(p,v),o(p,h),z(h,t[3].n.d2),g||(y=[K(s,"input",t[45]),K(d,"input",t[46]),K(h,"input",t[47])],g=!0)},p(S,T){T[0]&8&&s.value!==S[3].n.g&&z(s,S[3].n.g),T[0]&8&&d.value!==S[3].n.d1&&z(d,S[3].n.d1),T[0]&8&&h.value!==S[3].n.d2&&z(h,S[3].n.d2)},d(S){S&&k(e),S&&k(r),S&&k(a),g=!1,je(y)}}}function of(t){let e,l,n,i,s;return{c(){e=m("label"),l=m("input"),n=C(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",l.value=l.__value,u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(r,a){w(r,e,a),o(e,l),l.checked=t[3].q.s.e,o(e,n),i||(s=[K(l,"change",t[51]),K(l,"change",t[11])],i=!0)},p(r,a){a[0]&8&&(l.checked=r[3].q.s.e)},d(r){r&&k(e),i=!1,je(s)}}}function uf(t){let e,l,n,i,s,r,a,c;return n=new sn({props:{to:"/mqtt-ca",$$slots:{default:[qp]},$$scope:{ctx:t}}}),s=new sn({props:{to:"/mqtt-cert",$$slots:{default:[Hp]},$$scope:{ctx:t}}}),a=new sn({props:{to:"/mqtt-key",$$slots:{default:[Gp]},$$scope:{ctx:t}}}),{c(){e=m("div"),l=m("div"),J(n.$$.fragment),i=b(),J(s.$$.fragment),r=b(),J(a.$$.fragment),u(e,"class","my-1")},m(f,_){w(f,e,_),o(e,l),Q(n,l,null),o(l,i),Q(s,l,null),o(l,r),Q(a,l,null),c=!0},p(f,_){const p={};_[0]&8|_[3]&512&&(p.$$scope={dirty:_,ctx:f}),n.$set(p);const d={};_[0]&8|_[3]&512&&(d.$$scope={dirty:_,ctx:f}),s.$set(d);const v={};_[0]&8|_[3]&512&&(v.$$scope={dirty:_,ctx:f}),a.$set(v)},i(f){c||(M(n.$$.fragment,f),M(s.$$.fragment,f),M(a.$$.fragment,f),c=!0)},o(f){A(n.$$.fragment,f),A(s.$$.fragment,f),A(a.$$.fragment,f),c=!1},d(f){f&&k(e),X(n),X(s),X(a)}}}function Rp(t){let e,l;return e=new sl({props:{color:"blue",text:"Upload CA",title:"Click here to upload CA"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Lp(t){let e,l;return e=new sl({props:{color:"green",text:"CA OK",title:"Click here to replace CA"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function qp(t){let e,l,n,i;const s=[Lp,Rp],r=[];function a(c,f){return c[3].q.s.c?0:1}return e=a(t),l=r[e]=s[e](t),{c(){l.c(),n=Me()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let _=e;e=a(c),e!==_&&(Te(),A(r[_],1,1,()=>{r[_]=null}),Se(),l=r[e],l||(l=r[e]=s[e](c),l.c()),M(l,1),l.m(n.parentNode,n))},i(c){i||(M(l),i=!0)},o(c){A(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function Op(t){let e,l;return e=new sl({props:{color:"blue",text:"Upload cert",title:"Click here to upload certificate"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Up(t){let e,l;return e=new sl({props:{color:"green",text:"Cert OK",title:"Click here to replace certificate"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Hp(t){let e,l,n,i;const s=[Up,Op],r=[];function a(c,f){return c[3].q.s.r?0:1}return e=a(t),l=r[e]=s[e](t),{c(){l.c(),n=Me()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let _=e;e=a(c),e!==_&&(Te(),A(r[_],1,1,()=>{r[_]=null}),Se(),l=r[e],l||(l=r[e]=s[e](c),l.c()),M(l,1),l.m(n.parentNode,n))},i(c){i||(M(l),i=!0)},o(c){A(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function jp(t){let e,l;return e=new sl({props:{color:"blue",text:"Upload key",title:"Click here to upload key"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Wp(t){let e,l;return e=new sl({props:{color:"green",text:"Key OK",title:"Click here to replace key"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Gp(t){let e,l,n,i;const s=[Wp,jp],r=[];function a(c,f){return c[3].q.s.k?0:1}return e=a(t),l=r[e]=s[e](t),{c(){l.c(),n=Me()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let _=e;e=a(c),e!==_&&(Te(),A(r[_],1,1,()=>{r[_]=null}),Se(),l=r[e],l||(l=r[e]=s[e](c),l.c()),M(l,1),l.m(n.parentNode,n))},i(c){i||(M(l),i=!0)},o(c){A(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function rf(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S,T,$,P,L,D,I,E,Z,R,U,O,Y,q,W,V;return s=new Et({}),{c(){e=m("div"),l=m("strong"),l.textContent="Domoticz",n=b(),i=m("a"),J(s.$$.fragment),r=b(),a=m("input"),c=b(),f=m("div"),_=m("div"),p=C("Electricity IDX"),d=m("br"),v=b(),h=m("input"),g=b(),y=m("div"),S=C("Current IDX"),T=m("br"),$=b(),P=m("input"),L=b(),D=m("div"),I=C(`Voltage IDX: L1, L2 & L3
                `),E=m("div"),Z=m("input"),R=b(),U=m("input"),O=b(),Y=m("input"),u(l,"class","text-sm"),u(i,"href",Kt("MQTT-configuration#domoticz")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","o"),a.value="true",u(h,"name","oe"),u(h,"type","text"),u(h,"class","in-f tr w-full"),u(_,"class","w-1/2"),u(P,"name","oc"),u(P,"type","text"),u(P,"class","in-l tr w-full"),u(y,"class","w-1/2"),u(f,"class","my-1 flex"),u(Z,"name","ou1"),u(Z,"type","text"),u(Z,"class","in-f tr w-1/3"),u(U,"name","ou2"),u(U,"type","text"),u(U,"class","in-m tr w-1/3"),u(Y,"name","ou3"),u(Y,"type","text"),u(Y,"class","in-l tr w-1/3"),u(E,"class","flex"),u(D,"class","my-1"),u(e,"class","cnt")},m(F,j){w(F,e,j),o(e,l),o(e,n),o(e,i),Q(s,i,null),o(e,r),o(e,a),o(e,c),o(e,f),o(f,_),o(_,p),o(_,d),o(_,v),o(_,h),z(h,t[3].o.e),o(f,g),o(f,y),o(y,S),o(y,T),o(y,$),o(y,P),z(P,t[3].o.c),o(e,L),o(e,D),o(D,I),o(D,E),o(E,Z),z(Z,t[3].o.u1),o(E,R),o(E,U),z(U,t[3].o.u2),o(E,O),o(E,Y),z(Y,t[3].o.u3),q=!0,W||(V=[K(h,"input",t[59]),K(P,"input",t[60]),K(Z,"input",t[61]),K(U,"input",t[62]),K(Y,"input",t[63])],W=!0)},p(F,j){j[0]&8&&h.value!==F[3].o.e&&z(h,F[3].o.e),j[0]&8&&P.value!==F[3].o.c&&z(P,F[3].o.c),j[0]&8&&Z.value!==F[3].o.u1&&z(Z,F[3].o.u1),j[0]&8&&U.value!==F[3].o.u2&&z(U,F[3].o.u2),j[0]&8&&Y.value!==F[3].o.u3&&z(Y,F[3].o.u3)},i(F){q||(M(s.$$.fragment,F),q=!0)},o(F){A(s.$$.fragment,F),q=!1},d(F){F&&k(e),X(s),W=!1,je(V)}}}function af(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S,T,$,P,L,D,I,E,Z,R,U,O,Y;return s=new Et({}),{c(){e=m("div"),l=m("strong"),l.textContent="Home-Assistant",n=b(),i=m("a"),J(s.$$.fragment),r=b(),a=m("input"),c=b(),f=m("div"),_=C("Discovery topic prefix"),p=m("br"),d=b(),v=m("input"),h=b(),g=m("div"),y=C("Hostname for URL"),S=m("br"),T=b(),$=m("input"),L=b(),D=m("div"),I=C("Name tag"),E=m("br"),Z=b(),R=m("input"),u(l,"class","text-sm"),u(i,"href",Kt("MQTT-configuration#home-assistant")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","h"),a.value="true",u(v,"name","ht"),u(v,"type","text"),u(v,"class","in-s"),u(v,"placeholder","homeassistant"),u(f,"class","my-1"),u($,"name","hh"),u($,"type","text"),u($,"class","in-s"),u($,"placeholder",P=t[3].g.h+".local"),u(g,"class","my-1"),u(R,"name","hn"),u(R,"type","text"),u(R,"class","in-s"),u(D,"class","my-1"),u(e,"class","cnt")},m(q,W){w(q,e,W),o(e,l),o(e,n),o(e,i),Q(s,i,null),o(e,r),o(e,a),o(e,c),o(e,f),o(f,_),o(f,p),o(f,d),o(f,v),z(v,t[3].h.t),o(e,h),o(e,g),o(g,y),o(g,S),o(g,T),o(g,$),z($,t[3].h.h),o(e,L),o(e,D),o(D,I),o(D,E),o(D,Z),o(D,R),z(R,t[3].h.n),U=!0,O||(Y=[K(v,"input",t[64]),K($,"input",t[65]),K(R,"input",t[66])],O=!0)},p(q,W){W[0]&8&&v.value!==q[3].h.t&&z(v,q[3].h.t),(!U||W[0]&8&&P!==(P=q[3].g.h+".local"))&&u($,"placeholder",P),W[0]&8&&$.value!==q[3].h.h&&z($,q[3].h.h),W[0]&8&&R.value!==q[3].h.n&&z(R,q[3].h.n)},i(q){U||(M(s.$$.fragment,q),U=!0)},o(q){A(s.$$.fragment,q),U=!1},d(q){q&&k(e),X(s),O=!1,je(Y)}}}function ff(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S,T,$;s=new Et({});let P={length:9},L=[];for(let D=0;D<P.length;D+=1)L[D]=cf(Ja(t,P,D));return{c(){e=m("div"),l=m("strong"),l.textContent="Tariff thresholds",n=b(),i=m("a"),J(s.$$.fragment),r=b(),a=m("input"),c=b(),f=m("div");for(let D=0;D<L.length;D+=1)L[D].c();_=b(),p=m("label"),d=m("span"),d.textContent="Average of",v=b(),h=m("input"),g=b(),y=m("span"),y.textContent="hours",u(l,"class","text-sm"),u(i,"href",Kt("Threshold-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","t"),a.value="true",u(f,"class","flex flex-wrap my-1"),u(d,"class","in-pre"),u(h,"name","th"),u(h,"type","number"),u(h,"min","0"),u(h,"max","255"),u(h,"class","in-txt tr w-full"),u(y,"class","in-post"),u(p,"class","flex m-1"),u(e,"class","cnt")},m(D,I){w(D,e,I),o(e,l),o(e,n),o(e,i),Q(s,i,null),o(e,r),o(e,a),o(e,c),o(e,f);for(let E=0;E<L.length;E+=1)L[E].m(f,null);o(e,_),o(e,p),o(p,d),o(p,v),o(p,h),z(h,t[3].t.h),o(p,g),o(p,y),S=!0,T||($=K(h,"input",t[68]),T=!0)},p(D,I){if(I[0]&8){P={length:9};let E;for(E=0;E<P.length;E+=1){const Z=Ja(D,P,E);L[E]?L[E].p(Z,I):(L[E]=cf(Z),L[E].c(),L[E].m(f,null))}for(;E<L.length;E+=1)L[E].d(1);L.length=P.length}I[0]&8&&fe(h.value)!==D[3].t.h&&z(h,D[3].t.h)},i(D){S||(M(s.$$.fragment,D),S=!0)},o(D){A(s.$$.fragment,D),S=!1},d(D){D&&k(e),X(s),ol(L,D),T=!1,$()}}}function cf(t){let e,l,n=t[95]+1+"",i,s,r,a,c,f,_,p;function d(){t[67].call(r,t[95])}return{c(){e=m("label"),l=m("span"),i=C(n),s=b(),r=m("input"),a=b(),c=m("span"),c.textContent="kWh",f=b(),u(l,"class","in-pre"),u(r,"name","t"+t[95]),u(r,"type","number"),u(r,"min","0"),u(r,"max","65535"),u(r,"class","in-txt w-full"),u(c,"class","in-post"),u(e,"class","flex w-40 m-1")},m(v,h){w(v,e,h),o(e,l),o(l,i),o(e,s),o(e,r),z(r,t[3].t.t[t[95]]),o(e,a),o(e,c),o(e,f),_||(p=K(r,"input",d),_=!0)},p(v,h){t=v,h[0]&8&&fe(r.value)!==t[3].t.t[t[95]]&&z(r,t[3].t.t[t[95]])},d(v){v&&k(e),_=!1,p()}}}function mf(t){let e,l=t[90].name+"",n,i,s,r,a,c,f,_,p,d;function v(){t[69].call(r,t[90])}return{c(){e=m("div"),n=C(l),i=m("br"),s=b(),r=m("select"),a=m("option"),a.textContent="Hide",c=m("option"),c.textContent="Show",f=m("option"),f.textContent="Dynamic",_=b(),a.__value=0,a.value=a.__value,c.__value=1,c.value=c.__value,f.__value=2,f.value=f.__value,u(r,"name","u"+t[90].key),u(r,"class","in-s"),t[3].u[t[90].key]===void 0&&Ze(v),u(e,"class","w-1/2")},m(h,g){w(h,e,g),o(e,n),o(e,i),o(e,s),o(e,r),o(r,a),o(r,c),o(r,f),Ne(r,t[3].u[t[90].key]),o(e,_),p||(d=K(r,"change",v),p=!0)},p(h,g){t=h,g[0]&136&&Ne(r,t[3].u[t[90].key])},d(h){h&&k(e),p=!1,d()}}}function pf(t){let e,l,n,i,s,r,a,c;s=new Et({});let f=t[0].board>20&&_f(t),_=t[0].chip=="esp8266"&&hf(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Hardware",n=b(),i=m("a"),J(s.$$.fragment),r=b(),f&&f.c(),a=b(),_&&_.c(),u(l,"class","text-sm"),u(i,"href",Kt("GPIO-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(e,"class","cnt")},m(p,d){w(p,e,d),o(e,l),o(e,n),o(e,i),Q(s,i,null),o(e,r),f&&f.m(e,null),o(e,a),_&&_.m(e,null),c=!0},p(p,d){p[0].board>20?f?(f.p(p,d),d[0]&1&&M(f,1)):(f=_f(p),f.c(),M(f,1),f.m(e,a)):f&&(Te(),A(f,1,1,()=>{f=null}),Se()),p[0].chip=="esp8266"?_?_.p(p,d):(_=hf(p),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i(p){c||(M(s.$$.fragment,p),M(f),c=!0)},o(p){A(s.$$.fragment,p),A(f),c=!1},d(p){p&&k(e),X(s),f&&f.d(),_&&_.d()}}}function _f(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S,T,$,P,L,D,I,E,Z,R,U,O,Y,q,W,V,F,j,te,ie,x,B,G,_e,ge,me,de,ae,ve,le,se,ee,we,Ee,We,Ge,ot,Ie,xe,Be,Ue,et,rt;d=new Dc({props:{chip:t[0].chip}});let Re=t[0].chip!="esp8266"&&df(t),Le=t[3].i.v.p>0&&vf(t);return{c(){e=m("input"),l=b(),n=m("div"),i=m("div"),s=C("HAN"),r=m("label"),a=m("input"),c=C(" pullup"),f=m("br"),_=b(),p=m("select"),J(d.$$.fragment),v=b(),h=m("div"),g=C("AP button"),y=m("br"),S=b(),T=m("input"),$=b(),P=m("div"),L=C("LED"),D=m("label"),I=m("input"),E=C(" inv"),Z=m("br"),R=b(),U=m("div"),O=m("input"),Y=b(),q=m("div"),W=C("RGB"),V=m("label"),F=m("input"),j=C(" inverted"),te=m("br"),ie=b(),x=m("div"),B=m("input"),G=b(),_e=m("input"),ge=b(),me=m("input"),de=b(),ae=m("div"),ve=C("Temperature"),le=m("br"),se=b(),ee=m("input"),we=b(),Ee=m("div"),We=C("Analog temp"),Ge=m("br"),ot=b(),Ie=m("input"),xe=b(),Re&&Re.c(),Be=b(),Le&&Le.c(),u(e,"type","hidden"),u(e,"name","i"),e.value="true",u(a,"name","ihu"),a.__value="true",a.value=a.__value,u(a,"type","checkbox"),u(a,"class","rounded mb-1"),u(r,"class","ml-2"),u(p,"name","ihp"),u(p,"class","in-f w-full"),t[3].i.h.p===void 0&&Ze(()=>t[71].call(p)),u(i,"class","w-1/3"),u(T,"name","ia"),u(T,"type","number"),u(T,"min","0"),u(T,"max",t[6]),u(T,"class","in-m tr w-full"),u(h,"class","w-1/3"),u(I,"name","ili"),I.__value="true",I.value=I.__value,u(I,"type","checkbox"),u(I,"class","rounded mb-1"),u(D,"class","ml-4"),u(O,"name","ilp"),u(O,"type","number"),u(O,"min","0"),u(O,"max",t[6]),u(O,"class","in-l tr w-full"),u(U,"class","flex"),u(P,"class","w-1/3"),u(F,"name","iri"),F.__value="true",F.value=F.__value,u(F,"type","checkbox"),u(F,"class","rounded mb-1"),u(V,"class","ml-4"),u(B,"name","irr"),u(B,"type","number"),u(B,"min","0"),u(B,"max",t[6]),u(B,"class","in-f tr w-1/3"),u(_e,"name","irg"),u(_e,"type","number"),u(_e,"min","0"),u(_e,"max",t[6]),u(_e,"class","in-m tr w-1/3"),u(me,"name","irb"),u(me,"type","number"),u(me,"min","0"),u(me,"max",t[6]),u(me,"class","in-l tr w-1/3"),u(x,"class","flex"),u(q,"class","w-full"),u(ee,"name","itd"),u(ee,"type","number"),u(ee,"min","0"),u(ee,"max",t[6]),u(ee,"class","in-f tr w-full"),u(ae,"class","my-1 w-1/3"),u(Ie,"name","ita"),u(Ie,"type","number"),u(Ie,"min","0"),u(Ie,"max",t[6]),u(Ie,"class","in-l tr w-full"),u(Ee,"class","my-1 pr-1 w-1/3"),u(n,"class","flex flex-wrap")},m(re,be){w(re,e,be),w(re,l,be),w(re,n,be),o(n,i),o(i,s),o(i,r),o(r,a),a.checked=t[3].i.h.u,o(r,c),o(i,f),o(i,_),o(i,p),Q(d,p,null),Ne(p,t[3].i.h.p),o(n,v),o(n,h),o(h,g),o(h,y),o(h,S),o(h,T),z(T,t[3].i.a),o(n,$),o(n,P),o(P,L),o(P,D),o(D,I),I.checked=t[3].i.l.i,o(D,E),o(P,Z),o(P,R),o(P,U),o(U,O),z(O,t[3].i.l.p),o(n,Y),o(n,q),o(q,W),o(q,V),o(V,F),F.checked=t[3].i.r.i,o(V,j),o(q,te),o(q,ie),o(q,x),o(x,B),z(B,t[3].i.r.r),o(x,G),o(x,_e),z(_e,t[3].i.r.g),o(x,ge),o(x,me),z(me,t[3].i.r.b),o(n,de),o(n,ae),o(ae,ve),o(ae,le),o(ae,se),o(ae,ee),z(ee,t[3].i.t.d),o(n,we),o(n,Ee),o(Ee,We),o(Ee,Ge),o(Ee,ot),o(Ee,Ie),z(Ie,t[3].i.t.a),o(n,xe),Re&&Re.m(n,null),o(n,Be),Le&&Le.m(n,null),Ue=!0,et||(rt=[K(a,"change",t[70]),K(p,"change",t[71]),K(T,"input",t[72]),K(I,"change",t[73]),K(O,"input",t[74]),K(F,"change",t[75]),K(B,"input",t[76]),K(_e,"input",t[77]),K(me,"input",t[78]),K(ee,"input",t[79]),K(Ie,"input",t[80])],et=!0)},p(re,be){be[0]&8&&(a.checked=re[3].i.h.u);const Ft={};be[0]&1&&(Ft.chip=re[0].chip),d.$set(Ft),be[0]&8&&Ne(p,re[3].i.h.p),(!Ue||be[0]&64)&&u(T,"max",re[6]),be[0]&8&&fe(T.value)!==re[3].i.a&&z(T,re[3].i.a),be[0]&8&&(I.checked=re[3].i.l.i),(!Ue||be[0]&64)&&u(O,"max",re[6]),be[0]&8&&fe(O.value)!==re[3].i.l.p&&z(O,re[3].i.l.p),be[0]&8&&(F.checked=re[3].i.r.i),(!Ue||be[0]&64)&&u(B,"max",re[6]),be[0]&8&&fe(B.value)!==re[3].i.r.r&&z(B,re[3].i.r.r),(!Ue||be[0]&64)&&u(_e,"max",re[6]),be[0]&8&&fe(_e.value)!==re[3].i.r.g&&z(_e,re[3].i.r.g),(!Ue||be[0]&64)&&u(me,"max",re[6]),be[0]&8&&fe(me.value)!==re[3].i.r.b&&z(me,re[3].i.r.b),(!Ue||be[0]&64)&&u(ee,"max",re[6]),be[0]&8&&fe(ee.value)!==re[3].i.t.d&&z(ee,re[3].i.t.d),(!Ue||be[0]&64)&&u(Ie,"max",re[6]),be[0]&8&&fe(Ie.value)!==re[3].i.t.a&&z(Ie,re[3].i.t.a),re[0].chip!="esp8266"?Re?Re.p(re,be):(Re=df(re),Re.c(),Re.m(n,Be)):Re&&(Re.d(1),Re=null),re[3].i.v.p>0?Le?Le.p(re,be):(Le=vf(re),Le.c(),Le.m(n,null)):Le&&(Le.d(1),Le=null)},i(re){Ue||(M(d.$$.fragment,re),Ue=!0)},o(re){A(d.$$.fragment,re),Ue=!1},d(re){re&&k(e),re&&k(l),re&&k(n),X(d),Re&&Re.d(),Le&&Le.d(),et=!1,je(rt)}}}function df(t){let e,l,n,i,s,r,a;return{c(){e=m("div"),l=C("Vcc"),n=m("br"),i=b(),s=m("input"),u(s,"name","ivp"),u(s,"type","number"),u(s,"min","0"),u(s,"max",t[6]),u(s,"class","in-s tr w-full"),u(e,"class","my-1 pl-1 w-1/3")},m(c,f){w(c,e,f),o(e,l),o(e,n),o(e,i),o(e,s),z(s,t[3].i.v.p),r||(a=K(s,"input",t[81]),r=!0)},p(c,f){f[0]&64&&u(s,"max",c[6]),f[0]&8&&fe(s.value)!==c[3].i.v.p&&z(s,c[3].i.v.p)},d(c){c&&k(e),r=!1,a()}}}function vf(t){let e,l,n,i,s,r,a,c,f,_;return{c(){e=m("div"),l=C("Voltage divider"),n=m("br"),i=b(),s=m("div"),r=m("input"),a=b(),c=m("input"),u(r,"name","ivdv"),u(r,"type","number"),u(r,"min","0"),u(r,"max","65535"),u(r,"class","in-f tr w-full"),u(r,"placeholder","VCC"),u(c,"name","ivdg"),u(c,"type","number"),u(c,"min","0"),u(c,"max","65535"),u(c,"class","in-l tr w-full"),u(c,"placeholder","GND"),u(s,"class","flex"),u(e,"class","my-1")},m(p,d){w(p,e,d),o(e,l),o(e,n),o(e,i),o(e,s),o(s,r),z(r,t[3].i.v.d.v),o(s,a),o(s,c),z(c,t[3].i.v.d.g),f||(_=[K(r,"input",t[82]),K(c,"input",t[83])],f=!0)},p(p,d){d[0]&8&&fe(r.value)!==p[3].i.v.d.v&&z(r,p[3].i.v.d.v),d[0]&8&&fe(c.value)!==p[3].i.v.d.g&&z(c,p[3].i.v.d.g)},d(p){p&&k(e),f=!1,je(_)}}}function hf(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S,T=(t[0].board==2||t[0].board==100)&&bf(t);return{c(){e=m("input"),l=b(),n=m("div"),i=m("div"),s=C("Vcc offset"),r=m("br"),a=b(),c=m("input"),f=b(),_=m("div"),p=C("Multiplier"),d=m("br"),v=b(),h=m("input"),g=b(),T&&T.c(),u(e,"type","hidden"),u(e,"name","iv"),e.value="true",u(c,"name","ivo"),u(c,"type","number"),u(c,"min","0.0"),u(c,"max","3.5"),u(c,"step","0.01"),u(c,"class","in-f tr w-full"),u(i,"class","w-1/3"),u(h,"name","ivm"),u(h,"type","number"),u(h,"min","0.1"),u(h,"max","10"),u(h,"step","0.01"),u(h,"class","in-l tr w-full"),u(_,"class","w-1/3 pr-1"),u(n,"class","my-1 flex flex-wrap")},m($,P){w($,e,P),w($,l,P),w($,n,P),o(n,i),o(i,s),o(i,r),o(i,a),o(i,c),z(c,t[3].i.v.o),o(n,f),o(n,_),o(_,p),o(_,d),o(_,v),o(_,h),z(h,t[3].i.v.m),o(n,g),T&&T.m(n,null),y||(S=[K(c,"input",t[84]),K(h,"input",t[85])],y=!0)},p($,P){P[0]&8&&fe(c.value)!==$[3].i.v.o&&z(c,$[3].i.v.o),P[0]&8&&fe(h.value)!==$[3].i.v.m&&z(h,$[3].i.v.m),$[0].board==2||$[0].board==100?T?T.p($,P):(T=bf($),T.c(),T.m(n,null)):T&&(T.d(1),T=null)},d($){$&&k(e),$&&k(l),$&&k(n),T&&T.d(),y=!1,je(S)}}}function bf(t){let e,l,n,i,s,r,a;return{c(){e=m("div"),l=C("Boot limit"),n=m("br"),i=b(),s=m("input"),u(s,"name","ivb"),u(s,"type","number"),u(s,"min","2.5"),u(s,"max","3.5"),u(s,"step","0.1"),u(s,"class","in-s tr w-full"),u(e,"class","w-1/3 pl-1")},m(c,f){w(c,e,f),o(e,l),o(e,n),o(e,i),o(e,s),z(s,t[3].i.v.b),r||(a=K(s,"input",t[86]),r=!0)},p(c,f){f[0]&8&&fe(s.value)!==c[3].i.v.b&&z(s,c[3].i.v.b)},d(c){c&&k(e),r=!1,a()}}}function gf(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S=t[3].d.t&&kf();return{c(){e=m("div"),e.textContent="Debug can cause sudden reboots. Do not leave on!",l=b(),n=m("div"),i=m("label"),s=m("input"),r=C(" Enable telnet"),a=b(),S&&S.c(),c=b(),f=m("div"),_=m("select"),p=m("option"),p.textContent="Verbose",d=m("option"),d.textContent="Debug",v=m("option"),v.textContent="Info",h=m("option"),h.textContent="Warning",u(e,"class","bd-red"),u(s,"type","checkbox"),u(s,"name","dt"),s.__value="true",s.value=s.__value,u(s,"class","rounded mb-1"),u(n,"class","my-1"),p.__value=1,p.value=p.__value,d.__value=2,d.value=d.__value,v.__value=3,v.value=v.__value,h.__value=4,h.value=h.__value,u(_,"name","dl"),u(_,"class","in-s"),t[3].d.l===void 0&&Ze(()=>t[89].call(_)),u(f,"class","my-1")},m(T,$){w(T,e,$),w(T,l,$),w(T,n,$),o(n,i),o(i,s),s.checked=t[3].d.t,o(i,r),w(T,a,$),S&&S.m(T,$),w(T,c,$),w(T,f,$),o(f,_),o(_,p),o(_,d),o(_,v),o(_,h),Ne(_,t[3].d.l),g||(y=[K(s,"change",t[88]),K(_,"change",t[89])],g=!0)},p(T,$){$[0]&8&&(s.checked=T[3].d.t),T[3].d.t?S||(S=kf(),S.c(),S.m(c.parentNode,c)):S&&(S.d(1),S=null),$[0]&8&&Ne(_,T[3].d.l)},d(T){T&&k(e),T&&k(l),T&&k(n),T&&k(a),S&&S.d(T),T&&k(c),T&&k(f),g=!1,je(y)}}}function kf(t){let e;return{c(){e=m("div"),e.textContent="Telnet is unsafe and should be off when not in use",u(e,"class","bd-red")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Bp(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S,T,$,P,L,D,I,E,Z,R,U,O,Y,q,W,V,F,j,te,ie,x,B,G,_e,ge,me,de,ae,ve,le,se,ee,we,Ee,We,Ge,ot,Ie,xe,Be,Ue,et,rt,Re,Le,re,be,Ft,Ll,Xt,at,wl,rl,Rt,pt,Ye,ze,Ve,Ae,Ke,qe,Qe,Xe,ue,he,$i,al,un,Tt,Ti,Si,Pi,fl,Ni,Mi,Ai,De,cl,Lt,ql,Di,yl,Fe,rn,ho,an,fn,bo,ii,go,cn,ks,ko,Cl,Zt,$l,wo,Ei,yo,ct,Tl,Co,Ii,mn,pn,_n,dn,Fi,$o,si,qt,To,So,Ol,Po,No,Mo,Jt,vn,hn,Ao,bn,Ul,Do,Eo,Io,gn,Ot,Fo,Ri,Ro,Hl,Lo,qo,Oo,kn,Ut,Uo,Li,Ho,ws,jo,jl,qi,Ht,Wo,Go,Bo,ys,Oi,jt,Yo,zo,Vo,ft,Ui,Ko,wn,yn,Qo,oi,Xo,Wl,Zo,Jo,xo,ml,eu,Gl,tu,lu,nu,pl,iu,Cn,Bl,su,ou,uu,Mt,$n,Tn,Sn,Pn,ru,Yl,au,fu,cu,Nn,At,mu,Hi,pu,ji,Wi,Wt,_u,du,ut,Gi,vu,Mn,An,hu,zl,bu,gu,ku,Sl,xt,Dn,En,wu,St,Bi,Yi,yu,Pt,In,zi,Vi,Cu,Cs,Ki,Qi,Gt,$u,Tu,ui,Su,Pl,Pu,ri,Bt,Nu,Mu,Au,Xi,_l,Du,He,Zi,Eu,Fn,Rn,Iu,ai,Fu,el,Ru,$s,Lu,qu,Ln,dl,Ou,Yt,Uu,Ts,Vl,Hu,ju,Wu,vl,Gu,Kl,Bu,Yu,zu,hl,Vu,qn,On,Ku,Qu,Xu,bl,Zu,Un,Ju,xu,er,_t,Hn,jn,Wn,Gn,Bn,Yn,tr,Ql,lr,nr,ir,gl,sr,Ss,Ps,Ns=t[3].p.r.startsWith("10YNO")||t[3].p.r=="10Y1001A1001A48H",Ms,tl,Ji,or,zn,Vn,ur,fi,rr,ci,ar,As,Nt,xi,fr,Kn,Qn,cr,mi,mr,es,ts,zt,pr,_r,dr,Nl,Ds,Xn,vr,ls,Zn,hr,ns,Es,Xl,Is,Zl,Fs,Jl,Rs,xl,Vt,Ls,br;a=new Et({}),E=new Mp({});let Ic=["NOK","SEK","DKK","EUR"],is=[];for(let N=0;N<4;N+=1)is[N]=Ip(Ep(t,Ic,N));let dt=t[3].p.e&&t[0].chip!="esp8266"&&xa(t),vt=t[3].g.s>0&&ef(t);fn=new Et({});let Fc=[24,48,96,192,384,576,1152],ss=[];for(let N=0;N<7;N+=1)ss[N]=Fp(Dp(t,Fc,N));let ht=t[3].m.e.e&&tf(t),bt=t[3].m.e.e&&lf(t),gt=t[3].m.m.e&&nf(t);yn=new Et({}),An=new Et({}),In=new Ec({});let kt=t[3].n.m=="static"&&sf(t);Rn=new Et({});let wt=t[0].chip!="esp8266"&&of(t),tt=t[3].q.s.e&&uf(t),lt=t[3].q.m==3&&rf(t),nt=t[3].q.m==4&&af(t),it=Ns&&ff(t);Vn=new Et({});let Jn=t[7],yt=[];for(let N=0;N<Jn.length;N+=1)yt[N]=mf(Za(t,Jn,N));let st=(t[0].board>20||t[0].chip=="esp8266")&&pf(t);Qn=new Et({});let Ct=t[3].d.s&&gf(t);return Xl=new It({props:{active:t[1],message:"Loading configuration"}}),Zl=new It({props:{active:t[2],message:"Saving configuration"}}),Jl=new It({props:{active:t[4],message:"Performing factory reset"}}),xl=new It({props:{active:t[5],message:"Device have been factory reset and switched to AP mode"}}),{c(){e=m("form"),l=m("div"),n=m("div"),i=m("strong"),i.textContent="General",s=b(),r=m("a"),J(a.$$.fragment),c=b(),f=m("input"),_=b(),p=m("div"),d=m("div"),v=m("div"),h=C("Hostname"),g=m("br"),y=b(),S=m("input"),T=b(),$=m("div"),P=C("Time zone"),L=m("br"),D=b(),I=m("select"),J(E.$$.fragment),Z=b(),R=m("input"),U=b(),O=m("div"),Y=m("div"),q=m("div"),W=C("Price region"),V=m("br"),F=b(),j=m("select"),te=m("optgroup"),ie=m("option"),ie.textContent="NO1",x=m("option"),x.textContent="NO2",B=m("option"),B.textContent="NO3",G=m("option"),G.textContent="NO4",_e=m("option"),_e.textContent="NO5",ge=m("optgroup"),me=m("option"),me.textContent="SE1",de=m("option"),de.textContent="SE2",ae=m("option"),ae.textContent="SE3",ve=m("option"),ve.textContent="SE4",le=m("optgroup"),se=m("option"),se.textContent="DK1",ee=m("option"),ee.textContent="DK2",we=m("option"),we.textContent="Austria",Ee=m("option"),Ee.textContent="Belgium",We=m("option"),We.textContent="Czech Republic",Ge=m("option"),Ge.textContent="Estonia",ot=m("option"),ot.textContent="Finland",Ie=m("option"),Ie.textContent="France",xe=m("option"),xe.textContent="Germany",Be=m("option"),Be.textContent="Great Britain",Ue=m("option"),Ue.textContent="Latvia",et=m("option"),et.textContent="Lithuania",rt=m("option"),rt.textContent="Netherland",Re=m("option"),Re.textContent="Poland",Le=m("option"),Le.textContent="Switzerland",re=b(),be=m("div"),Ft=C("Currency"),Ll=m("br"),Xt=b(),at=m("select");for(let N=0;N<4;N+=1)is[N].c();wl=b(),rl=m("div"),Rt=m("div"),pt=m("div"),Ye=C("Fixed price"),ze=m("br"),Ve=b(),Ae=m("input"),Ke=b(),qe=m("div"),Qe=C("Multiplier"),Xe=m("br"),ue=b(),he=m("input"),$i=b(),al=m("div"),un=m("label"),Tt=m("input"),Ti=C(" Enable price fetch from remote server"),Si=b(),dt&&dt.c(),Pi=b(),fl=m("div"),Ni=C("Security"),Mi=m("br"),Ai=b(),De=m("select"),cl=m("option"),cl.textContent="None",Lt=m("option"),Lt.textContent="Only configuration",ql=m("option"),ql.textContent="Everything",Di=b(),vt&&vt.c(),yl=b(),Fe=m("div"),rn=m("strong"),rn.textContent="Meter",ho=b(),an=m("a"),J(fn.$$.fragment),bo=b(),ii=m("input"),go=b(),cn=m("div"),ks=m("span"),ks.textContent="Serial configuration",ko=b(),Cl=m("div"),Zt=m("select"),$l=m("option"),wo=C("Autodetect");for(let N=0;N<7;N+=1)ss[N].c();yo=b(),ct=m("select"),Tl=m("option"),Co=C("-"),mn=m("option"),mn.textContent="7N1",pn=m("option"),pn.textContent="8N1",_n=m("option"),_n.textContent="7E1",dn=m("option"),dn.textContent="8E1",$o=b(),si=m("label"),qt=m("input"),To=C(" inverted"),So=b(),Ol=m("div"),Po=C("Voltage"),No=m("br"),Mo=b(),Jt=m("select"),vn=m("option"),vn.textContent="400V (TN)",hn=m("option"),hn.textContent="230V (IT/TT)",Ao=b(),bn=m("div"),Ul=m("div"),Do=C("Main fuse"),Eo=m("br"),Io=b(),gn=m("label"),Ot=m("input"),Fo=b(),Ri=m("span"),Ri.textContent="A",Ro=b(),Hl=m("div"),Lo=C("Production"),qo=m("br"),Oo=b(),kn=m("label"),Ut=m("input"),Uo=b(),Li=m("span"),Li.textContent="kWp",Ho=b(),ws=m("div"),jo=b(),jl=m("div"),qi=m("label"),Ht=m("input"),Wo=C(" Meter is encrypted"),Go=b(),ht&&ht.c(),Bo=b(),bt&&bt.c(),ys=b(),Oi=m("label"),jt=m("input"),Yo=C(" Multipliers"),zo=b(),gt&&gt.c(),Vo=b(),ft=m("div"),Ui=m("strong"),Ui.textContent="WiFi",Ko=b(),wn=m("a"),J(yn.$$.fragment),Qo=b(),oi=m("input"),Xo=b(),Wl=m("div"),Zo=C("SSID"),Jo=m("br"),xo=b(),ml=m("input"),eu=b(),Gl=m("div"),tu=C("Password"),lu=m("br"),nu=b(),pl=m("input"),iu=b(),Cn=m("div"),Bl=m("div"),su=C("Power saving"),ou=m("br"),uu=b(),Mt=m("select"),$n=m("option"),$n.textContent="Default",Tn=m("option"),Tn.textContent="Off",Sn=m("option"),Sn.textContent="Minimum",Pn=m("option"),Pn.textContent="Maximum",ru=b(),Yl=m("div"),au=C("Power"),fu=m("br"),cu=b(),Nn=m("div"),At=m("input"),mu=b(),Hi=m("span"),Hi.textContent="dBm",pu=b(),ji=m("div"),Wi=m("label"),Wt=m("input"),_u=C(" Start a Wifi AP on home Wifi connection problem. Note: The AP is secured. But one can find the password on my github readme file. So if the AP can be publicly accessed you should think about setting some security using General sections Security settings"),du=b(),ut=m("div"),Gi=m("strong"),Gi.textContent="Network",vu=b(),Mn=m("a"),J(An.$$.fragment),hu=b(),zl=m("div"),bu=C("IP"),gu=m("br"),ku=b(),Sl=m("div"),xt=m("select"),Dn=m("option"),Dn.textContent="DHCP",En=m("option"),En.textContent="Static",wu=b(),St=m("input"),yu=b(),Pt=m("select"),J(In.$$.fragment),Cu=b(),kt&&kt.c(),Cs=b(),Ki=m("div"),Qi=m("label"),Gt=m("input"),$u=C(" enable mDNS"),Tu=b(),ui=m("input"),Su=b(),Pl=m("div"),Pu=C("NTP "),ri=m("label"),Bt=m("input"),Nu=C(" obtain from DHCP"),Mu=m("br"),Au=b(),Xi=m("div"),_l=m("input"),Du=b(),He=m("div"),Zi=m("strong"),Zi.textContent="MQTT",Eu=b(),Fn=m("a"),J(Rn.$$.fragment),Iu=b(),ai=m("input"),Fu=b(),el=m("div"),Ru=C(`Server
                `),wt&&wt.c(),$s=b(),Lu=m("br"),qu=b(),Ln=m("div"),dl=m("input"),Ou=b(),Yt=m("input"),Uu=b(),tt&&tt.c(),Ts=b(),Vl=m("div"),Hu=C("Username"),ju=m("br"),Wu=b(),vl=m("input"),Gu=b(),Kl=m("div"),Bu=C("Password"),Yu=m("br"),zu=b(),hl=m("input"),Vu=b(),qn=m("div"),On=m("div"),Ku=C("Client ID"),Qu=m("br"),Xu=b(),bl=m("input"),Zu=b(),Un=m("div"),Ju=C("Payload"),xu=m("br"),er=b(),_t=m("select"),Hn=m("option"),Hn.textContent="JSON",jn=m("option"),jn.textContent="Raw (minimal)",Wn=m("option"),Wn.textContent="Raw (full)",Gn=m("option"),Gn.textContent="Domoticz",Bn=m("option"),Bn.textContent="HomeAssistant",Yn=m("option"),Yn.textContent="HEX dump",tr=b(),Ql=m("div"),lr=C("Publish topic"),nr=m("br"),ir=b(),gl=m("input"),sr=b(),lt&&lt.c(),Ss=b(),nt&&nt.c(),Ps=b(),it&&it.c(),Ms=b(),tl=m("div"),Ji=m("strong"),Ji.textContent="User interface",or=b(),zn=m("a"),J(Vn.$$.fragment),ur=b(),fi=m("input"),rr=b(),ci=m("div");for(let N=0;N<yt.length;N+=1)yt[N].c();ar=b(),st&&st.c(),As=b(),Nt=m("div"),xi=m("strong"),xi.textContent="Debugging",fr=b(),Kn=m("a"),J(Qn.$$.fragment),cr=b(),mi=m("input"),mr=b(),es=m("div"),ts=m("label"),zt=m("input"),pr=C(" Enable debugging"),_r=b(),Ct&&Ct.c(),dr=b(),Nl=m("div"),Ds=m("div"),Xn=m("button"),Xn.textContent="Factory reset",vr=b(),ls=m("div"),Zn=m("button"),Zn.textContent="Reboot",hr=b(),ns=m("div"),ns.innerHTML='<button type="submit" class="btn-pri">Save</button>',Es=b(),J(Xl.$$.fragment),Is=b(),J(Zl.$$.fragment),Fs=b(),J(Jl.$$.fragment),Rs=b(),J(xl.$$.fragment),u(i,"class","text-sm"),u(r,"href",Kt("General-configuration")),u(r,"target","_blank"),u(r,"class","float-right"),u(f,"type","hidden"),u(f,"name","g"),f.value="true",u(S,"name","gh"),u(S,"type","text"),u(S,"class","in-f w-full"),u(S,"pattern","[A-Za-z0-9-]+"),u(I,"name","gt"),u(I,"class","in-l w-full"),t[3].g.t===void 0&&Ze(()=>t[13].call(I)),u(d,"class","flex"),u(p,"class","my-1"),u(R,"type","hidden"),u(R,"name","p"),R.value="true",ie.__value="10YNO-1--------2",ie.value=ie.__value,x.__value="10YNO-2--------T",x.value=x.__value,B.__value="10YNO-3--------J",B.value=B.__value,G.__value="10YNO-4--------9",G.value=G.__value,_e.__value="10Y1001A1001A48H",_e.value=_e.__value,u(te,"label","Norway"),me.__value="10Y1001A1001A44P",me.value=me.__value,de.__value="10Y1001A1001A45N",de.value=de.__value,ae.__value="10Y1001A1001A46L",ae.value=ae.__value,ve.__value="10Y1001A1001A47J",ve.value=ve.__value,u(ge,"label","Sweden"),se.__value="10YDK-1--------W",se.value=se.__value,ee.__value="10YDK-2--------M",ee.value=ee.__value,u(le,"label","Denmark"),we.__value="10YAT-APG------L",we.value=we.__value,Ee.__value="10YBE----------2",Ee.value=Ee.__value,We.__value="10YCZ-CEPS-----N",We.value=We.__value,Ge.__value="10Y1001A1001A39I",Ge.value=Ge.__value,ot.__value="10YFI-1--------U",ot.value=ot.__value,Ie.__value="10YFR-RTE------C",Ie.value=Ie.__value,xe.__value="10Y1001A1001A83F",xe.value=xe.__value,Be.__value="10YGB----------A",Be.value=Be.__value,Ue.__value="10YLV-1001A00074",Ue.value=Ue.__value,et.__value="10YLT-1001A0008Q",et.value=et.__value,rt.__value="10YNL----------L",rt.value=rt.__value,Re.__value="10YPL-AREA-----S",Re.value=Re.__value,Le.__value="10YCH-SWISSGRIDZ",Le.value=Le.__value,u(j,"name","pr"),u(j,"class","in-f w-full"),t[3].p.r===void 0&&Ze(()=>t[14].call(j)),u(q,"class","w-full"),u(at,"name","pc"),u(at,"class","in-l"),t[3].p.c===void 0&&Ze(()=>t[15].call(at)),u(Y,"class","flex"),u(O,"class","my-1"),u(Ae,"name","pf"),u(Ae,"type","number"),u(Ae,"min","0.001"),u(Ae,"max","65"),u(Ae,"step","0.001"),u(Ae,"class","in-f tr w-full"),u(pt,"class","w-1/2"),u(he,"name","pm"),u(he,"type","number"),u(he,"min","0.001"),u(he,"max","1000"),u(he,"step","0.001"),u(he,"class","in-l tr w-full"),u(qe,"class","w-1/2"),u(Rt,"class","flex"),u(rl,"class","my-1"),u(Tt,"type","checkbox"),u(Tt,"name","pe"),Tt.__value="true",Tt.value=Tt.__value,u(Tt,"class","rounded mb-1"),u(al,"class","my-1"),cl.__value=0,cl.value=cl.__value,Lt.__value=1,Lt.value=Lt.__value,ql.__value=2,ql.value=ql.__value,u(De,"name","gs"),u(De,"class","in-s"),t[3].g.s===void 0&&Ze(()=>t[20].call(De)),u(fl,"class","my-1"),u(n,"class","cnt"),u(rn,"class","text-sm"),u(an,"href",Kt("Meter-configuration")),u(an,"target","_blank"),u(an,"class","float-right"),u(ii,"type","hidden"),u(ii,"name","m"),ii.value="true",$l.__value=0,$l.value=$l.__value,$l.disabled=Ei=t[3].m.b!=0,u(Zt,"name","mb"),u(Zt,"class","in-f"),t[3].m.b===void 0&&Ze(()=>t[23].call(Zt)),Tl.__value=0,Tl.value=Tl.__value,Tl.disabled=Ii=t[3].m.b!=0,mn.__value=2,mn.value=mn.__value,pn.__value=3,pn.value=pn.__value,_n.__value=10,_n.value=_n.__value,dn.__value=11,dn.value=dn.__value,u(ct,"name","mp"),u(ct,"class","in-l"),ct.disabled=Fi=t[3].m.b==0,t[3].m.p===void 0&&Ze(()=>t[24].call(ct)),u(qt,"name","mi"),qt.__value="true",qt.value=qt.__value,u(qt,"type","checkbox"),u(qt,"class","rounded mb-1"),u(si,"class","mt-2 ml-3 whitespace-nowrap"),u(Cl,"class","flex"),u(cn,"class","my-1"),vn.__value=2,vn.value=vn.__value,hn.__value=1,hn.value=hn.__value,u(Jt,"name","md"),u(Jt,"class","in-s"),t[3].m.d===void 0&&Ze(()=>t[26].call(Jt)),u(Ol,"class","my-1"),u(Ot,"name","mf"),u(Ot,"type","number"),u(Ot,"min","5"),u(Ot,"max","65535"),u(Ot,"class","in-f tr w-full"),u(Ri,"class","in-post"),u(gn,"class","flex"),u(Ul,"class","mx-1"),u(Ut,"name","mr"),u(Ut,"type","number"),u(Ut,"min","0"),u(Ut,"max","65535"),u(Ut,"class","in-f tr w-full"),u(Li,"class","in-post"),u(kn,"class","flex"),u(Hl,"class","mx-1"),u(bn,"class","my-1 flex"),u(ws,"class","my-1"),u(Ht,"type","checkbox"),u(Ht,"name","me"),Ht.__value="true",Ht.value=Ht.__value,u(Ht,"class","rounded mb-1"),u(jl,"class","my-1"),u(jt,"type","checkbox"),u(jt,"name","mm"),jt.__value="true",jt.value=jt.__value,u(jt,"class","rounded mb-1"),u(Fe,"class","cnt"),u(Ui,"class","text-sm"),u(wn,"href",Kt("WiFi-configuration")),u(wn,"target","_blank"),u(wn,"class","float-right"),u(oi,"type","hidden"),u(oi,"name","w"),oi.value="true",u(ml,"name","ws"),u(ml,"type","text"),u(ml,"class","in-s"),u(Wl,"class","my-1"),u(pl,"name","wp"),u(pl,"type","password"),u(pl,"class","in-s"),u(Gl,"class","my-1"),$n.__value=255,$n.value=$n.__value,Tn.__value=0,Tn.value=Tn.__value,Sn.__value=1,Sn.value=Sn.__value,Pn.__value=2,Pn.value=Pn.__value,u(Mt,"name","wz"),u(Mt,"class","in-s"),t[3].w.z===void 0&&Ze(()=>t[39].call(Mt)),u(Bl,"class","w-1/2"),u(At,"name","ww"),u(At,"type","number"),u(At,"min","0"),u(At,"max","20.5"),u(At,"step","0.5"),u(At,"class","in-f tr w-full"),u(Hi,"class","in-post"),u(Nn,"class","flex"),u(Yl,"class","ml-2 w-1/2"),u(Cn,"class","my-1 flex"),u(Wt,"type","checkbox"),u(Wt,"name","wa"),Wt.__value="true",Wt.value=Wt.__value,u(Wt,"class","rounded mb-1"),u(ji,"class","my-3"),u(ft,"class","cnt"),u(Gi,"class","text-sm"),u(Mn,"href",Kt("Network-configuration")),u(Mn,"target","_blank"),u(Mn,"class","float-right"),Dn.__value="dhcp",Dn.value=Dn.__value,En.__value="static",En.value=En.__value,u(xt,"name","nm"),u(xt,"class","in-f"),t[3].n.m===void 0&&Ze(()=>t[42].call(xt)),u(St,"name","ni"),u(St,"type","text"),u(St,"class","in-m w-full"),St.disabled=Bi=t[3].n.m=="dhcp",St.required=Yi=t[3].n.m=="static",u(Pt,"name","ns"),u(Pt,"class","in-l"),Pt.disabled=zi=t[3].n.m=="dhcp",Pt.required=Vi=t[3].n.m=="static",t[3].n.s===void 0&&Ze(()=>t[44].call(Pt)),u(Sl,"class","flex"),u(zl,"class","my-1"),u(Gt,"name","nd"),Gt.__value="true",Gt.value=Gt.__value,u(Gt,"type","checkbox"),u(Gt,"class","rounded mb-1"),u(Ki,"class","my-1"),u(ui,"type","hidden"),u(ui,"name","ntp"),ui.value="true",u(Bt,"name","ntpd"),Bt.__value="true",Bt.value=Bt.__value,u(Bt,"type","checkbox"),u(Bt,"class","rounded mb-1"),u(ri,"class","ml-4"),u(_l,"name","ntph"),u(_l,"type","text"),u(_l,"class","in-s"),u(Xi,"class","flex"),u(Pl,"class","my-1"),u(ut,"class","cnt"),u(Zi,"class","text-sm"),u(Fn,"href",Kt("MQTT-configuration")),u(Fn,"target","_blank"),u(Fn,"class","float-right"),u(ai,"type","hidden"),u(ai,"name","q"),ai.value="true",u(dl,"name","qh"),u(dl,"type","text"),u(dl,"class","in-f w-3/4"),u(Yt,"name","qp"),u(Yt,"type","number"),u(Yt,"min","1024"),u(Yt,"max","65535"),u(Yt,"class","in-l tr w-1/4"),u(Ln,"class","flex"),u(el,"class","my-1"),u(vl,"name","qu"),u(vl,"type","text"),u(vl,"class","in-s"),u(Vl,"class","my-1"),u(hl,"name","qa"),u(hl,"type","password"),u(hl,"class","in-s"),u(Kl,"class","my-1"),u(bl,"name","qc"),u(bl,"type","text"),u(bl,"class","in-f w-full"),Hn.__value=0,Hn.value=Hn.__value,jn.__value=1,jn.value=jn.__value,Wn.__value=2,Wn.value=Wn.__value,Gn.__value=3,Gn.value=Gn.__value,Bn.__value=4,Bn.value=Bn.__value,Yn.__value=255,Yn.value=Yn.__value,u(_t,"name","qm"),u(_t,"class","in-l"),t[3].q.m===void 0&&Ze(()=>t[57].call(_t)),u(qn,"class","my-1 flex"),u(gl,"name","qb"),u(gl,"type","text"),u(gl,"class","in-s"),u(Ql,"class","my-1"),u(He,"class","cnt"),u(Ji,"class","text-sm"),u(zn,"href",Kt("User-interface")),u(zn,"target","_blank"),u(zn,"class","float-right"),u(fi,"type","hidden"),u(fi,"name","u"),fi.value="true",u(ci,"class","flex flex-wrap"),u(tl,"class","cnt"),u(xi,"class","text-sm"),u(Kn,"href","https://amsleser.no/blog/post/24-telnet-debug"),u(Kn,"target","_blank"),u(Kn,"class","float-right"),u(mi,"type","hidden"),u(mi,"name","d"),mi.value="true",u(zt,"type","checkbox"),u(zt,"name","ds"),zt.__value="true",zt.value=zt.__value,u(zt,"class","rounded mb-1"),u(es,"class","mt-3"),u(Nt,"class","cnt"),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(Xn,"type","button"),u(Xn,"class","py-2 px-4 rounded bg-red-500 text-white ml-2"),u(Zn,"type","button"),u(Zn,"class","py-2 px-4 rounded bg-yellow-500 text-white"),u(ls,"class","text-center"),u(ns,"class","text-right"),u(Nl,"class","grid grid-cols-3"),u(e,"autocomplete","off")},m(N,ne){w(N,e,ne),o(e,l),o(l,n),o(n,i),o(n,s),o(n,r),Q(a,r,null),o(n,c),o(n,f),o(n,_),o(n,p),o(p,d),o(d,v),o(v,h),o(v,g),o(v,y),o(v,S),z(S,t[3].g.h),o(d,T),o(d,$),o($,P),o($,L),o($,D),o($,I),Q(E,I,null),Ne(I,t[3].g.t),o(n,Z),o(n,R),o(n,U),o(n,O),o(O,Y),o(Y,q),o(q,W),o(q,V),o(q,F),o(q,j),o(j,te),o(te,ie),o(te,x),o(te,B),o(te,G),o(te,_e),o(j,ge),o(ge,me),o(ge,de),o(ge,ae),o(ge,ve),o(j,le),o(le,se),o(le,ee),o(j,we),o(j,Ee),o(j,We),o(j,Ge),o(j,ot),o(j,Ie),o(j,xe),o(j,Be),o(j,Ue),o(j,et),o(j,rt),o(j,Re),o(j,Le),Ne(j,t[3].p.r),o(Y,re),o(Y,be),o(be,Ft),o(be,Ll),o(be,Xt),o(be,at);for(let $t=0;$t<4;$t+=1)is[$t].m(at,null);Ne(at,t[3].p.c),o(n,wl),o(n,rl),o(rl,Rt),o(Rt,pt),o(pt,Ye),o(pt,ze),o(pt,Ve),o(pt,Ae),z(Ae,t[3].p.f),o(Rt,Ke),o(Rt,qe),o(qe,Qe),o(qe,Xe),o(qe,ue),o(qe,he),z(he,t[3].p.m),o(n,$i),o(n,al),o(al,un),o(un,Tt),Tt.checked=t[3].p.e,o(un,Ti),o(al,Si),dt&&dt.m(al,null),o(n,Pi),o(n,fl),o(fl,Ni),o(fl,Mi),o(fl,Ai),o(fl,De),o(De,cl),o(De,Lt),o(De,ql),Ne(De,t[3].g.s),o(n,Di),vt&&vt.m(n,null),o(l,yl),o(l,Fe),o(Fe,rn),o(Fe,ho),o(Fe,an),Q(fn,an,null),o(Fe,bo),o(Fe,ii),o(Fe,go),o(Fe,cn),o(cn,ks),o(cn,ko),o(cn,Cl),o(Cl,Zt),o(Zt,$l),o($l,wo);for(let $t=0;$t<7;$t+=1)ss[$t].m(Zt,null);Ne(Zt,t[3].m.b),o(Cl,yo),o(Cl,ct),o(ct,Tl),o(Tl,Co),o(ct,mn),o(ct,pn),o(ct,_n),o(ct,dn),Ne(ct,t[3].m.p),o(Cl,$o),o(Cl,si),o(si,qt),qt.checked=t[3].m.i,o(si,To),o(Fe,So),o(Fe,Ol),o(Ol,Po),o(Ol,No),o(Ol,Mo),o(Ol,Jt),o(Jt,vn),o(Jt,hn),Ne(Jt,t[3].m.d),o(Fe,Ao),o(Fe,bn),o(bn,Ul),o(Ul,Do),o(Ul,Eo),o(Ul,Io),o(Ul,gn),o(gn,Ot),z(Ot,t[3].m.f),o(gn,Fo),o(gn,Ri),o(bn,Ro),o(bn,Hl),o(Hl,Lo),o(Hl,qo),o(Hl,Oo),o(Hl,kn),o(kn,Ut),z(Ut,t[3].m.r),o(kn,Uo),o(kn,Li),o(Fe,Ho),o(Fe,ws),o(Fe,jo),o(Fe,jl),o(jl,qi),o(qi,Ht),Ht.checked=t[3].m.e.e,o(qi,Wo),o(jl,Go),ht&&ht.m(jl,null),o(Fe,Bo),bt&&bt.m(Fe,null),o(Fe,ys),o(Fe,Oi),o(Oi,jt),jt.checked=t[3].m.m.e,o(Oi,Yo),o(Fe,zo),gt&&gt.m(Fe,null),o(l,Vo),o(l,ft),o(ft,Ui),o(ft,Ko),o(ft,wn),Q(yn,wn,null),o(ft,Qo),o(ft,oi),o(ft,Xo),o(ft,Wl),o(Wl,Zo),o(Wl,Jo),o(Wl,xo),o(Wl,ml),z(ml,t[3].w.s),o(ft,eu),o(ft,Gl),o(Gl,tu),o(Gl,lu),o(Gl,nu),o(Gl,pl),z(pl,t[3].w.p),o(ft,iu),o(ft,Cn),o(Cn,Bl),o(Bl,su),o(Bl,ou),o(Bl,uu),o(Bl,Mt),o(Mt,$n),o(Mt,Tn),o(Mt,Sn),o(Mt,Pn),Ne(Mt,t[3].w.z),o(Cn,ru),o(Cn,Yl),o(Yl,au),o(Yl,fu),o(Yl,cu),o(Yl,Nn),o(Nn,At),z(At,t[3].w.w),o(Nn,mu),o(Nn,Hi),o(ft,pu),o(ft,ji),o(ji,Wi),o(Wi,Wt),Wt.checked=t[3].w.a,o(Wi,_u),o(l,du),o(l,ut),o(ut,Gi),o(ut,vu),o(ut,Mn),Q(An,Mn,null),o(ut,hu),o(ut,zl),o(zl,bu),o(zl,gu),o(zl,ku),o(zl,Sl),o(Sl,xt),o(xt,Dn),o(xt,En),Ne(xt,t[3].n.m),o(Sl,wu),o(Sl,St),z(St,t[3].n.i),o(Sl,yu),o(Sl,Pt),Q(In,Pt,null),Ne(Pt,t[3].n.s),o(ut,Cu),kt&&kt.m(ut,null),o(ut,Cs),o(ut,Ki),o(Ki,Qi),o(Qi,Gt),Gt.checked=t[3].n.d,o(Qi,$u),o(ut,Tu),o(ut,ui),o(ut,Su),o(ut,Pl),o(Pl,Pu),o(Pl,ri),o(ri,Bt),Bt.checked=t[3].n.h,o(ri,Nu),o(Pl,Mu),o(Pl,Au),o(Pl,Xi),o(Xi,_l),z(_l,t[3].n.n1),o(l,Du),o(l,He),o(He,Zi),o(He,Eu),o(He,Fn),Q(Rn,Fn,null),o(He,Iu),o(He,ai),o(He,Fu),o(He,el),o(el,Ru),wt&&wt.m(el,null),o(el,$s),o(el,Lu),o(el,qu),o(el,Ln),o(Ln,dl),z(dl,t[3].q.h),o(Ln,Ou),o(Ln,Yt),z(Yt,t[3].q.p),o(He,Uu),tt&&tt.m(He,null),o(He,Ts),o(He,Vl),o(Vl,Hu),o(Vl,ju),o(Vl,Wu),o(Vl,vl),z(vl,t[3].q.u),o(He,Gu),o(He,Kl),o(Kl,Bu),o(Kl,Yu),o(Kl,zu),o(Kl,hl),z(hl,t[3].q.a),o(He,Vu),o(He,qn),o(qn,On),o(On,Ku),o(On,Qu),o(On,Xu),o(On,bl),z(bl,t[3].q.c),o(qn,Zu),o(qn,Un),o(Un,Ju),o(Un,xu),o(Un,er),o(Un,_t),o(_t,Hn),o(_t,jn),o(_t,Wn),o(_t,Gn),o(_t,Bn),o(_t,Yn),Ne(_t,t[3].q.m),o(He,tr),o(He,Ql),o(Ql,lr),o(Ql,nr),o(Ql,ir),o(Ql,gl),z(gl,t[3].q.b),o(l,sr),lt&&lt.m(l,null),o(l,Ss),nt&&nt.m(l,null),o(l,Ps),it&&it.m(l,null),o(l,Ms),o(l,tl),o(tl,Ji),o(tl,or),o(tl,zn),Q(Vn,zn,null),o(tl,ur),o(tl,fi),o(tl,rr),o(tl,ci);for(let $t=0;$t<yt.length;$t+=1)yt[$t].m(ci,null);o(l,ar),st&&st.m(l,null),o(l,As),o(l,Nt),o(Nt,xi),o(Nt,fr),o(Nt,Kn),Q(Qn,Kn,null),o(Nt,cr),o(Nt,mi),o(Nt,mr),o(Nt,es),o(es,ts),o(ts,zt),zt.checked=t[3].d.s,o(ts,pr),o(Nt,_r),Ct&&Ct.m(Nt,null),o(e,dr),o(e,Nl),o(Nl,Ds),o(Ds,Xn),o(Nl,vr),o(Nl,ls),o(ls,Zn),o(Nl,hr),o(Nl,ns),w(N,Es,ne),Q(Xl,N,ne),w(N,Is,ne),Q(Zl,N,ne),w(N,Fs,ne),Q(Jl,N,ne),w(N,Rs,ne),Q(xl,N,ne),Vt=!0,Ls||(br=[K(S,"input",t[12]),K(I,"change",t[13]),K(j,"change",t[14]),K(at,"change",t[15]),K(Ae,"input",t[16]),K(he,"input",t[17]),K(Tt,"change",t[18]),K(De,"change",t[20]),K(Zt,"change",t[23]),K(ct,"change",t[24]),K(qt,"change",t[25]),K(Jt,"change",t[26]),K(Ot,"input",t[27]),K(Ut,"input",t[28]),K(Ht,"change",t[29]),K(jt,"change",t[32]),K(ml,"input",t[37]),K(pl,"input",t[38]),K(Mt,"change",t[39]),K(At,"input",t[40]),K(Wt,"change",t[41]),K(xt,"change",t[42]),K(St,"input",t[43]),K(Pt,"change",t[44]),K(Gt,"change",t[48]),K(Bt,"change",t[49]),K(_l,"input",t[50]),K(dl,"input",t[52]),K(Yt,"input",t[53]),K(vl,"input",t[54]),K(hl,"input",t[55]),K(bl,"input",t[56]),K(_t,"change",t[57]),K(gl,"input",t[58]),K(zt,"change",t[87]),K(Xn,"click",t[8]),K(Zn,"click",t[10]),K(e,"submit",oo(t[9]))],Ls=!0)},p(N,ne){if(ne[0]&8&&S.value!==N[3].g.h&&z(S,N[3].g.h),ne[0]&8&&Ne(I,N[3].g.t),ne[0]&8&&Ne(j,N[3].p.r),ne[0]&8&&Ne(at,N[3].p.c),ne[0]&8&&fe(Ae.value)!==N[3].p.f&&z(Ae,N[3].p.f),ne[0]&8&&fe(he.value)!==N[3].p.m&&z(he,N[3].p.m),ne[0]&8&&(Tt.checked=N[3].p.e),N[3].p.e&&N[0].chip!="esp8266"?dt?dt.p(N,ne):(dt=xa(N),dt.c(),dt.m(al,null)):dt&&(dt.d(1),dt=null),ne[0]&8&&Ne(De,N[3].g.s),N[3].g.s>0?vt?vt.p(N,ne):(vt=ef(N),vt.c(),vt.m(n,null)):vt&&(vt.d(1),vt=null),(!Vt||ne[0]&8&&Ei!==(Ei=N[3].m.b!=0))&&($l.disabled=Ei),ne[0]&8&&Ne(Zt,N[3].m.b),(!Vt||ne[0]&8&&Ii!==(Ii=N[3].m.b!=0))&&(Tl.disabled=Ii),(!Vt||ne[0]&8&&Fi!==(Fi=N[3].m.b==0))&&(ct.disabled=Fi),ne[0]&8&&Ne(ct,N[3].m.p),ne[0]&8&&(qt.checked=N[3].m.i),ne[0]&8&&Ne(Jt,N[3].m.d),ne[0]&8&&fe(Ot.value)!==N[3].m.f&&z(Ot,N[3].m.f),ne[0]&8&&fe(Ut.value)!==N[3].m.r&&z(Ut,N[3].m.r),ne[0]&8&&(Ht.checked=N[3].m.e.e),N[3].m.e.e?ht?ht.p(N,ne):(ht=tf(N),ht.c(),ht.m(jl,null)):ht&&(ht.d(1),ht=null),N[3].m.e.e?bt?bt.p(N,ne):(bt=lf(N),bt.c(),bt.m(Fe,ys)):bt&&(bt.d(1),bt=null),ne[0]&8&&(jt.checked=N[3].m.m.e),N[3].m.m.e?gt?gt.p(N,ne):(gt=nf(N),gt.c(),gt.m(Fe,null)):gt&&(gt.d(1),gt=null),ne[0]&8&&ml.value!==N[3].w.s&&z(ml,N[3].w.s),ne[0]&8&&pl.value!==N[3].w.p&&z(pl,N[3].w.p),ne[0]&8&&Ne(Mt,N[3].w.z),ne[0]&8&&fe(At.value)!==N[3].w.w&&z(At,N[3].w.w),ne[0]&8&&(Wt.checked=N[3].w.a),ne[0]&8&&Ne(xt,N[3].n.m),(!Vt||ne[0]&8&&Bi!==(Bi=N[3].n.m=="dhcp"))&&(St.disabled=Bi),(!Vt||ne[0]&8&&Yi!==(Yi=N[3].n.m=="static"))&&(St.required=Yi),ne[0]&8&&St.value!==N[3].n.i&&z(St,N[3].n.i),(!Vt||ne[0]&8&&zi!==(zi=N[3].n.m=="dhcp"))&&(Pt.disabled=zi),(!Vt||ne[0]&8&&Vi!==(Vi=N[3].n.m=="static"))&&(Pt.required=Vi),ne[0]&8&&Ne(Pt,N[3].n.s),N[3].n.m=="static"?kt?kt.p(N,ne):(kt=sf(N),kt.c(),kt.m(ut,Cs)):kt&&(kt.d(1),kt=null),ne[0]&8&&(Gt.checked=N[3].n.d),ne[0]&8&&(Bt.checked=N[3].n.h),ne[0]&8&&_l.value!==N[3].n.n1&&z(_l,N[3].n.n1),N[0].chip!="esp8266"?wt?wt.p(N,ne):(wt=of(N),wt.c(),wt.m(el,$s)):wt&&(wt.d(1),wt=null),ne[0]&8&&dl.value!==N[3].q.h&&z(dl,N[3].q.h),ne[0]&8&&fe(Yt.value)!==N[3].q.p&&z(Yt,N[3].q.p),N[3].q.s.e?tt?(tt.p(N,ne),ne[0]&8&&M(tt,1)):(tt=uf(N),tt.c(),M(tt,1),tt.m(He,Ts)):tt&&(Te(),A(tt,1,1,()=>{tt=null}),Se()),ne[0]&8&&vl.value!==N[3].q.u&&z(vl,N[3].q.u),ne[0]&8&&hl.value!==N[3].q.a&&z(hl,N[3].q.a),ne[0]&8&&bl.value!==N[3].q.c&&z(bl,N[3].q.c),ne[0]&8&&Ne(_t,N[3].q.m),ne[0]&8&&gl.value!==N[3].q.b&&z(gl,N[3].q.b),N[3].q.m==3?lt?(lt.p(N,ne),ne[0]&8&&M(lt,1)):(lt=rf(N),lt.c(),M(lt,1),lt.m(l,Ss)):lt&&(Te(),A(lt,1,1,()=>{lt=null}),Se()),N[3].q.m==4?nt?(nt.p(N,ne),ne[0]&8&&M(nt,1)):(nt=af(N),nt.c(),M(nt,1),nt.m(l,Ps)):nt&&(Te(),A(nt,1,1,()=>{nt=null}),Se()),ne[0]&8&&(Ns=N[3].p.r.startsWith("10YNO")||N[3].p.r=="10Y1001A1001A48H"),Ns?it?(it.p(N,ne),ne[0]&8&&M(it,1)):(it=ff(N),it.c(),M(it,1),it.m(l,Ms)):it&&(Te(),A(it,1,1,()=>{it=null}),Se()),ne[0]&136){Jn=N[7];let Dt;for(Dt=0;Dt<Jn.length;Dt+=1){const yr=Za(N,Jn,Dt);yt[Dt]?yt[Dt].p(yr,ne):(yt[Dt]=mf(yr),yt[Dt].c(),yt[Dt].m(ci,null))}for(;Dt<yt.length;Dt+=1)yt[Dt].d(1);yt.length=Jn.length}N[0].board>20||N[0].chip=="esp8266"?st?(st.p(N,ne),ne[0]&1&&M(st,1)):(st=pf(N),st.c(),M(st,1),st.m(l,As)):st&&(Te(),A(st,1,1,()=>{st=null}),Se()),ne[0]&8&&(zt.checked=N[3].d.s),N[3].d.s?Ct?Ct.p(N,ne):(Ct=gf(N),Ct.c(),Ct.m(Nt,null)):Ct&&(Ct.d(1),Ct=null);const $t={};ne[0]&2&&($t.active=N[1]),Xl.$set($t);const gr={};ne[0]&4&&(gr.active=N[2]),Zl.$set(gr);const kr={};ne[0]&16&&(kr.active=N[4]),Jl.$set(kr);const wr={};ne[0]&32&&(wr.active=N[5]),xl.$set(wr)},i(N){Vt||(M(a.$$.fragment,N),M(E.$$.fragment,N),M(fn.$$.fragment,N),M(yn.$$.fragment,N),M(An.$$.fragment,N),M(In.$$.fragment,N),M(Rn.$$.fragment,N),M(tt),M(lt),M(nt),M(it),M(Vn.$$.fragment,N),M(st),M(Qn.$$.fragment,N),M(Xl.$$.fragment,N),M(Zl.$$.fragment,N),M(Jl.$$.fragment,N),M(xl.$$.fragment,N),Vt=!0)},o(N){A(a.$$.fragment,N),A(E.$$.fragment,N),A(fn.$$.fragment,N),A(yn.$$.fragment,N),A(An.$$.fragment,N),A(In.$$.fragment,N),A(Rn.$$.fragment,N),A(tt),A(lt),A(nt),A(it),A(Vn.$$.fragment,N),A(st),A(Qn.$$.fragment,N),A(Xl.$$.fragment,N),A(Zl.$$.fragment,N),A(Jl.$$.fragment,N),A(xl.$$.fragment,N),Vt=!1},d(N){N&&k(e),X(a),X(E),ol(is,N),dt&&dt.d(),vt&&vt.d(),X(fn),ol(ss,N),ht&&ht.d(),bt&&bt.d(),gt&&gt.d(),X(yn),X(An),X(In),kt&&kt.d(),X(Rn),wt&&wt.d(),tt&&tt.d(),lt&&lt.d(),nt&&nt.d(),it&&it.d(),X(Vn),ol(yt,N),st&&st.d(),X(Qn),Ct&&Ct.d(),N&&k(Es),X(Xl,N),N&&k(Is),X(Zl,N),N&&k(Fs),X(Jl,N),N&&k(Rs),X(xl,N),Ls=!1,je(br)}}}async function Yp(){await(await fetch("/reboot",{method:"POST"})).json()}function zp(t,e,l){let{sysinfo:n={}}=e,i=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"}],s=!0,r=!1,a={g:{t:"",h:"",s:0,u:"",p:""},m:{b:2400,p:11,i:!1,d:0,f:0,r:0,e:{e:!1,k:"",a:""},m:{e:!1,w:!1,v:!1,a:!1,c:!1}},w:{s:"",p:"",w:0,z:255,a:!0},n:{m:"",i:"",s:"",g:"",d1:"",d2:"",d:!1,n1:"",n2:"",h:!1},q:{h:"",p:1883,u:"",a:"",b:"",s:{e:!1,c:!1,r:!0,k:!1}},o:{e:"",c:"",u1:"",u2:"",u3:""},t:{t:[0,0,0,0,0,0,0,0,0,0],h:1},p:{e:!1,t:"",r:"",c:"",m:1,f:null},d:{s:!1,t:!1,l:5},u:{i:0,e:0,v:0,a:0,r:0,c:0,t:0,p:0,d:0,m:0,s:0},i:{h:{p:null,u:!0},a:null,l:{p:null,i:!1},r:{r:null,g:null,b:null,i:!1},t:{d:null,a:null},v:{p:null,d:{v:null,g:null},o:null,m:null,b:null}},h:{t:"",h:"",n:""}};Ac.subscribe(De=>{De.version&&(l(3,a=De),l(1,s=!1))}),kp();let c=!1,f=!1;async function _(){if(confirm("Are you sure you want to factory reset the device?")){l(4,c=!0);const De=new URLSearchParams;De.append("perform","true");let Lt=await(await fetch("/reset",{method:"POST",body:De})).json();l(4,c=!1),l(5,f=Lt.success)}}async function p(De){l(2,r=!0);const cl=new FormData(De.target),Lt=new URLSearchParams;for(let yl of cl){const[Fe,rn]=yl;Lt.append(Fe,rn)}let Di=await(await fetch("/save",{method:"POST",body:Lt})).json();Il.update(yl=>(yl.booting=Di.reboot,yl.ui=a.u,yl)),l(2,r=!1),hs("/")}const d=function(){confirm("Are you sure you want to reboot the device?")&&(Il.update(De=>(De.booting=!0,De)),Yp())},v=function(){a.q.s.e?a.q.p==1883&&l(3,a.q.p=8883,a):a.q.p==8883&&l(3,a.q.p=1883,a)};let h=44;function g(){a.g.h=this.value,l(3,a)}function y(){a.g.t=mt(this),l(3,a)}function S(){a.p.r=mt(this),l(3,a)}function T(){a.p.c=mt(this),l(3,a)}function $(){a.p.f=fe(this.value),l(3,a)}function P(){a.p.m=fe(this.value),l(3,a)}function L(){a.p.e=this.checked,l(3,a)}function D(){a.p.t=this.value,l(3,a)}function I(){a.g.s=mt(this),l(3,a)}function E(){a.g.u=this.value,l(3,a)}function Z(){a.g.p=this.value,l(3,a)}function R(){a.m.b=mt(this),l(3,a)}function U(){a.m.p=mt(this),l(3,a)}function O(){a.m.i=this.checked,l(3,a)}function Y(){a.m.d=mt(this),l(3,a)}function q(){a.m.f=fe(this.value),l(3,a)}function W(){a.m.r=fe(this.value),l(3,a)}function V(){a.m.e.e=this.checked,l(3,a)}function F(){a.m.e.k=this.value,l(3,a)}function j(){a.m.e.a=this.value,l(3,a)}function te(){a.m.m.e=this.checked,l(3,a)}function ie(){a.m.m.w=fe(this.value),l(3,a)}function x(){a.m.m.v=fe(this.value),l(3,a)}function B(){a.m.m.a=fe(this.value),l(3,a)}function G(){a.m.m.c=fe(this.value),l(3,a)}function _e(){a.w.s=this.value,l(3,a)}function ge(){a.w.p=this.value,l(3,a)}function me(){a.w.z=mt(this),l(3,a)}function de(){a.w.w=fe(this.value),l(3,a)}function ae(){a.w.a=this.checked,l(3,a)}function ve(){a.n.m=mt(this),l(3,a)}function le(){a.n.i=this.value,l(3,a)}function se(){a.n.s=mt(this),l(3,a)}function ee(){a.n.g=this.value,l(3,a)}function we(){a.n.d1=this.value,l(3,a)}function Ee(){a.n.d2=this.value,l(3,a)}function We(){a.n.d=this.checked,l(3,a)}function Ge(){a.n.h=this.checked,l(3,a)}function ot(){a.n.n1=this.value,l(3,a)}function Ie(){a.q.s.e=this.checked,l(3,a)}function xe(){a.q.h=this.value,l(3,a)}function Be(){a.q.p=fe(this.value),l(3,a)}function Ue(){a.q.u=this.value,l(3,a)}function et(){a.q.a=this.value,l(3,a)}function rt(){a.q.c=this.value,l(3,a)}function Re(){a.q.m=mt(this),l(3,a)}function Le(){a.q.b=this.value,l(3,a)}function re(){a.o.e=this.value,l(3,a)}function be(){a.o.c=this.value,l(3,a)}function Ft(){a.o.u1=this.value,l(3,a)}function Ll(){a.o.u2=this.value,l(3,a)}function Xt(){a.o.u3=this.value,l(3,a)}function at(){a.h.t=this.value,l(3,a)}function wl(){a.h.h=this.value,l(3,a)}function rl(){a.h.n=this.value,l(3,a)}function Rt(De){a.t.t[De]=fe(this.value),l(3,a)}function pt(){a.t.h=fe(this.value),l(3,a)}function Ye(De){a.u[De.key]=mt(this),l(3,a)}function ze(){a.i.h.u=this.checked,l(3,a)}function Ve(){a.i.h.p=mt(this),l(3,a)}function Ae(){a.i.a=fe(this.value),l(3,a)}function Ke(){a.i.l.i=this.checked,l(3,a)}function qe(){a.i.l.p=fe(this.value),l(3,a)}function Qe(){a.i.r.i=this.checked,l(3,a)}function Xe(){a.i.r.r=fe(this.value),l(3,a)}function ue(){a.i.r.g=fe(this.value),l(3,a)}function he(){a.i.r.b=fe(this.value),l(3,a)}function $i(){a.i.t.d=fe(this.value),l(3,a)}function al(){a.i.t.a=fe(this.value),l(3,a)}function un(){a.i.v.p=fe(this.value),l(3,a)}function Tt(){a.i.v.d.v=fe(this.value),l(3,a)}function Ti(){a.i.v.d.g=fe(this.value),l(3,a)}function Si(){a.i.v.o=fe(this.value),l(3,a)}function Pi(){a.i.v.m=fe(this.value),l(3,a)}function fl(){a.i.v.b=fe(this.value),l(3,a)}function Ni(){a.d.s=this.checked,l(3,a)}function Mi(){a.d.t=this.checked,l(3,a)}function Ai(){a.d.l=mt(this),l(3,a)}return t.$$set=De=>{"sysinfo"in De&&l(0,n=De.sysinfo)},t.$$.update=()=>{t.$$.dirty[0]&1&&l(6,h=n.chip=="esp8266"?16:n.chip=="esp32s2"?44:39)},[n,s,r,a,c,f,h,i,_,p,d,v,g,y,S,T,$,P,L,D,I,E,Z,R,U,O,Y,q,W,V,F,j,te,ie,x,B,G,_e,ge,me,de,ae,ve,le,se,ee,we,Ee,We,Ge,ot,Ie,xe,Be,Ue,et,rt,Re,Le,re,be,Ft,Ll,Xt,at,wl,rl,Rt,pt,Ye,ze,Ve,Ae,Ke,qe,Qe,Xe,ue,he,$i,al,un,Tt,Ti,Si,Pi,fl,Ni,Mi,Ai]}class Vp extends $e{constructor(e){super(),Ce(this,e,zp,Bp,ye,{sysinfo:0},null,[-1,-1,-1,-1])}}function wf(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}function Kp(t,e){if(/^v\d{1,2}\.\d{1,2}\.\d{1,2}$/.test(t)){let l=t.substring(1).split("."),n=parseInt(l[0]),i=parseInt(l[1]),s=parseInt(l[2]),r=[...e];r.reverse();let a,c,f;for(let _=0;_<r.length;_++){let p=r[_],v=p.tag_name.substring(1).split("."),h=parseInt(v[0]),g=parseInt(v[1]),y=parseInt(v[2]);if(h==n)g==i?y>s&&(a=p):g==i+1&&(c=p);else if(h==n+1)if(f){let S=f.tag_name.substring(1).split(".");parseInt(S[0]);let T=parseInt(S[1]);parseInt(S[2]),g==T&&(f=p)}else f=p}return c||f||a||!1}else return e[0]}function yf(t,e,l){const n=t.slice();return n[20]=e[l],n}function Qp(t){let e=pe(t[1].chip,t[1].board)+"",l;return{c(){l=C(e)},m(n,i){w(n,l,i)},p(n,i){i&2&&e!==(e=pe(n[1].chip,n[1].board)+"")&&H(l,e)},d(n){n&&k(l)}}}function Cf(t){let e,l,n=t[1].apmac+"",i,s,r,a,c,f,_,p,d,v=Ur(t[1])+"",h,g,y=t[1].boot_reason+"",S,T,$=t[1].ex_cause+"",P,L,D;const I=[Zp,Xp],E=[];function Z(R,U){return R[0].u>0?0:1}return c=Z(t),f=E[c]=I[c](t),{c(){e=m("div"),l=C("AP MAC: "),i=C(n),s=b(),r=m("div"),a=C(`Last boot:
            `),f.c(),_=b(),p=m("div"),d=C("Reason: "),h=C(v),g=C(" ("),S=C(y),T=C("/"),P=C($),L=C(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(p,"class","my-2")},m(R,U){w(R,e,U),o(e,l),o(e,i),w(R,s,U),w(R,r,U),o(r,a),E[c].m(r,null),w(R,_,U),w(R,p,U),o(p,d),o(p,h),o(p,g),o(p,S),o(p,T),o(p,P),o(p,L),D=!0},p(R,U){(!D||U&2)&&n!==(n=R[1].apmac+"")&&H(i,n);let O=c;c=Z(R),c===O?E[c].p(R,U):(Te(),A(E[O],1,1,()=>{E[O]=null}),Se(),f=E[c],f?f.p(R,U):(f=E[c]=I[c](R),f.c()),M(f,1),f.m(r,null)),(!D||U&2)&&v!==(v=Ur(R[1])+"")&&H(h,v),(!D||U&2)&&y!==(y=R[1].boot_reason+"")&&H(S,y),(!D||U&2)&&$!==($=R[1].ex_cause+"")&&H(P,$)},i(R){D||(M(f),D=!0)},o(R){A(f),D=!1},d(R){R&&k(e),R&&k(s),R&&k(r),E[c].d(),R&&k(_),R&&k(p)}}}function Xp(t){let e;return{c(){e=C("-")},m(l,n){w(l,e,n)},p:oe,i:oe,o:oe,d(l){l&&k(e)}}}function Zp(t){let e,l;return e=new Nc({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:""}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function $f(t){let e,l,n,i,s,r=bs(t[1].meter.mfg)+"",a,c,f,_,p=t[1].meter.model+"",d,v,h,g,y=t[1].meter.id+"",S;return{c(){e=m("div"),l=m("strong"),l.textContent="Meter",n=b(),i=m("div"),s=C("Manufacturer: "),a=C(r),c=b(),f=m("div"),_=C("Model: "),d=C(p),v=b(),h=m("div"),g=C("ID: "),S=C(y),u(l,"class","text-sm"),u(i,"class","my-2"),u(f,"class","my-2"),u(h,"class","my-2"),u(e,"class","cnt")},m(T,$){w(T,e,$),o(e,l),o(e,n),o(e,i),o(i,s),o(i,a),o(e,c),o(e,f),o(f,_),o(f,d),o(e,v),o(e,h),o(h,g),o(h,S)},p(T,$){$&2&&r!==(r=bs(T[1].meter.mfg)+"")&&H(a,r),$&2&&p!==(p=T[1].meter.model+"")&&H(d,p),$&2&&y!==(y=T[1].meter.id+"")&&H(S,y)},d(T){T&&k(e)}}}function Tf(t){let e,l,n,i,s,r=t[1].net.ip+"",a,c,f,_,p=t[1].net.mask+"",d,v,h,g,y=t[1].net.gw+"",S,T,$,P,L=t[1].net.dns1+"",D,I,E=t[1].net.dns2&&Sf(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Network",n=b(),i=m("div"),s=C("IP: "),a=C(r),c=b(),f=m("div"),_=C("Mask: "),d=C(p),v=b(),h=m("div"),g=C("Gateway: "),S=C(y),T=b(),$=m("div"),P=C("DNS: "),D=C(L),I=b(),E&&E.c(),u(l,"class","text-sm"),u(i,"class","my-2"),u(f,"class","my-2"),u(h,"class","my-2"),u($,"class","my-2"),u(e,"class","cnt")},m(Z,R){w(Z,e,R),o(e,l),o(e,n),o(e,i),o(i,s),o(i,a),o(e,c),o(e,f),o(f,_),o(f,d),o(e,v),o(e,h),o(h,g),o(h,S),o(e,T),o(e,$),o($,P),o($,D),o($,I),E&&E.m($,null)},p(Z,R){R&2&&r!==(r=Z[1].net.ip+"")&&H(a,r),R&2&&p!==(p=Z[1].net.mask+"")&&H(d,p),R&2&&y!==(y=Z[1].net.gw+"")&&H(S,y),R&2&&L!==(L=Z[1].net.dns1+"")&&H(D,L),Z[1].net.dns2?E?E.p(Z,R):(E=Sf(Z),E.c(),E.m($,null)):E&&(E.d(1),E=null)},d(Z){Z&&k(e),E&&E.d()}}}function Sf(t){let e,l=t[1].net.dns2+"",n;return{c(){e=C("/ "),n=C(l)},m(i,s){w(i,e,s),w(i,n,s)},p(i,s){s&2&&l!==(l=i[1].net.dns2+"")&&H(n,l)},d(i){i&&k(e),i&&k(n)}}}function Pf(t){let e,l,n,i=t[1].upgrade.t+"",s,r,a=t[1].version+"",c,f,_=t[1].upgrade.x+"",p,d,v=t[1].upgrade.e+"",h,g;return{c(){e=m("div"),l=m("div"),n=C("Previous upgrade attempt ("),s=C(i),r=C(") does not match current version ("),c=C(a),f=C(") ["),p=C(_),d=C("/"),h=C(v),g=C("]"),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(y,S){w(y,e,S),o(e,l),o(l,n),o(l,s),o(l,r),o(l,c),o(l,f),o(l,p),o(l,d),o(l,h),o(l,g)},p(y,S){S&2&&i!==(i=y[1].upgrade.t+"")&&H(s,i),S&2&&a!==(a=y[1].version+"")&&H(c,a),S&2&&_!==(_=y[1].upgrade.x+"")&&H(p,_),S&2&&v!==(v=y[1].upgrade.e+"")&&H(h,v)},d(y){y&&k(e)}}}function Nf(t){let e,l=wf(pe(t[1].chip,t[1].board))+"",n;return{c(){e=m("div"),n=C(l),u(e,"class","bd-red")},m(i,s){w(i,e,s),o(e,n)},p(i,s){s&2&&l!==(l=wf(pe(i[1].chip,i[1].board))+"")&&H(n,l)},d(i){i&&k(e)}}}function Mf(t){let e,l,n,i,s,r;function a(_,p){return _[3].length==0?xp:Jp}let c=a(t),f=c(t);return{c(){e=m("div"),l=m("form"),n=m("input"),i=b(),f.c(),Yf(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","/firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(_,p){w(_,e,p),o(e,l),o(l,n),t[9](n),o(l,i),f.m(l,null),s||(r=[K(n,"change",t[10]),K(l,"submit",t[12])],s=!0)},p(_,p){c===(c=a(_))&&f?f.p(_,p):(f.d(1),f=c(_),f&&(f.c(),f.m(l,null)))},d(_){_&&k(e),t[9](null),f.d(),s=!1,je(r)}}}function Jp(t){let e=t[3][0].name+"",l,n,i;return{c(){l=C(e),n=b(),i=m("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm float-right")},m(s,r){w(s,l,r),w(s,n,r),w(s,i,r)},p(s,r){r&8&&e!==(e=s[3][0].name+"")&&H(l,e)},d(s){s&&k(l),s&&k(n),s&&k(i)}}}function xp(t){let e,l,n;return{c(){e=m("button"),e.textContent="Select firmware file for upgrade",u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(i,s){w(i,e,s),l||(n=K(e,"click",t[11]),l=!0)},p:oe,d(i){i&&k(e),l=!1,n()}}}function Af(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g=t[8],y=[];for(let L=0;L<g.length;L+=1)y[L]=Df(yf(t,g,L));let S=t[6].length==0&&Ef();function T(L,D){return L[6].length==0?t0:e0}let $=T(t),P=$(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Backup & restore",n=b(),i=m("form"),s=m("div");for(let L=0;L<y.length;L+=1)y[L].c();r=b(),a=m("label"),a.innerHTML='<input type="checkbox" class="rounded" name="ic" value="true"/> Include Secrets<br/><small>(SSID, PSK, passwords and tokens)</small>',c=b(),S&&S.c(),f=b(),_=m("form"),p=m("input"),d=b(),P.c(),u(l,"class","text-sm"),u(a,"class","my-1 mx-3 col-span-2"),u(s,"class","grid grid-cols-2"),u(i,"method","get"),u(i,"action","/configfile.cfg"),u(i,"autocomplete","off"),Yf(p,"display","none"),u(p,"name","file"),u(p,"type","file"),u(p,"accept",".cfg"),u(_,"action","/configfile"),u(_,"enctype","multipart/form-data"),u(_,"method","post"),u(_,"autocomplete","off"),u(e,"class","cnt")},m(L,D){w(L,e,D),o(e,l),o(e,n),o(e,i),o(i,s);for(let I=0;I<y.length;I+=1)y[I].m(s,null);o(s,r),o(s,a),o(i,c),S&&S.m(i,null),o(e,f),o(e,_),o(_,p),t[13](p),o(_,d),P.m(_,null),v||(h=[K(p,"change",t[14]),K(_,"submit",t[16])],v=!0)},p(L,D){if(D&256){g=L[8];let I;for(I=0;I<g.length;I+=1){const E=yf(L,g,I);y[I]?y[I].p(E,D):(y[I]=Df(E),y[I].c(),y[I].m(s,r))}for(;I<y.length;I+=1)y[I].d(1);y.length=g.length}L[6].length==0?S||(S=Ef(),S.c(),S.m(i,null)):S&&(S.d(1),S=null),$===($=T(L))&&P?P.p(L,D):(P.d(1),P=$(L),P&&(P.c(),P.m(_,null)))},d(L){L&&k(e),ol(y,L),S&&S.d(),t[13](null),P.d(),v=!1,je(h)}}}function Df(t){let e,l,n,i=t[20].name+"",s;return{c(){e=m("label"),l=m("input"),n=b(),s=C(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[20].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,a){w(r,e,a),o(e,l),o(e,n),o(e,s)},p:oe,d(r){r&&k(e)}}}function Ef(t){let e;return{c(){e=m("button"),e.textContent="Download",u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function e0(t){let e=t[6][0].name+"",l,n,i;return{c(){l=C(e),n=b(),i=m("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(s,r){w(s,l,r),w(s,n,r),w(s,i,r)},p(s,r){r&64&&e!==(e=s[6][0].name+"")&&H(l,e)},d(s){s&&k(l),s&&k(n),s&&k(i)}}}function t0(t){let e,l,n;return{c(){e=m("button"),e.textContent="Select file...",u(e,"type","button"),u(e,"class","btn-pri-sm")},m(i,s){w(i,e,s),l||(n=K(e,"click",t[15]),l=!0)},p:oe,d(i){i&&k(e),l=!1,n()}}}function l0(t){let e,l,n,i,s,r,a=t[1].chip+"",c,f,_,p,d,v,h,g,y=t[1].mac+"",S,T,$,P,L,D,I,E,Z,R,U=t[1].version+"",O,Y,q,W=(t[1].security==0||t[0].a)&&hi(t[1].board),V,F,j,te,ie,x,B;d=new sn({props:{to:"/vendor",$$slots:{default:[Qp]},$$scope:{ctx:t}}});let G=t[1].apmac&&t[1].apmac!=t[1].mac&&Cf(t),_e=t[1].meter&&$f(t),ge=t[1].net&&Tf(t),me=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&Pf(t),de=W&&Nf(t),ae=(t[1].security==0||t[0].a)&&Mf(t),ve=(t[1].security==0||t[0].a)&&Af(t);return te=new It({props:{active:t[4],message:"Uploading firmware, please wait"}}),x=new It({props:{active:t[7],message:"Uploading configuration, please wait"}}),{c(){e=m("div"),l=m("div"),n=m("strong"),n.textContent="Device information",i=b(),s=m("div"),r=C("Chip: "),c=C(a),f=b(),_=m("div"),p=C("Device: "),J(d.$$.fragment),v=b(),h=m("div"),g=C("MAC: "),S=C(y),T=b(),G&&G.c(),$=b(),_e&&_e.c(),P=b(),ge&&ge.c(),L=b(),D=m("div"),I=m("strong"),I.textContent="Firmware",E=b(),Z=m("div"),R=C("Installed version: "),O=C(U),Y=b(),me&&me.c(),q=b(),de&&de.c(),V=b(),ae&&ae.c(),F=b(),ve&&ve.c(),j=b(),J(te.$$.fragment),ie=b(),J(x.$$.fragment),u(n,"class","text-sm"),u(s,"class","my-2"),u(_,"class","my-2"),u(h,"class","my-2"),u(l,"class","cnt"),u(I,"class","text-sm"),u(Z,"class","my-2"),u(D,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(le,se){w(le,e,se),o(e,l),o(l,n),o(l,i),o(l,s),o(s,r),o(s,c),o(l,f),o(l,_),o(_,p),Q(d,_,null),o(l,v),o(l,h),o(h,g),o(h,S),o(l,T),G&&G.m(l,null),o(e,$),_e&&_e.m(e,null),o(e,P),ge&&ge.m(e,null),o(e,L),o(e,D),o(D,I),o(D,E),o(D,Z),o(Z,R),o(Z,O),o(D,Y),me&&me.m(D,null),o(D,q),de&&de.m(D,null),o(D,V),ae&&ae.m(D,null),o(e,F),ve&&ve.m(e,null),w(le,j,se),Q(te,le,se),w(le,ie,se),Q(x,le,se),B=!0},p(le,[se]){(!B||se&2)&&a!==(a=le[1].chip+"")&&H(c,a);const ee={};se&8388610&&(ee.$$scope={dirty:se,ctx:le}),d.$set(ee),(!B||se&2)&&y!==(y=le[1].mac+"")&&H(S,y),le[1].apmac&&le[1].apmac!=le[1].mac?G?(G.p(le,se),se&2&&M(G,1)):(G=Cf(le),G.c(),M(G,1),G.m(l,null)):G&&(Te(),A(G,1,1,()=>{G=null}),Se()),le[1].meter?_e?_e.p(le,se):(_e=$f(le),_e.c(),_e.m(e,P)):_e&&(_e.d(1),_e=null),le[1].net?ge?ge.p(le,se):(ge=Tf(le),ge.c(),ge.m(e,L)):ge&&(ge.d(1),ge=null),(!B||se&2)&&U!==(U=le[1].version+"")&&H(O,U),le[1].upgrade.t&&le[1].upgrade.t!=le[1].version?me?me.p(le,se):(me=Pf(le),me.c(),me.m(D,q)):me&&(me.d(1),me=null),se&3&&(W=(le[1].security==0||le[0].a)&&hi(le[1].board)),W?de?de.p(le,se):(de=Nf(le),de.c(),de.m(D,V)):de&&(de.d(1),de=null),le[1].security==0||le[0].a?ae?ae.p(le,se):(ae=Mf(le),ae.c(),ae.m(D,null)):ae&&(ae.d(1),ae=null),le[1].security==0||le[0].a?ve?ve.p(le,se):(ve=Af(le),ve.c(),ve.m(e,null)):ve&&(ve.d(1),ve=null);const we={};se&16&&(we.active=le[4]),te.$set(we);const Ee={};se&128&&(Ee.active=le[7]),x.$set(Ee)},i(le){B||(M(d.$$.fragment,le),M(G),M(te.$$.fragment,le),M(x.$$.fragment,le),B=!0)},o(le){A(d.$$.fragment,le),A(G),A(te.$$.fragment,le),A(x.$$.fragment,le),B=!1},d(le){le&&k(e),X(d),G&&G.d(),_e&&_e.d(),ge&&ge.d(),me&&me.d(),de&&de.d(),ae&&ae.d(),ve&&ve.d(),le&&k(j),X(te,le),le&&k(ie),X(x,le)}}}function n0(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price API",key:"is"}],r={};em.subscribe(L=>{r=Kp(i.version,L),r||(r=L[0])});let a,c=[],f=!1,_,p=[],d=!1;co();function v(L){ds[L?"unshift":"push"](()=>{a=L,l(2,a)})}function h(){c=this.files,l(3,c)}const g=()=>{a.click()},y=()=>l(4,f=!0);function S(L){ds[L?"unshift":"push"](()=>{_=L,l(5,_)})}function T(){p=this.files,l(6,p)}const $=()=>{_.click()},P=()=>l(7,d=!0);return t.$$set=L=>{"data"in L&&l(0,n=L.data),"sysinfo"in L&&l(1,i=L.sysinfo)},[n,i,a,c,f,_,p,d,s,v,h,g,y,S,T,$,P]}class i0 extends $e{constructor(e){super(),Ce(this,e,n0,l0,ye,{data:0,sysinfo:1})}}function If(t){let e,l,n=pe(t[0],7)+"",i,s,r=pe(t[0],5)+"",a,c,f=pe(t[0],4)+"",_,p,d=pe(t[0],3)+"",v,h,g,y,S=pe(t[0],2)+"",T,$,P=pe(t[0],1)+"",L,D,I=pe(t[0],0)+"",E,Z,R,U,O=pe(t[0],101)+"",Y,q,W=pe(t[0],100)+"",V;return{c(){e=m("optgroup"),l=m("option"),i=C(n),s=m("option"),a=C(r),c=m("option"),_=C(f),p=m("option"),v=C(d),h=b(),g=m("optgroup"),y=m("option"),T=C(S),$=m("option"),L=C(P),D=m("option"),E=C(I),Z=b(),R=m("optgroup"),U=m("option"),Y=C(O),q=m("option"),V=C(W),l.__value=7,l.value=l.__value,s.__value=5,s.value=s.__value,c.__value=4,c.value=c.__value,p.__value=3,p.value=p.__value,u(e,"label","amsleser.no"),y.__value=2,y.value=y.__value,$.__value=1,$.value=$.__value,D.__value=0,D.value=D.__value,u(g,"label","Custom hardware"),U.__value=101,U.value=U.__value,q.__value=100,q.value=q.__value,u(R,"label","Generic hardware")},m(F,j){w(F,e,j),o(e,l),o(l,i),o(e,s),o(s,a),o(e,c),o(c,_),o(e,p),o(p,v),w(F,h,j),w(F,g,j),o(g,y),o(y,T),o(g,$),o($,L),o(g,D),o(D,E),w(F,Z,j),w(F,R,j),o(R,U),o(U,Y),o(R,q),o(q,V)},p(F,j){j&1&&n!==(n=pe(F[0],7)+"")&&H(i,n),j&1&&r!==(r=pe(F[0],5)+"")&&H(a,r),j&1&&f!==(f=pe(F[0],4)+"")&&H(_,f),j&1&&d!==(d=pe(F[0],3)+"")&&H(v,d),j&1&&S!==(S=pe(F[0],2)+"")&&H(T,S),j&1&&P!==(P=pe(F[0],1)+"")&&H(L,P),j&1&&I!==(I=pe(F[0],0)+"")&&H(E,I),j&1&&O!==(O=pe(F[0],101)+"")&&H(Y,O),j&1&&W!==(W=pe(F[0],100)+"")&&H(V,W)},d(F){F&&k(e),F&&k(h),F&&k(g),F&&k(Z),F&&k(R)}}}function Ff(t){let e,l,n=pe(t[0],201)+"",i,s,r=pe(t[0],202)+"",a,c,f=pe(t[0],203)+"",_,p,d=pe(t[0],200)+"",v;return{c(){e=m("optgroup"),l=m("option"),i=C(n),s=m("option"),a=C(r),c=m("option"),_=C(f),p=m("option"),v=C(d),l.__value=201,l.value=l.__value,s.__value=202,s.value=s.__value,c.__value=203,c.value=c.__value,p.__value=200,p.value=p.__value,u(e,"label","Generic hardware")},m(h,g){w(h,e,g),o(e,l),o(l,i),o(e,s),o(s,a),o(e,c),o(c,_),o(e,p),o(p,v)},p(h,g){g&1&&n!==(n=pe(h[0],201)+"")&&H(i,n),g&1&&r!==(r=pe(h[0],202)+"")&&H(a,r),g&1&&f!==(f=pe(h[0],203)+"")&&H(_,f),g&1&&d!==(d=pe(h[0],200)+"")&&H(v,d)},d(h){h&&k(e)}}}function Rf(t){let e,l,n=pe(t[0],7)+"",i,s,r=pe(t[0],6)+"",a,c,f=pe(t[0],5)+"",_,p,d,v,h=pe(t[0],51)+"",g,y,S=pe(t[0],50)+"",T;return{c(){e=m("optgroup"),l=m("option"),i=C(n),s=m("option"),a=C(r),c=m("option"),_=C(f),p=b(),d=m("optgroup"),v=m("option"),g=C(h),y=m("option"),T=C(S),l.__value=7,l.value=l.__value,s.__value=6,s.value=s.__value,c.__value=5,c.value=c.__value,u(e,"label","amsleser.no"),v.__value=51,v.value=v.__value,y.__value=50,y.value=y.__value,u(d,"label","Generic hardware")},m($,P){w($,e,P),o(e,l),o(l,i),o(e,s),o(s,a),o(e,c),o(c,_),w($,p,P),w($,d,P),o(d,v),o(v,g),o(d,y),o(y,T)},p($,P){P&1&&n!==(n=pe($[0],7)+"")&&H(i,n),P&1&&r!==(r=pe($[0],6)+"")&&H(a,r),P&1&&f!==(f=pe($[0],5)+"")&&H(_,f),P&1&&h!==(h=pe($[0],51)+"")&&H(g,h),P&1&&S!==(S=pe($[0],50)+"")&&H(T,S)},d($){$&&k(e),$&&k(p),$&&k(d)}}}function Lf(t){let e,l,n=pe(t[0],8)+"",i,s,r,a,c=pe(t[0],71)+"",f,_,p=pe(t[0],70)+"",d;return{c(){e=m("optgroup"),l=m("option"),i=C(n),s=b(),r=m("optgroup"),a=m("option"),f=C(c),_=m("option"),d=C(p),l.__value=8,l.value=l.__value,u(e,"label","Custom hardware"),a.__value=71,a.value=a.__value,_.__value=70,_.value=_.__value,u(r,"label","Generic hardware")},m(v,h){w(v,e,h),o(e,l),o(l,i),w(v,s,h),w(v,r,h),o(r,a),o(a,f),o(r,_),o(_,d)},p(v,h){h&1&&n!==(n=pe(v[0],8)+"")&&H(i,n),h&1&&c!==(c=pe(v[0],71)+"")&&H(f,c),h&1&&p!==(p=pe(v[0],70)+"")&&H(d,p)},d(v){v&&k(e),v&&k(s),v&&k(r)}}}function qf(t){let e,l,n=pe(t[0],200)+"",i;return{c(){e=m("optgroup"),l=m("option"),i=C(n),l.__value=200,l.value=l.__value,u(e,"label","Generic hardware")},m(s,r){w(s,e,r),o(e,l),o(l,i)},p(s,r){r&1&&n!==(n=pe(s[0],200)+"")&&H(i,n)},d(s){s&&k(e)}}}function s0(t){let e,l,n,i,s,r,a,c=t[0]=="esp8266"&&If(t),f=t[0]=="esp32"&&Ff(t),_=t[0]=="esp32s2"&&Rf(t),p=t[0]=="esp32c3"&&Lf(t),d=t[0]=="esp32solo"&&qf(t);return{c(){e=m("option"),l=b(),c&&c.c(),n=b(),f&&f.c(),i=b(),_&&_.c(),s=b(),p&&p.c(),r=b(),d&&d.c(),a=Me(),e.__value=-1,e.value=e.__value},m(v,h){w(v,e,h),w(v,l,h),c&&c.m(v,h),w(v,n,h),f&&f.m(v,h),w(v,i,h),_&&_.m(v,h),w(v,s,h),p&&p.m(v,h),w(v,r,h),d&&d.m(v,h),w(v,a,h)},p(v,[h]){v[0]=="esp8266"?c?c.p(v,h):(c=If(v),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),v[0]=="esp32"?f?f.p(v,h):(f=Ff(v),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),v[0]=="esp32s2"?_?_.p(v,h):(_=Rf(v),_.c(),_.m(s.parentNode,s)):_&&(_.d(1),_=null),v[0]=="esp32c3"?p?p.p(v,h):(p=Lf(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null),v[0]=="esp32solo"?d?d.p(v,h):(d=qf(v),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},i:oe,o:oe,d(v){v&&k(e),v&&k(l),c&&c.d(v),v&&k(n),f&&f.d(v),v&&k(i),_&&_.d(v),v&&k(s),p&&p.d(v),v&&k(r),d&&d.d(v),v&&k(a)}}}function o0(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class u0 extends $e{constructor(e){super(),Ce(this,e,o0,s0,ye,{chip:0})}}function Of(t){let e;return{c(){e=m("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",u(e,"class","bd-red")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Uf(t){let e,l,n,i,s,r,a;return r=new Dc({props:{chip:t[0].chip}}),{c(){e=m("div"),l=C("HAN GPIO"),n=m("br"),i=b(),s=m("select"),J(r.$$.fragment),u(s,"name","vh"),u(s,"class","in-s"),u(e,"class","my-3")},m(c,f){w(c,e,f),o(e,l),o(e,n),o(e,i),o(e,s),Q(r,s,null),a=!0},p(c,f){const _={};f&1&&(_.chip=c[0].chip),r.$set(_)},i(c){a||(M(r.$$.fragment,c),a=!0)},o(c){A(r.$$.fragment,c),a=!1},d(c){c&&k(e),X(r)}}}function r0(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S,T,$,P,L,D,I,E,Z,R,U,O,Y,q=t[0].usrcfg&&Of();h=new u0({props:{chip:t[0].chip}});let W=t[0].board&&t[0].board>20&&Uf(t);return R=new It({props:{active:t[1],message:"Saving device configuration"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("input"),s=b(),r=m("strong"),r.textContent="Initial configuration",a=b(),q&&q.c(),c=b(),f=m("div"),_=C("Board type"),p=m("br"),d=b(),v=m("select"),J(h.$$.fragment),g=b(),W&&W.c(),y=b(),S=m("div"),T=m("label"),$=m("input"),P=C(" Clear all other configuration"),L=b(),D=m("div"),D.innerHTML='<button type="submit" class="btn-pri">Save</button>',I=b(),E=m("span"),E.textContent="\xA0",Z=b(),J(R.$$.fragment),u(i,"type","hidden"),u(i,"name","v"),i.value="true",u(r,"class","text-sm"),u(v,"name","vb"),u(v,"class","in-s"),t[0].board===void 0&&Ze(()=>t[4].call(v)),u(f,"class","my-3"),u($,"type","checkbox"),u($,"name","vr"),$.__value="true",$.value=$.__value,u($,"class","rounded mb-1"),u(S,"class","my-3"),u(D,"class","my-3"),u(E,"class","clear-both"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(V,F){w(V,e,F),o(e,l),o(l,n),o(n,i),o(n,s),o(n,r),o(n,a),q&&q.m(n,null),o(n,c),o(n,f),o(f,_),o(f,p),o(f,d),o(f,v),Q(h,v,null),Ne(v,t[0].board),o(n,g),W&&W.m(n,null),o(n,y),o(n,S),o(S,T),o(T,$),$.checked=t[2],o(T,P),o(n,L),o(n,D),o(n,I),o(n,E),w(V,Z,F),Q(R,V,F),U=!0,O||(Y=[K(v,"change",t[4]),K($,"change",t[5]),K(n,"submit",oo(t[3]))],O=!0)},p(V,[F]){V[0].usrcfg?q||(q=Of(),q.c(),q.m(n,c)):q&&(q.d(1),q=null);const j={};F&1&&(j.chip=V[0].chip),h.$set(j),F&1&&Ne(v,V[0].board),V[0].board&&V[0].board>20?W?(W.p(V,F),F&1&&M(W,1)):(W=Uf(V),W.c(),M(W,1),W.m(n,y)):W&&(Te(),A(W,1,1,()=>{W=null}),Se()),F&4&&($.checked=V[2]);const te={};F&2&&(te.active=V[1]),R.$set(te)},i(V){U||(M(h.$$.fragment,V),M(W),M(R.$$.fragment,V),U=!0)},o(V){A(h.$$.fragment,V),A(W),A(R.$$.fragment,V),U=!1},d(V){V&&k(e),q&&q.d(),X(h),W&&W.d(),V&&k(Z),X(R,V),O=!1,je(Y)}}}function a0(t,e,l){let{sysinfo:n={}}=e,i=!1;async function s(f){l(1,i=!0);const _=new FormData(f.target),p=new URLSearchParams;for(let h of _){const[g,y]=h;p.append(g,y)}let v=await(await fetch("/save",{method:"POST",body:p})).json();l(1,i=!1),Il.update(h=>(h.vndcfg=v.success,h.booting=v.reboot,h)),hs(n.usrcfg?"/":"/setup")}let r=!1;function a(){n.board=mt(this),l(0,n)}function c(){r=this.checked,l(2,r),l(0,n)}return t.$$set=f=>{"sysinfo"in f&&l(0,n=f.sysinfo)},t.$$.update=()=>{t.$$.dirty&1&&l(2,r=!n.usrcfg)},[n,i,r,s,a,c]}class f0 extends $e{constructor(e){super(),Ce(this,e,a0,r0,ye,{sysinfo:0})}}function Hf(t){let e,l,n,i,s,r,a,c;return a=new Ec({}),{c(){e=m("br"),l=b(),n=m("div"),i=m("input"),s=b(),r=m("select"),J(a.$$.fragment),u(i,"name","si"),u(i,"type","text"),u(i,"class","in-f w-full"),i.required=t[1],u(r,"name","su"),u(r,"class","in-l"),r.required=t[1],u(n,"class","flex")},m(f,_){w(f,e,_),w(f,l,_),w(f,n,_),o(n,i),o(n,s),o(n,r),Q(a,r,null),c=!0},p(f,_){(!c||_&2)&&(i.required=f[1]),(!c||_&2)&&(r.required=f[1])},i(f){c||(M(a.$$.fragment,f),c=!0)},o(f){A(a.$$.fragment,f),c=!1},d(f){f&&k(e),f&&k(l),f&&k(n),X(a)}}}function jf(t){let e;return{c(){e=m("div"),e.innerHTML=`<div>Gateway<br/> 
                    <input name="sg" type="text" class="in-f w-full"/></div> 
                <div>DNS<br/> 
                    <input name="sd" type="text" class="in-l w-full"/></div>`,u(e,"class","my-3 flex")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function c0(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S,T,$,P,L,D,I,E,Z,R,U,O,Y=t[1]&&Hf(t),q=t[1]&&jf();return Z=new It({props:{active:t[2],message:"Saving your configuration to the device"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("input"),s=b(),r=m("strong"),r.textContent="Setup",a=b(),c=m("div"),c.innerHTML=`SSID<br/> 
                <input name="ss" type="text" class="in-s" required=""/>`,f=b(),_=m("div"),_.innerHTML=`PSK<br/> 
                <input name="sp" type="password" class="in-s" autocomplete="off"/>`,p=b(),d=m("div"),v=C(`Hostname
                `),h=m("input"),g=b(),y=m("div"),S=m("label"),T=m("input"),$=C(" Static IP"),P=b(),Y&&Y.c(),L=b(),q&&q.c(),D=b(),I=m("div"),I.innerHTML='<button type="submit" class="btn-pri">Save</button>',E=b(),J(Z.$$.fragment),u(i,"type","hidden"),u(i,"name","s"),i.value="true",u(r,"class","text-sm"),u(c,"class","my-3"),u(_,"class","my-3"),u(h,"name","sh"),u(h,"type","text"),u(h,"class","in-s"),u(h,"maxlength","32"),u(h,"pattern","[a-z0-9_-]+"),u(h,"placeholder","Optional, ex.: ams-reader"),u(h,"autocomplete","off"),u(T,"type","checkbox"),u(T,"name","sm"),T.__value="static",T.value=T.__value,u(T,"class","rounded mb-1"),u(y,"class","my-3"),u(I,"class","my-3"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(W,V){w(W,e,V),o(e,l),o(l,n),o(n,i),o(n,s),o(n,r),o(n,a),o(n,c),o(n,f),o(n,_),o(n,p),o(n,d),o(d,v),o(d,h),z(h,t[0].hostname),o(n,g),o(n,y),o(y,S),o(S,T),T.checked=t[1],o(S,$),o(y,P),Y&&Y.m(y,null),o(n,L),q&&q.m(n,null),o(n,D),o(n,I),w(W,E,V),Q(Z,W,V),R=!0,U||(O=[K(h,"input",t[4]),K(T,"change",t[5]),K(n,"submit",oo(t[3]))],U=!0)},p(W,[V]){V&1&&h.value!==W[0].hostname&&z(h,W[0].hostname),V&2&&(T.checked=W[1]),W[1]?Y?(Y.p(W,V),V&2&&M(Y,1)):(Y=Hf(W),Y.c(),M(Y,1),Y.m(y,null)):Y&&(Te(),A(Y,1,1,()=>{Y=null}),Se()),W[1]?q||(q=jf(),q.c(),q.m(n,D)):q&&(q.d(1),q=null);const F={};V&4&&(F.active=W[2]),Z.$set(F)},i(W){R||(M(Y),M(Z.$$.fragment,W),R=!0)},o(W){A(Y),A(Z.$$.fragment,W),R=!1},d(W){W&&k(e),Y&&Y.d(),q&&q.d(),W&&k(E),X(Z,W),U=!1,je(O)}}}function m0(t,e,l){let{sysinfo:n={}}=e,i=!1,s=!1,r=0;function a(){var p="";r++;var d=function(){setTimeout(a,1e3)};if(n.net.ip&&r%3==0){if(!n.net.ip){d();return}p="http://"+n.net.ip}else n.hostname&&r%3==1?p="http://"+n.hostname:n.hostname&&r%3==2?p="http://"+n.hostname+".local":p="";console&&console.log("Trying url "+p),Il.update(h=>(h.trying=p,h));var v=new XMLHttpRequest;v.timeout=5e3,v.addEventListener("abort",d),v.addEventListener("error",d),v.addEventListener("timeout",d),v.addEventListener("load",function(h){window.location.href=p||"/"}),v.open("GET",p+"/is-alive",!0),v.send()}async function c(p){l(2,s=!0);const d=new FormData(p.target),v=new URLSearchParams;for(let y of d){const[S,T]=y;v.append(S,T)}let g=await(await fetch("/save",{method:"POST",body:v})).json();l(2,s=!1),Il.update(y=>(y.hostname=d.get("sh"),y.usrcfg=g.success,y.booting=g.reboot,i&&(y.net.ip=d.get("si"),y.net.mask=d.get("su"),y.net.gw=d.get("sg"),y.net.dns1=d.get("sd")),setTimeout(a,5e3),y))}function f(){n.hostname=this.value,l(0,n)}function _(){i=this.checked,l(1,i)}return t.$$set=p=>{"sysinfo"in p&&l(0,n=p.sysinfo)},[n,i,s,c,f,_]}class p0 extends $e{constructor(e){super(),Ce(this,e,m0,c0,ye,{sysinfo:0})}}function _0(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S;return h=new It({props:{active:t[2],message:"Uploading file, please wait"}}),{c(){e=m("div"),l=m("div"),n=m("strong"),i=C("Upload "),s=C(t[1]),r=b(),a=m("p"),a.textContent="Select a suitable file and click upload",c=b(),f=m("form"),_=m("input"),p=b(),d=m("div"),d.innerHTML='<button type="submit" class="btn-pri">Upload</button>',v=b(),J(h.$$.fragment),u(a,"class","mb-4"),u(_,"name","file"),u(_,"type","file"),u(d,"class","w-full text-right mt-4"),u(f,"action",t[0]),u(f,"enctype","multipart/form-data"),u(f,"method","post"),u(f,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(T,$){w(T,e,$),o(e,l),o(l,n),o(n,i),o(n,s),o(l,r),o(l,a),o(l,c),o(l,f),o(f,_),o(f,p),o(f,d),w(T,v,$),Q(h,T,$),g=!0,y||(S=K(f,"submit",t[3]),y=!0)},p(T,[$]){(!g||$&2)&&H(s,T[1]),(!g||$&1)&&u(f,"action",T[0]);const P={};$&4&&(P.active=T[2]),h.$set(P)},i(T){g||(M(h.$$.fragment,T),g=!0)},o(T){A(h.$$.fragment,T),g=!1},d(T){T&&k(e),T&&k(v),X(h,T),y=!1,S()}}}function d0(t,e,l){let{action:n}=e,{title:i}=e,s=!1;const r=()=>l(2,s=!0);return t.$$set=a=>{"action"in a&&l(0,n=a.action),"title"in a&&l(1,i=a.title)},[n,i,s,r]}class vo extends $e{constructor(e){super(),Ce(this,e,d0,_0,ye,{action:0,title:1})}}function v0(t){let e,l;return e=new gp({props:{data:t[1],sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.data=n[1]),i&1&&(s.sysinfo=n[0]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function h0(t){let e,l;return e=new Vp({props:{sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.sysinfo=n[0]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function b0(t){let e,l;return e=new i0({props:{sysinfo:t[0],data:t[1]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.sysinfo=n[0]),i&2&&(s.data=n[1]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function g0(t){let e,l;return e=new vo({props:{title:"CA",action:"/mqtt-ca"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:oe,i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function k0(t){let e,l;return e=new vo({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:oe,i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function w0(t){let e,l;return e=new vo({props:{title:"private key",action:"/mqtt-key"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:oe,i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function y0(t){let e,l;return e=new p0({props:{sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.sysinfo=n[0]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function C0(t){let e,l;return e=new f0({props:{sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.sysinfo=n[0]),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function $0(t){let e,l,n,i,s,r,a,c,f,_,p,d,v,h,g,y,S,T;return e=new Nm({props:{data:t[1]}}),n=new Ml({props:{path:"/",$$slots:{default:[v0]},$$scope:{ctx:t}}}),s=new Ml({props:{path:"/configuration",$$slots:{default:[h0]},$$scope:{ctx:t}}}),a=new Ml({props:{path:"/status",$$slots:{default:[b0]},$$scope:{ctx:t}}}),f=new Ml({props:{path:"/mqtt-ca",$$slots:{default:[g0]},$$scope:{ctx:t}}}),p=new Ml({props:{path:"/mqtt-cert",$$slots:{default:[k0]},$$scope:{ctx:t}}}),v=new Ml({props:{path:"/mqtt-key",$$slots:{default:[w0]},$$scope:{ctx:t}}}),g=new Ml({props:{path:"/setup",$$slots:{default:[y0]},$$scope:{ctx:t}}}),S=new Ml({props:{path:"/vendor",$$slots:{default:[C0]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),l=b(),J(n.$$.fragment),i=b(),J(s.$$.fragment),r=b(),J(a.$$.fragment),c=b(),J(f.$$.fragment),_=b(),J(p.$$.fragment),d=b(),J(v.$$.fragment),h=b(),J(g.$$.fragment),y=b(),J(S.$$.fragment)},m($,P){Q(e,$,P),w($,l,P),Q(n,$,P),w($,i,P),Q(s,$,P),w($,r,P),Q(a,$,P),w($,c,P),Q(f,$,P),w($,_,P),Q(p,$,P),w($,d,P),Q(v,$,P),w($,h,P),Q(g,$,P),w($,y,P),Q(S,$,P),T=!0},p($,P){const L={};P&2&&(L.data=$[1]),e.$set(L);const D={};P&7&&(D.$$scope={dirty:P,ctx:$}),n.$set(D);const I={};P&5&&(I.$$scope={dirty:P,ctx:$}),s.$set(I);const E={};P&7&&(E.$$scope={dirty:P,ctx:$}),a.$set(E);const Z={};P&4&&(Z.$$scope={dirty:P,ctx:$}),f.$set(Z);const R={};P&4&&(R.$$scope={dirty:P,ctx:$}),p.$set(R);const U={};P&4&&(U.$$scope={dirty:P,ctx:$}),v.$set(U);const O={};P&5&&(O.$$scope={dirty:P,ctx:$}),g.$set(O);const Y={};P&5&&(Y.$$scope={dirty:P,ctx:$}),S.$set(Y)},i($){T||(M(e.$$.fragment,$),M(n.$$.fragment,$),M(s.$$.fragment,$),M(a.$$.fragment,$),M(f.$$.fragment,$),M(p.$$.fragment,$),M(v.$$.fragment,$),M(g.$$.fragment,$),M(S.$$.fragment,$),T=!0)},o($){A(e.$$.fragment,$),A(n.$$.fragment,$),A(s.$$.fragment,$),A(a.$$.fragment,$),A(f.$$.fragment,$),A(p.$$.fragment,$),A(v.$$.fragment,$),A(g.$$.fragment,$),A(S.$$.fragment,$),T=!1},d($){X(e,$),$&&k(l),X(n,$),$&&k(i),X(s,$),$&&k(r),X(a,$),$&&k(c),X(f,$),$&&k(_),X(p,$),$&&k(d),X(v,$),$&&k(h),X(g,$),$&&k(y),X(S,$)}}}function T0(t){let e,l,n,i;const s=[N0,P0],r=[];function a(c,f){return c[0].trying?0:1}return e=a(t),l=r[e]=s[e](t),{c(){l.c(),n=Me()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let _=e;e=a(c),e===_?r[e].p(c,f):(Te(),A(r[_],1,1,()=>{r[_]=null}),Se(),l=r[e],l?l.p(c,f):(l=r[e]=s[e](c),l.c()),M(l,1),l.m(n.parentNode,n))},i(c){i||(M(l),i=!0)},o(c){A(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function S0(t){let e,l;return e=new It({props:{active:"true",message:"Device is upgrading, please wait"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:oe,i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function P0(t){let e,l;return e=new It({props:{active:"true",message:"Device is booting, please wait"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:oe,i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function N0(t){let e,l;return e=new It({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[0].trying}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.message="Device is booting, please wait. Trying to reach it on "+n[0].trying),e.$set(s)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function M0(t){let e,l,n,i,s,r;l=new _c({props:{$$slots:{default:[$0]},$$scope:{ctx:t}}});const a=[S0,T0],c=[];function f(_,p){return _[0].upgrading?0:_[0].booting?1:-1}return~(i=f(t))&&(s=c[i]=a[i](t)),{c(){e=m("div"),J(l.$$.fragment),n=b(),s&&s.c(),u(e,"class","container mx-auto m-3")},m(_,p){w(_,e,p),Q(l,e,null),o(e,n),~i&&c[i].m(e,null),r=!0},p(_,[p]){const d={};p&7&&(d.$$scope={dirty:p,ctx:_}),l.$set(d);let v=i;i=f(_),i===v?~i&&c[i].p(_,p):(s&&(Te(),A(c[v],1,1,()=>{c[v]=null}),Se()),~i?(s=c[i],s?s.p(_,p):(s=c[i]=a[i](_),s.c()),M(s,1),s.m(e,null)):s=null)},i(_){r||(M(l.$$.fragment,_),M(s),r=!0)},o(_){A(l.$$.fragment,_),A(s),r=!1},d(_){_&&k(e),X(l),~i&&c[i].d()}}}function A0(t,e,l){let n={};Il.subscribe(s=>{l(0,n=s),n.vndcfg===!1?hs("/vendor"):n.usrcfg===!1&&hs("/setup")}),co();let i={};return Z1.subscribe(s=>{l(1,i=s)}),[n,i]}class D0 extends $e{constructor(e){super(),Ce(this,e,A0,M0,ye,{})}}new D0({target:document.getElementById("app")});
