(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=l(i);fetch(i.href,o)}})();function ie(){}function Xt(t,e){for(const l in e)t[l]=e[l];return t}function Kf(t){return t()}function Sr(){return Object.create(null)}function Ve(t){t.forEach(Kf)}function Qf(t){return typeof t=="function"}function ke(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let uo;function Bc(t,e){return uo||(uo=document.createElement("a")),uo.href=e,t===uo.href}function Yc(t){return Object.keys(t).length===0}function os(t,...e){if(t==null)return ie;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ni(t){let e;return os(t,l=>e=l)(),e}function il(t,e,l){t.$$.on_destroy.push(os(e,l))}function ss(t,e,l,n){if(t){const i=Xf(t,e,l,n);return t[0](i)}}function Xf(t,e,l,n){return t[1]&&n?Xt(l.ctx.slice(),t[1](n(e))):l.ctx}function us(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],r=Math.max(e.dirty.length,i.length);for(let a=0;a<r;a+=1)o[a]=e.dirty[a]|i[a];return o}return e.dirty|i}return e.dirty}function rs(t,e,l,n,i,o){if(i){const r=Xf(e,l,n,o);t.p(r,i)}}function as(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function _o(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function vo(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function s(t,e){t.appendChild(e)}function w(t,e,l){t.insertBefore(e,l||null)}function k(t){t.parentNode.removeChild(t)}function ul(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function m(t){return document.createElement(t)}function Ae(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function b(){return y(" ")}function Ee(){return y("")}function V(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function wo(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function ol(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set?t[n]=e[n]:u(t,n,e[n])}function fe(t){return t===""?null:+t}function zc(t){return Array.from(t.childNodes)}function j(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e){t.value=e==null?"":e}function Zf(t,e,l,n){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function Oe(t,e){for(let l=0;l<t.options.length;l+=1){const n=t.options[l];if(n.__value===e){n.selected=!0;return}}t.selectedIndex=-1}function mt(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let ro;function Vc(){if(ro===void 0){ro=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ro=!0}}return ro}function Kc(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=m("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Vc();let o;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=V(window,"message",r=>{r.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{o=V(n.contentWindow,"resize",e)}),s(t,n),()=>{(i||o&&n.contentWindow)&&o(),k(n)}}function Qc(t,e,{bubbles:l=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,l,n,e),i}let ki;function hi(t){ki=t}function wi(){if(!ki)throw new Error("Function called outside component initialization");return ki}function Xc(t){wi().$$.on_mount.push(t)}function Zc(t){wi().$$.on_destroy.push(t)}function Jc(){const t=wi();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=Qc(e,l,{cancelable:n});return i.slice().forEach(r=>{r.call(t,o)}),!o.defaultPrevented}return!0}}function bi(t,e){return wi().$$.context.set(t,e),e}function Fl(t){return wi().$$.context.get(t)}const di=[],ho=[],mo=[],Pr=[],Jf=Promise.resolve();let zo=!1;function xf(){zo||(zo=!0,Jf.then(ec))}function xc(){return xf(),Jf}function tt(t){mo.push(t)}const jo=new Set;let ao=0;function ec(){const t=ki;do{for(;ao<di.length;){const e=di[ao];ao++,hi(e),e1(e.$$)}for(hi(null),di.length=0,ao=0;ho.length;)ho.pop()();for(let e=0;e<mo.length;e+=1){const l=mo[e];jo.has(l)||(jo.add(l),l())}mo.length=0}while(di.length);for(;Pr.length;)Pr.pop()();zo=!1,jo.clear(),hi(t)}function e1(t){if(t.fragment!==null){t.update(),Ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}const po=new Set;let tn;function Ce(){tn={r:0,c:[],p:tn}}function Te(){tn.r||Ve(tn.c),tn=tn.p}function P(t,e){t&&t.i&&(po.delete(t),t.i(e))}function D(t,e,l,n){if(t&&t.o){if(po.has(t))return;po.add(t),tn.c.push(()=>{po.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function ii(t,e){const l={},n={},i={$$scope:1};let o=t.length;for(;o--;){const r=t[o],a=e[o];if(a){for(const c in r)c in a||(n[c]=1);for(const c in a)i[c]||(l[c]=a[c],i[c]=1);t[o]=a}else for(const c in r)i[c]=1}for(const r in n)r in l||(l[r]=void 0);return l}function Mr(t){return typeof t=="object"&&t!==null?t:{}}function J(t){t&&t.c()}function K(t,e,l,n){const{fragment:i,on_mount:o,on_destroy:r,after_update:a}=t.$$;i&&i.m(e,l),n||tt(()=>{const c=o.map(Kf).filter(Qf);r?r.push(...c):Ve(c),t.$$.on_mount=[]}),a.forEach(tt)}function Q(t,e){const l=t.$$;l.fragment!==null&&(Ve(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function t1(t,e){t.$$.dirty[0]===-1&&(di.push(t),xf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function we(t,e,l,n,i,o,r,a=[-1]){const c=ki;hi(t);const f=t.$$={fragment:null,ctx:null,props:o,update:ie,not_equal:i,bound:Sr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Sr(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};r&&r(f.root);let _=!1;if(f.ctx=l?l(t,e.props||{},(p,d,...v)=>{const h=v.length?v[0]:d;return f.ctx&&i(f.ctx[p],f.ctx[p]=h)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](h),_&&t1(t,p)),d}):[],f.update(),_=!0,Ve(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const p=zc(e.target);f.fragment&&f.fragment.l(p),p.forEach(k)}else f.fragment&&f.fragment.c();e.intro&&P(t.$$.fragment),K(t,e.target,e.anchor,e.customElement),ec()}hi(c)}class ye{$destroy(){Q(this,1),this.$destroy=ie}$on(e,l){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Yc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Nr=t=>typeof t>"u",tc=t=>typeof t=="function",lc=t=>typeof t=="number";function l1(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nc(){let t=0;return()=>t++}function n1(){return Math.random().toString(36).substring(2)}const Rl=typeof window>"u";function ic(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const Vo=(t,e)=>t?{}:{style:e},ei=t=>({"aria-hidden":"true",...Vo(t,"display:none;")}),xn=[];function oc(t,e){return{subscribe:lt(t,e).subscribe}}function lt(t,e=ie){let l;const n=new Set;function i(a){if(ke(t,a)&&(t=a,l)){const c=!xn.length;for(const f of n)f[1](),xn.push(f,t);if(c){for(let f=0;f<xn.length;f+=2)xn[f][0](xn[f+1]);xn.length=0}}}function o(a){i(a(t))}function r(a,c=ie){const f=[a,c];return n.add(f),n.size===1&&(l=e(i)||ie),a(t),()=>{n.delete(f),n.size===0&&(l(),l=null)}}return{set:i,update:o,subscribe:r}}function i1(t,e,l){const n=!Array.isArray(t),i=n?[t]:t,o=e.length<2;return oc(l,r=>{let a=!1;const c=[];let f=0,_=ie;const p=()=>{if(f)return;_();const v=e(n?c[0]:c,r);o?r(v):_=Qf(v)?v:ie},d=i.map((v,h)=>os(v,g=>{c[h]=g,f&=~(1<<h),a&&p()},()=>{f|=1<<h}));return a=!0,p(),function(){Ve(d),_()}})}const yi=t=>`@@svnav-ctx__${t}`,Ko=yi("LOCATION"),oi=yi("ROUTER"),sc=yi("ROUTE"),o1=yi("ROUTE_PARAMS"),s1=yi("FOCUS_ELEM"),uc=/^:(.+)/,vi=(t,e,l)=>t.substr(e,l),Qo=(t,e)=>vi(t,0,e.length)===e,u1=t=>t==="",r1=t=>uc.test(t),rc=t=>t[0]==="*",a1=t=>t.replace(/\*.*$/,""),ac=t=>t.replace(/(^\/+|\/+$)/g,"");function rl(t,e=!1){const l=ac(t).split("/");return e?l.filter(Boolean):l}const Ho=(t,e)=>t+(e?`?${e}`:""),fs=t=>`/${ac(t)}`;function $i(...t){const e=n=>rl(n,!0).join("/"),l=t.map(e).join("/");return fs(l)}const cs=1,yo=2,sn=3,f1=4,fc=5,c1=6,cc=7,m1=8,p1=9,mc=10,pc=11,_1={[cs]:"Link",[yo]:"Route",[sn]:"Router",[f1]:"useFocus",[fc]:"useLocation",[c1]:"useMatch",[cc]:"useNavigate",[m1]:"useParams",[p1]:"useResolvable",[mc]:"useResolve",[pc]:"navigate"},ms=t=>_1[t];function d1(t,e){let l;return t===yo?l=e.path?`path="${e.path}"`:"default":t===cs?l=`to="${e.to}"`:t===sn&&(l=`basepath="${e.basepath||""}"`),`<${ms(t)} ${l||""} />`}function v1(t,e,l,n){const i=l&&d1(n||t,l),o=i?`

Occurred in: ${i}`:"",r=ms(t),a=tc(e)?e(r):e;return`<${r}> ${a}${o}`}const _c=t=>(...e)=>t(v1(...e)),dc=_c(t=>{throw new Error(t)}),bo=_c(console.warn),Ar=4,h1=3,b1=2,g1=1,k1=1;function w1(t,e){const l=t.default?0:rl(t.fullPath).reduce((n,i)=>{let o=n;return o+=Ar,u1(i)?o+=k1:r1(i)?o+=b1:rc(i)?o-=Ar+g1:o+=h1,o},0);return{route:t,score:l,index:e}}function y1(t){return t.map(w1).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function vc(t,e){let l,n;const[i]=e.split("?"),o=rl(i),r=o[0]==="",a=y1(t);for(let c=0,f=a.length;c<f;c++){const{route:_}=a[c];let p=!1;const d={},v=C=>({..._,params:d,uri:C});if(_.default){n=v(e);continue}const h=rl(_.fullPath),g=Math.max(o.length,h.length);let $=0;for(;$<g;$++){const C=h[$],T=o[$];if(!Nr(C)&&rc(C)){const I=C==="*"?"*":C.slice(1);d[I]=o.slice($).map(decodeURIComponent).join("/");break}if(Nr(T)){p=!0;break}const M=uc.exec(C);if(M&&!r){const I=decodeURIComponent(T);d[M[1]]=I}else if(C!==T){p=!0;break}}if(!p){l=v($i(...o.slice(0,$)));break}}return l||n||null}function hc(t,e){return vc([t],e)}function $1(t,e){if(Qo(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),o=rl(l),r=rl(i);if(o[0]==="")return Ho(i,n);if(!Qo(o[0],".")){const f=r.concat(o).join("/");return Ho((i==="/"?"":"/")+f,n)}const a=r.concat(o),c=[];return a.forEach(f=>{f===".."?c.pop():f!=="."&&c.push(f)}),Ho(`/${c.join("/")}`,n)}function Dr(t,e){const{pathname:l,hash:n="",search:i="",state:o}=t,r=rl(e,!0),a=rl(l,!0);for(;r.length;)r[0]!==a[0]&&dc(sn,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),r.shift(),a.shift();return{pathname:$i(...a),hash:n,search:i,state:o}}const Ir=t=>t.length===1?"":t,ps=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,o=i?Ir(vi(t,l)):"",r=i?vi(t,0,l):t,a=n?Ir(vi(r,e)):"";return{pathname:(n?vi(r,0,e):r)||"/",search:a,hash:o}},C1=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function T1(t,e,l){return $i(l,$1(t,e))}function S1(t,e){const l=fs(a1(t)),n=rl(l,!0),i=rl(e,!0).slice(0,n.length),o=hc({fullPath:l},$i(...i));return o&&o.uri}const Wo="POP",P1="PUSH",M1="REPLACE";function Go(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function N1(t){let e=[],l=Go(t),n=Wo;const i=(o=e)=>o.forEach(r=>r({location:l,action:n}));return{get location(){return l},listen(o){e.push(o);const r=()=>{l=Go(t),n=Wo,i([o])};i([o]);const a=ic(t,"popstate",r);return()=>{a(),e=e.filter(c=>c!==o)}},navigate(o,r){const{state:a={},replace:c=!1}=r||{};if(n=c?M1:P1,lc(o))r&&bo(pc,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Wo,t.history.go(o);else{const f={...a,_key:n1()};try{t.history[c?"replaceState":"pushState"](f,"",o)}catch{t.location[c?"replace":"assign"](o)}}l=Go(t),i()}}}function Bo(t,e){return{...ps(e),state:t}}function A1(t="/"){let e=0,l=[Bo(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,o){e++,l=l.slice(0,e),l.push(Bo(n,o))},replaceState(n,i,o){l[e]=Bo(n,o)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const D1=!!(!Rl&&window.document&&window.document.createElement),I1=!Rl&&window.location.origin==="null",bc=N1(D1&&!I1?window:A1()),{navigate:ti}=bc;let yl=null,gc=!0;function E1(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],o=Number(i.dataset.svnavRouter);if(o===t)return!0;if(o===e)return!1}return!1}function F1(t){(!yl||t.level>yl.level||t.level===yl.level&&E1(t.routerId,yl.routerId))&&(yl=t)}function R1(){yl=null}function L1(){gc=!1}function Er(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=ic(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function O1(t,e){return Number(t.dataset.svnavRouteEnd)===e}function U1(t){return/^H[1-6]$/i.test(t.tagName)}function Fr(t,e=document){return e.querySelector(t)}function q1(t){let l=Fr(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!O1(l,t);){if(U1(l))return l;const n=Fr("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function j1(t){Promise.resolve(ni(t.focusElement)).then(e=>{const l=e||q1(t.id);l||bo(sn,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,yo),!Er(l)&&Er(document.documentElement)})}const H1=(t,e,l)=>(n,i)=>xc().then(()=>{if(!yl||gc){L1();return}if(n&&j1(yl.route),t.announcements&&i){const{path:o,fullPath:r,meta:a,params:c,uri:f}=yl.route,_=t.createAnnouncement({path:o,fullPath:r,meta:a,params:c,uri:f},ni(l));Promise.resolve(_).then(p=>{e.set(p)})}R1()}),Rr="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function W1(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Vo(t[6],Rr)],i={};for(let o=0;o<n.length;o+=1)i=Xt(i,n[o]);return{c(){e=m("div"),l=y(t[0]),ol(e,i)},m(o,r){w(o,e,r),s(e,l)},p(o,r){r[0]&1&&j(l,o[0]),ol(e,i=ii(n,[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Vo(o[6],Rr)]))},d(o){o&&k(e)}}}function G1(t){let e,l,n,i,o,r=[ei(t[6]),{"data-svnav-router":t[3]}],a={};for(let p=0;p<r.length;p+=1)a=Xt(a,r[p]);const c=t[22].default,f=ss(c,t,t[21],null);let _=t[2]&&t[4]&&t[1].announcements&&W1(t);return{c(){e=m("div"),l=b(),f&&f.c(),n=b(),_&&_.c(),i=Ee(),ol(e,a)},m(p,d){w(p,e,d),w(p,l,d),f&&f.m(p,d),w(p,n,d),_&&_.m(p,d),w(p,i,d),o=!0},p(p,d){ol(e,a=ii(r,[ei(p[6]),{"data-svnav-router":p[3]}])),f&&f.p&&(!o||d[0]&2097152)&&rs(f,c,p,p[21],o?us(c,p[21],d,null):as(p[21]),null),p[2]&&p[4]&&p[1].announcements&&_.p(p,d)},i(p){o||(P(f,p),o=!0)},o(p){D(f,p),o=!1},d(p){p&&k(e),p&&k(l),f&&f.d(p),p&&k(n),_&&_.d(p),p&&k(i)}}}const B1=nc(),Lr="/";function Y1(t,e,l){let n,i,o,r,a,{$$slots:c={},$$scope:f}=e,{basepath:_=Lr}=e,{url:p=null}=e,{history:d=bc}=e,{primary:v=!0}=e,{a11y:h={}}=e,{disableInlineStyles:g=!1}=e;const $={createAnnouncement:ee=>`Navigated to ${ee.uri}`,announcements:!0,...h},C=_,T=fs(_),M=Fl(Ko),I=Fl(oi),S=!M,A=B1(),E=v&&!(I&&!I.manageFocus),L=lt("");il(t,L,ee=>l(0,a=ee));const x=I?I.disableInlineStyles:g,O=lt([]);il(t,O,ee=>l(20,r=ee));const F=lt(null);il(t,F,ee=>l(18,i=ee));let q=!1;const B=S?0:I.level+1,H=S?lt((()=>Dr(Rl?ps(p):d.location,T))()):M;il(t,H,ee=>l(17,n=ee));const G=lt(n);il(t,G,ee=>l(19,o=ee));const R=H1($,L,H),W=ee=>Y=>Y.filter(X=>X.id!==ee);function te(ee){if(Rl){if(q)return;const Y=hc(ee,n.pathname);if(Y)return q=!0,Y}else O.update(Y=>{const X=W(ee.id)(Y);return X.push(ee),X})}function oe(ee){O.update(W(ee))}return!S&&_!==Lr&&bo(sn,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:_}),S&&(Xc(()=>d.listen(Y=>{const X=Dr(Y.location,T);G.set(n),H.set(X)})),bi(Ko,H)),bi(oi,{activeRoute:F,registerRoute:te,unregisterRoute:oe,manageFocus:E,level:B,id:A,history:S?d:I.history,basepath:S?T:I.basepath,disableInlineStyles:x}),t.$$set=ee=>{"basepath"in ee&&l(11,_=ee.basepath),"url"in ee&&l(12,p=ee.url),"history"in ee&&l(13,d=ee.history),"primary"in ee&&l(14,v=ee.primary),"a11y"in ee&&l(15,h=ee.a11y),"disableInlineStyles"in ee&&l(16,g=ee.disableInlineStyles),"$$scope"in ee&&l(21,f=ee.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&_!==C&&bo(sn,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const ee=vc(r,n.pathname);F.set(ee)}if(t.$$.dirty[0]&655360&&S){const ee=!!n.hash,Y=!ee&&E,X=!ee||n.pathname!==o.pathname;R(Y,X)}t.$$.dirty[0]&262144&&E&&i&&i.primary&&F1({level:B,routerId:A,route:i})},[a,$,S,A,E,L,x,O,F,H,G,_,p,d,v,h,g,n,i,o,r,f,c]}class kc extends ye{constructor(e){super(),we(this,e,Y1,G1,ke,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}function Ci(t,e,l=oi,n=sn){Fl(l)||dc(t,o=>`You cannot use ${o} outside of a ${ms(n)}.`,e)}const z1=t=>{const{subscribe:e}=Fl(t);return{subscribe:e}};function wc(){return Ci(fc),z1(Ko)}function yc(){const{history:t}=Fl(oi);return t}function $c(){const t=Fl(sc);return t?i1(t,e=>e.base):lt("/")}function Cc(){Ci(mc);const t=$c(),{basepath:e}=Fl(oi);return n=>T1(n,ni(t),e)}function V1(){Ci(cc);const t=Cc(),{navigate:e}=yc();return(n,i)=>{const o=lc(n)?n:t(n);return e(o,i)}}const K1=t=>({params:t&16,location:t&8}),Or=t=>({params:Rl?ni(t[10]):t[4],location:t[3],navigate:t[11]});function Ur(t){let e,l;return e=new kc({props:{primary:t[1],$$slots:{default:[Z1]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&2&&(o.primary=n[1]),i&528409&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Q1(t){let e;const l=t[18].default,n=ss(l,t,t[19],Or);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&524312)&&rs(n,l,i,i[19],e?us(l,i[19],o,K1):as(i[19]),Or)},i(i){e||(P(n,i),e=!0)},o(i){D(n,i),e=!1},d(i){n&&n.d(i)}}}function X1(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},Rl?ni(t[10]):t[4],t[12]];var o=t[0];function r(a){let c={};for(let f=0;f<i.length;f+=1)c=Xt(c,i[f]);return{props:c}}return o&&(e=new o(r())),{c(){e&&J(e.$$.fragment),l=Ee()},m(a,c){e&&K(e,a,c),w(a,l,c),n=!0},p(a,c){const f=c&7192?ii(i,[c&8&&{location:a[3]},c&2048&&{navigate:a[11]},c&1040&&Mr(Rl?ni(a[10]):a[4]),c&4096&&Mr(a[12])]):{};if(o!==(o=a[0])){if(e){Ce();const _=e;D(_.$$.fragment,1,0,()=>{Q(_,1)}),Te()}o?(e=new o(r()),J(e.$$.fragment),P(e.$$.fragment,1),K(e,l.parentNode,l)):e=null}else o&&e.$set(f)},i(a){n||(e&&P(e.$$.fragment,a),n=!0)},o(a){e&&D(e.$$.fragment,a),n=!1},d(a){a&&k(l),e&&Q(e,a)}}}function Z1(t){let e,l,n,i;const o=[X1,Q1],r=[];function a(c,f){return c[0]!==null?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ee()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let _=e;e=a(c),e===_?r[e].p(c,f):(Ce(),D(r[_],1,1,()=>{r[_]=null}),Te(),l=r[e],l?l.p(c,f):(l=r[e]=o[e](c),l.c()),P(l,1),l.m(n.parentNode,n))},i(c){i||(P(l),i=!0)},o(c){D(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function J1(t){let e,l,n,i,o,r=[ei(t[7]),{"data-svnav-route-start":t[5]}],a={};for(let p=0;p<r.length;p+=1)a=Xt(a,r[p]);let c=t[2]&&Ur(t),f=[ei(t[7]),{"data-svnav-route-end":t[5]}],_={};for(let p=0;p<f.length;p+=1)_=Xt(_,f[p]);return{c(){e=m("div"),l=b(),c&&c.c(),n=b(),i=m("div"),ol(e,a),ol(i,_)},m(p,d){w(p,e,d),w(p,l,d),c&&c.m(p,d),w(p,n,d),w(p,i,d),o=!0},p(p,[d]){ol(e,a=ii(r,[ei(p[7]),{"data-svnav-route-start":p[5]}])),p[2]?c?(c.p(p,d),d&4&&P(c,1)):(c=Ur(p),c.c(),P(c,1),c.m(n.parentNode,n)):c&&(Ce(),D(c,1,1,()=>{c=null}),Te()),ol(i,_=ii(f,[ei(p[7]),{"data-svnav-route-end":p[5]}]))},i(p){o||(P(c),o=!0)},o(p){D(c),o=!1},d(p){p&&k(e),p&&k(l),c&&c.d(p),p&&k(n),p&&k(i)}}}const x1=nc();function em(t,e,l){let n;const i=["path","component","meta","primary"];let o=vo(e,i),r,a,c,f,{$$slots:_={},$$scope:p}=e,{path:d=""}=e,{component:v=null}=e,{meta:h={}}=e,{primary:g=!0}=e;Ci(yo,e);const $=x1(),{registerRoute:C,unregisterRoute:T,activeRoute:M,disableInlineStyles:I}=Fl(oi);il(t,M,q=>l(16,r=q));const S=$c();il(t,S,q=>l(17,c=q));const A=wc();il(t,A,q=>l(3,a=q));const E=lt(null);let L;const x=lt(),O=lt({});il(t,O,q=>l(4,f=q)),bi(sc,x),bi(o1,O),bi(s1,E);const F=V1();return Rl||Zc(()=>T($)),t.$$set=q=>{l(24,e=Xt(Xt({},e),_o(q))),l(12,o=vo(e,i)),"path"in q&&l(13,d=q.path),"component"in q&&l(0,v=q.component),"meta"in q&&l(14,h=q.meta),"primary"in q&&l(1,g=q.primary),"$$scope"in q&&l(19,p=q.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const q=d==="",B=$i(c,d),U={id:$,path:d,meta:h,default:q,fullPath:q?"":B,base:q?c:S1(B,a.pathname),primary:g,focusElement:E};x.set(U),l(15,L=C(U))}if(t.$$.dirty&98304&&l(2,n=!!(L||r&&r.id===$)),t.$$.dirty&98308&&n){const{params:q}=L||r;O.set(q)}},e=_o(e),[v,g,n,a,f,$,M,I,S,A,O,F,o,d,h,L,r,c,_,p]}class wl extends ye{constructor(e){super(),we(this,e,em,J1,ke,{path:13,component:0,meta:14,primary:1})}}function tm(t){let e,l,n,i;const o=t[13].default,r=ss(o,t,t[12],null);let a=[{href:t[0]},t[2],t[1]],c={};for(let f=0;f<a.length;f+=1)c=Xt(c,a[f]);return{c(){e=m("a"),r&&r.c(),ol(e,c)},m(f,_){w(f,e,_),r&&r.m(e,null),l=!0,n||(i=V(e,"click",t[4]),n=!0)},p(f,[_]){r&&r.p&&(!l||_&4096)&&rs(r,o,f,f[12],l?us(o,f[12],_,null):as(f[12]),null),ol(e,c=ii(a,[(!l||_&1)&&{href:f[0]},_&4&&f[2],_&2&&f[1]]))},i(f){l||(P(r,f),l=!0)},o(f){D(r,f),l=!1},d(f){f&&k(e),r&&r.d(f),n=!1,i()}}}function lm(t,e,l){let n,i,o,r,a,c;const f=["to","replace","state","getProps"];let _=vo(e,f),p,{$$slots:d={},$$scope:v}=e,{to:h}=e,{replace:g=!1}=e,{state:$={}}=e,{getProps:C=null}=e;Ci(cs,e);const T=wc();il(t,T,E=>l(11,p=E));const M=Jc(),I=Cc(),{navigate:S}=yc();function A(E){M("click",E),l1(E)&&(E.preventDefault(),S(n,{state:$,replace:r||g}))}return t.$$set=E=>{l(19,e=Xt(Xt({},e),_o(E))),l(18,_=vo(e,f)),"to"in E&&l(5,h=E.to),"replace"in E&&l(6,g=E.replace),"state"in E&&l(7,$=E.state),"getProps"in E&&l(8,C=E.getProps),"$$scope"in E&&l(12,v=E.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=I(h,p)),t.$$.dirty&2049&&l(10,i=Qo(p.pathname,n)),t.$$.dirty&2049&&l(9,o=n===p.pathname),t.$$.dirty&2049&&(r=ps(n)===C1(p)),t.$$.dirty&512&&l(2,a=o?{"aria-current":"page"}:{}),l(1,c=(()=>{if(tc(C)){const E=C({location:p,href:n,isPartiallyCurrent:i,isCurrent:o});return{..._,...E}}return _})())},e=_o(e),[n,c,a,T,A,h,g,$,C,o,i,p,v,d]}class El extends ye{constructor(e){super(),we(this,e,lm,tm,ke,{to:5,replace:6,state:7,getProps:8})}}let Xo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Il(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function nm(t){return"#297dbc"}function Tc(t){return"#297dbc"}function im(t){return"#407038"}function go(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return""}}function Ne(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function ce(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"\xB5HAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1"}}function qr(t){switch(t){case-1:return"Parse error";case-2:return"Incomplete data received";case-3:return"Payload boundry flag missing";case-4:return"Header checksum error";case-5:return"Footer checksum error";case-9:return"Unknown data received, check meter config";case-41:return"Frame length not equal";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid";case 90:return"No HAN data received for at least 30s";case 91:return"Serial break";case 92:return"Serial buffer full";case 93:return"Serial FIFO overflow";case 94:return"Serial frame error";case 95:return"Serial parity error";case 96:return"RX error";case 98:return"Exception in code, debugging necessary";case 99:return"Autodetection failed"}return t<0?"Unspecified error "+t:""}function jr(t){switch(t){case-3:return"Connection failed";case-4:return"Network timeout";case-10:return"Connection denied";case-11:return"Failed to subscribe";case-13:return"Connection lost"}return t<0?"Unspecified error "+t:""}function Hr(t){switch(t){case 401:case 403:return"Unauthorized, check API key";case 404:return"Price unavailable, not found";case 425:return"Server says its too early";case 429:return"Exceeded API rate limit";case 500:return"Internal server error";case-2:return"Incomplete data received";case-3:return"Invalid data, tag missing";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid"}return t<0?"Unspecified error "+t:""}function li(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Ye(t,e){return t==1||t==2&&e}function Ft(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function me(t,e){return isNaN(t)?"-":(isNaN(e)&&(e=t<10?1:0),t.toFixed(e))}function gi(t,e){return t.setTime(t.getTime()+e*36e5),t}function Wr(t){if(t.chip=="esp8266")switch(t.boot_reason){case 0:return"Normal";case 1:return"WDT reset";case 2:return"Exception reset";case 3:return"Soft WDT reset";case 4:return"Software restart";case 5:return"Deep sleep";case 6:return"External reset";default:return"Unknown (8266)"}else switch(t.boot_reason){case 1:return"Vbat power on reset";case 3:return"Software reset";case 4:return"WDT reset";case 5:return"Deep sleep";case 6:return"SLC reset";case 7:return"Timer Group0 WDT reset";case 8:return"Timer Group1 WDT reset";case 9:return"RTC WDT reset";case 10:return"Instrusion test reset CPU";case 11:return"Time Group reset CPU";case 12:return"Software reset CPU";case 13:return"RTC WTD reset CPU";case 14:return"PRO CPU";case 15:return"Brownout";case 16:return"RTC reset";default:return"Unknown"}}async function $l(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),o=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),o}let nl={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null},trying:null};const Rt=lt(nl);async function _s(){nl=await(await $l("/sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),Rt.set(nl)}let fo=0,Gr=-127,Br=null,om={};const sm=oc(om,t=>{let e;async function l(){$l("/data.json").then(n=>n.json()).then(n=>{t(n),Gr!=n.t&&(Gr=n.t,setTimeout(Ac,2e3)),Br!=n.p&&n.pe&&(Br=n.p,setTimeout(um,4e3)),nl.upgrading?window.location.reload():(!nl||!nl.chip||nl.booting||fo>1&&!li(nl.board))&&(_s(),ln&&clearTimeout(ln),ln=setTimeout(ds,2e3),nn&&clearTimeout(nn),nn=setTimeout(vs,3e3),on&&clearTimeout(on),on=setTimeout(hs,2500));let i=5e3;if(li(nl.board)&&n.v>2.5){let o=3.3-Math.min(3.3,n.v);o>0&&(i=Math.max(o,.1)*10*5e3)}i>5e3&&console.log("Scheduling next data fetch in "+i+"ms"),e&&clearTimeout(e),e=setTimeout(l,i),fo=0}).catch(n=>{fo++,fo>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(l,15e3)):e=setTimeout(l,li(nl.board)?1e4:5e3)})}return l(),function(){clearTimeout(e)}});let Zo={};const Sc=lt(Zo);async function um(){Zo=await(await $l("/energyprice.json")).json(),Sc.set(Zo)}let Jo={},ln;async function ds(){ln&&(clearTimeout(ln),ln=0),Jo=await(await $l("/dayplot.json")).json(),Pc.set(Jo);let e=new Date;ln=setTimeout(ds,(60-e.getMinutes())*6e4+20)}const Pc=lt(Jo,t=>(ds(),function(){}));let xo={},nn;async function vs(){nn&&(clearTimeout(nn),nn=0),xo=await(await $l("/monthplot.json")).json(),Mc.set(xo);let e=new Date;nn=setTimeout(vs,(24-e.getHours())*36e5+40)}const Mc=lt(xo,t=>(vs(),function(){}));let es={},on;async function hs(){on&&(clearTimeout(on),on=0),es=await(await $l("/hourplot.json")).json(),Nc.set(es),on=setTimeout(hs,20030)}const Nc=lt(es,t=>(hs(),function(){}));let ts={};async function Ac(){ts=await(await $l("/temperature.json")).json(),Dc.set(ts)}const Dc=lt(ts,t=>(Ac(),function(){}));let ls={},co;async function Ic(){co&&(clearTimeout(co),co=0),ls=await(await $l("/tariff.json")).json(),Ec.set(ls);let e=new Date;co=setTimeout(Ic,(60-e.getMinutes())*6e4+30)}const Ec=lt(ls,t=>function(){});let ns=[];const bs=lt(ns);async function rm(){ns=await(await $l("https://api.github.com/repos/UtilitechAS/amsreader-firmware/releases")).json(),bs.set(ns)}function ko(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function Fc(t){await(await fetch("/upgrade?expected_version="+t,{method:"POST"})).json()}function Rc(t,e){if(/^v\d{1,2}\.\d{1,2}\.\d{1,2}$/.test(t)){let l=t.substring(1).split("."),n=parseInt(l[0]),i=parseInt(l[1]),o=parseInt(l[2]),r=[...e];r.reverse();let a,c,f;for(let _=0;_<r.length;_++){let p=r[_],v=p.tag_name.substring(1).split("."),h=parseInt(v[0]),g=parseInt(v[1]),$=parseInt(v[2]);if(h==n)g==i?$>o&&(a=p):g==i+1&&(c=p);else if(h==n+1)if(f){let C=f.tag_name.substring(1).split(".");parseInt(C[0]);let T=parseInt(C[1]);parseInt(C[2]),g==T&&(f=p)}else f=p}return c||f||a||!1}else return e[0]}const am="/github.svg";function Yr(t){let e,l;function n(r,a){return r[1]>1?vm:r[1]>0?dm:r[2]>1?_m:r[2]>0?pm:r[3]>1?mm:r[3]>0?cm:fm}let i=n(t),o=i(t);return{c(){e=y(`Up
    `),o.c(),l=Ee()},m(r,a){w(r,e,a),o.m(r,a),w(r,l,a)},p(r,a){i===(i=n(r))&&o?o.p(r,a):(o.d(1),o=i(r),o&&(o.c(),o.m(l.parentNode,l)))},d(r){r&&k(e),o.d(r),r&&k(l)}}}function fm(t){let e,l;return{c(){e=y(t[0]),l=y(" seconds")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&1&&j(e,n[0])},d(n){n&&k(e),n&&k(l)}}}function cm(t){let e,l;return{c(){e=y(t[3]),l=y(" minute")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&8&&j(e,n[3])},d(n){n&&k(e),n&&k(l)}}}function mm(t){let e,l;return{c(){e=y(t[3]),l=y(" minutes")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&8&&j(e,n[3])},d(n){n&&k(e),n&&k(l)}}}function pm(t){let e,l;return{c(){e=y(t[2]),l=y(" hour")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&4&&j(e,n[2])},d(n){n&&k(e),n&&k(l)}}}function _m(t){let e,l;return{c(){e=y(t[2]),l=y(" hours")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&4&&j(e,n[2])},d(n){n&&k(e),n&&k(l)}}}function dm(t){let e,l;return{c(){e=y(t[1]),l=y(" day")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&2&&j(e,n[1])},d(n){n&&k(e),n&&k(l)}}}function vm(t){let e,l;return{c(){e=y(t[1]),l=y(" days")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&2&&j(e,n[1])},d(n){n&&k(e),n&&k(l)}}}function hm(t){let e,l=t[0]&&Yr(t);return{c(){l&&l.c(),e=Ee()},m(n,i){l&&l.m(n,i),w(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Yr(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ie,o:ie,d(n){l&&l.d(n),n&&k(e)}}}function bm(t,e,l){let{epoch:n}=e,i=0,o=0,r=0;return t.$$set=a=>{"epoch"in a&&l(0,n=a.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(1,i=Math.floor(n/86400)),l(2,o=Math.floor(n/3600)),l(3,r=Math.floor(n/60)))},[n,i,o,r]}class gm extends ye{constructor(e){super(),we(this,e,bm,hm,ke,{epoch:0})}}function km(t){let e,l,n;return{c(){e=m("span"),l=y(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,o){w(i,e,o),s(e,l)},p(i,[o]){o&4&&j(l,i[2]),o&2&&u(e,"title",i[1]),o&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:ie,o:ie,d(i){i&&k(e)}}}function wm(t,e,l){let{color:n}=e,{title:i}=e,{text:o}=e;return t.$$set=r=>{"color"in r&&l(0,n=r.color),"title"in r&&l(1,i=r.title),"text"in r&&l(2,o=r.text)},[n,i,o]}class sl extends ye{constructor(e){super(),we(this,e,wm,km,ke,{color:0,title:1,text:2})}}function ym(t){let e,l=`${Ne(t[0].getDate())}.${Ne(t[0].getMonth()+1)}.${t[0].getFullYear()} ${Ne(t[0].getHours())}:${Ne(t[0].getMinutes())}`,n;return{c(){e=m("span"),n=y(l),u(e,"class",t[1])},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=`${Ne(i[0].getDate())}.${Ne(i[0].getMonth()+1)}.${i[0].getFullYear()} ${Ne(i[0].getHours())}:${Ne(i[0].getMinutes())}`)&&j(n,l),o&2&&u(e,"class",i[1])},d(i){i&&k(e)}}}function $m(t){let e=`${Ne(t[0].getDate())}. ${Xo[t[0].getMonth()]} ${Ne(t[0].getHours())}:${Ne(t[0].getMinutes())}`,l;return{c(){l=y(e)},m(n,i){w(n,l,i)},p(n,i){i&1&&e!==(e=`${Ne(n[0].getDate())}. ${Xo[n[0].getMonth()]} ${Ne(n[0].getHours())}:${Ne(n[0].getMinutes())}`)&&j(l,e)},d(n){n&&k(l)}}}function Cm(t){let e,l;function n(r,a){return a&1&&(e=null),e==null&&(e=Math.abs(new Date().getTime()-r[0].getTime())<3e5),e?$m:ym}let i=n(t,-1),o=i(t);return{c(){o.c(),l=Ee()},m(r,a){o.m(r,a),w(r,l,a)},p(r,[a]){i===(i=n(r,a))&&o?o.p(r,a):(o.d(1),o=i(r),o&&(o.c(),o.m(l.parentNode,l)))},i:ie,o:ie,d(r){o.d(r),r&&k(l)}}}function Tm(t,e,l){let{timestamp:n}=e,{fullTimeColor:i}=e;return t.$$set=o=>{"timestamp"in o&&l(0,n=o.timestamp),"fullTimeColor"in o&&l(1,i=o.fullTimeColor)},[n,i]}class Lc extends ye{constructor(e){super(),we(this,e,Tm,Cm,ke,{timestamp:0,fullTimeColor:1})}}function Sm(t){let e,l,n;return{c(){e=Ae("svg"),l=Ae("path"),n=Ae("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,o){w(i,e,o),s(e,l),s(e,n)},p:ie,i:ie,o:ie,d(i){i&&k(e)}}}class Pm extends ye{constructor(e){super(),we(this,e,null,Sm,ke,{})}}function Mm(t){let e,l;return{c(){e=Ae("svg"),l=Ae("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){w(n,e,i),s(e,l)},p:ie,i:ie,o:ie,d(n){n&&k(e)}}}class Nm extends ye{constructor(e){super(),we(this,e,null,Mm,ke,{})}}function Am(t){let e,l;return{c(){e=Ae("svg"),l=Ae("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){w(n,e,i),s(e,l)},p:ie,i:ie,o:ie,d(n){n&&k(e)}}}class Et extends ye{constructor(e){super(),we(this,e,null,Am,ke,{})}}function Dm(t){let e,l;return{c(){e=Ae("svg"),l=Ae("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){w(n,e,i),s(e,l)},p:ie,i:ie,o:ie,d(n){n&&k(e)}}}class Oc extends ye{constructor(e){super(),we(this,e,null,Dm,ke,{})}}function Im(t){let e,l,n=t[1].version+"",i;return{c(){e=y("AMS reader "),l=m("span"),i=y(n)},m(o,r){w(o,e,r),w(o,l,r),s(l,i)},p(o,r){r&2&&n!==(n=o[1].version+"")&&j(i,n)},d(o){o&&k(e),o&&k(l)}}}function zr(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=m("div"),n=y(l),i=y("\xB0C"),u(e,"class","flex-none my-auto")},m(o,r){w(o,e,r),s(e,n),s(e,i)},p(o,r){r&1&&l!==(l=(o[0].t>-50?o[0].t.toFixed(1):"-")+"")&&j(n,l)},d(o){o&&k(e)}}}function Vr(t){let e,l="HAN: "+qr(t[0].he),n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="HAN: "+qr(i[0].he))&&j(n,l)},d(i){i&&k(e)}}}function Kr(t){let e,l="MQTT: "+jr(t[0].me),n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="MQTT: "+jr(i[0].me))&&j(n,l)},d(i){i&&k(e)}}}function Qr(t){let e,l="PriceAPI: "+Hr(t[0].ee),n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="PriceAPI: "+Hr(i[0].ee))&&j(n,l)},d(i){i&&k(e)}}}function Xr(t){let e,l,n,i,o,r;return l=new El({props:{to:"/configuration",$$slots:{default:[Em]},$$scope:{ctx:t}}}),o=new El({props:{to:"/status",$$slots:{default:[Fm]},$$scope:{ctx:t}}}),{c(){e=m("div"),J(l.$$.fragment),n=b(),i=m("div"),J(o.$$.fragment),u(e,"class","flex-none px-1 mt-1"),u(e,"title","Configuration"),u(i,"class","flex-none px-1 mt-1"),u(i,"title","Device information")},m(a,c){w(a,e,c),K(l,e,null),w(a,n,c),w(a,i,c),K(o,i,null),r=!0},i(a){r||(P(l.$$.fragment,a),P(o.$$.fragment,a),r=!0)},o(a){D(l.$$.fragment,a),D(o.$$.fragment,a),r=!1},d(a){a&&k(e),Q(l),a&&k(n),a&&k(i),Q(o)}}}function Em(t){let e,l;return e=new Pm({}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Fm(t){let e,l;return e=new Nm({}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Zr(t){let e,l,n,i,o;const r=[Lm,Rm],a=[];function c(f,_){return f[1].security==0||f[0].a?0:1}return l=c(t),n=a[l]=r[l](t),{c(){e=m("div"),n.c(),u(e,"class","flex-none mr-3 text-yellow-500"),u(e,"title",i="New version: "+t[2].tag_name)},m(f,_){w(f,e,_),a[l].m(e,null),o=!0},p(f,_){let p=l;l=c(f),l===p?a[l].p(f,_):(Ce(),D(a[p],1,1,()=>{a[p]=null}),Te(),n=a[l],n?n.p(f,_):(n=a[l]=r[l](f),n.c()),P(n,1),n.m(e,null)),(!o||_&4&&i!==(i="New version: "+f[2].tag_name))&&u(e,"title",i)},i(f){o||(P(n),o=!0)},o(f){D(n),o=!1},d(f){f&&k(e),a[l].d()}}}function Rm(t){let e,l,n=t[2].tag_name+"",i;return{c(){e=m("span"),l=y("New version: "),i=y(n)},m(o,r){w(o,e,r),s(e,l),s(e,i)},p(o,r){r&4&&n!==(n=o[2].tag_name+"")&&j(i,n)},i:ie,o:ie,d(o){o&&k(e)}}}function Lm(t){let e,l,n,i=t[2].tag_name+"",o,r,a,c,f,_;return a=new Oc({}),{c(){e=m("button"),l=m("span"),n=y("New version: "),o=y(i),r=b(),J(a.$$.fragment),u(l,"class","mt-1"),u(e,"class","flex")},m(p,d){w(p,e,d),s(e,l),s(l,n),s(l,o),s(e,r),K(a,e,null),c=!0,f||(_=V(e,"click",t[3]),f=!0)},p(p,d){(!c||d&4)&&i!==(i=p[2].tag_name+"")&&j(o,i)},i(p){c||(P(a.$$.fragment,p),c=!0)},o(p){D(a.$$.fragment,p),c=!1},d(p){p&&k(e),Q(a),f=!1,_()}}}function Om(t){let e,l,n,i,o,r,a,c,f,_,p,d,v=(t[0].m?(t[0].m/1e3).toFixed(1):"-")+"",h,g,$,C,T,M,I,S,A,E,L,x,O,F,q,B,U,H,G,R,W,te,oe,ee,Y,X,$e,Fe,Se,Re;i=new El({props:{to:"/",$$slots:{default:[Im]},$$scope:{ctx:t}}}),c=new gm({props:{epoch:t[0].u}});let ve=t[0].t>-50&&zr(t);T=new sl({props:{title:"ESP",text:t[1].booting?"Booting":t[0].v>2?t[0].v.toFixed(2)+"V":"ESP",color:Il(t[1].booting?2:t[0].em)}}),I=new sl({props:{title:"HAN",text:"HAN",color:Il(t[1].booting?9:t[0].hm)}}),A=new sl({props:{title:"WiFi",text:t[0].r?t[0].r.toFixed(0)+"dBm":"WiFi",color:Il(t[1].booting?9:t[0].wm)}}),L=new sl({props:{title:"MQTT",text:"MQTT",color:Il(t[1].booting?9:t[0].mm)}});let Pe=(t[0].he<0||t[0].he>0)&&Vr(t),Ie=t[0].me<0&&Kr(t),pe=(t[0].ee>0||t[0].ee<0)&&Qr(t);oe=new Lc({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),fullTimeColor:"text-red-500"}});let se=t[1].vndcfg&&t[1].usrcfg&&Xr(t);Fe=new Et({});let _e=t[1].fwconsent===1&&t[2]&&Zr(t);return{c(){e=m("nav"),l=m("div"),n=m("div"),J(i.$$.fragment),o=b(),r=m("div"),a=m("div"),J(c.$$.fragment),f=b(),ve&&ve.c(),_=b(),p=m("div"),d=y("Free mem: "),h=y(v),g=y("kb"),$=b(),C=m("div"),J(T.$$.fragment),M=b(),J(I.$$.fragment),S=b(),J(A.$$.fragment),E=b(),J(L.$$.fragment),x=b(),Pe&&Pe.c(),O=b(),Ie&&Ie.c(),F=b(),pe&&pe.c(),q=b(),B=m("div"),U=m("div"),H=m("a"),G=m("img"),W=b(),te=m("div"),J(oe.$$.fragment),ee=b(),se&&se.c(),Y=b(),X=m("div"),$e=m("a"),J(Fe.$$.fragment),Se=b(),_e&&_e.c(),u(n,"class","flex text-lg text-gray-100 p-2"),u(a,"class","flex-none my-auto"),u(p,"class","flex-none my-auto"),u(r,"class","flex-none my-auto p-2 flex space-x-4"),u(C,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(G,"class","gh-logo"),Bc(G.src,R=am)||u(G,"src",R),u(G,"alt","GitHub repo"),u(H,"class","float-right"),u(H,"href","https://github.com/UtilitechAS/amsreader-firmware"),u(H,"target","_blank"),u(H,"rel","noreferrer"),u(H,"aria-label","GitHub"),u(U,"class","flex-none"),u(te,"class","flex-none my-auto px-2"),u($e,"href",Ft("")),u($e,"target","_blank"),u($e,"rel","noreferrer"),u(X,"class","flex-none px-1 mt-1"),u(X,"title","Documentation"),u(B,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-sm text-gray-300"),u(e,"class","bg-violet-600 p-1 rounded-md mx-2")},m(Z,ue){w(Z,e,ue),s(e,l),s(l,n),K(i,n,null),s(l,o),s(l,r),s(r,a),K(c,a,null),s(r,f),ve&&ve.m(r,null),s(r,_),s(r,p),s(p,d),s(p,h),s(p,g),s(l,$),s(l,C),K(T,C,null),s(C,M),K(I,C,null),s(C,S),K(A,C,null),s(C,E),K(L,C,null),s(l,x),Pe&&Pe.m(l,null),s(l,O),Ie&&Ie.m(l,null),s(l,F),pe&&pe.m(l,null),s(l,q),s(l,B),s(B,U),s(U,H),s(H,G),s(B,W),s(B,te),K(oe,te,null),s(B,ee),se&&se.m(B,null),s(B,Y),s(B,X),s(X,$e),K(Fe,$e,null),s(B,Se),_e&&_e.m(B,null),Re=!0},p(Z,[ue]){const Me={};ue&18&&(Me.$$scope={dirty:ue,ctx:Z}),i.$set(Me);const De={};ue&1&&(De.epoch=Z[0].u),c.$set(De),Z[0].t>-50?ve?ve.p(Z,ue):(ve=zr(Z),ve.c(),ve.m(r,_)):ve&&(ve.d(1),ve=null),(!Re||ue&1)&&v!==(v=(Z[0].m?(Z[0].m/1e3).toFixed(1):"-")+"")&&j(h,v);const he={};ue&3&&(he.text=Z[1].booting?"Booting":Z[0].v>2?Z[0].v.toFixed(2)+"V":"ESP"),ue&3&&(he.color=Il(Z[1].booting?2:Z[0].em)),T.$set(he);const le={};ue&3&&(le.color=Il(Z[1].booting?9:Z[0].hm)),I.$set(le);const de={};ue&1&&(de.text=Z[0].r?Z[0].r.toFixed(0)+"dBm":"WiFi"),ue&3&&(de.color=Il(Z[1].booting?9:Z[0].wm)),A.$set(de);const Ue={};ue&3&&(Ue.color=Il(Z[1].booting?9:Z[0].mm)),L.$set(Ue),Z[0].he<0||Z[0].he>0?Pe?Pe.p(Z,ue):(Pe=Vr(Z),Pe.c(),Pe.m(l,O)):Pe&&(Pe.d(1),Pe=null),Z[0].me<0?Ie?Ie.p(Z,ue):(Ie=Kr(Z),Ie.c(),Ie.m(l,F)):Ie&&(Ie.d(1),Ie=null),Z[0].ee>0||Z[0].ee<0?pe?pe.p(Z,ue):(pe=Qr(Z),pe.c(),pe.m(l,q)):pe&&(pe.d(1),pe=null);const Ge={};ue&1&&(Ge.timestamp=Z[0].c?new Date(Z[0].c*1e3):new Date(0)),oe.$set(Ge),Z[1].vndcfg&&Z[1].usrcfg?se?ue&2&&P(se,1):(se=Xr(Z),se.c(),P(se,1),se.m(B,Y)):se&&(Ce(),D(se,1,1,()=>{se=null}),Te()),Z[1].fwconsent===1&&Z[2]?_e?(_e.p(Z,ue),ue&6&&P(_e,1)):(_e=Zr(Z),_e.c(),P(_e,1),_e.m(B,null)):_e&&(Ce(),D(_e,1,1,()=>{_e=null}),Te())},i(Z){Re||(P(i.$$.fragment,Z),P(c.$$.fragment,Z),P(T.$$.fragment,Z),P(I.$$.fragment,Z),P(A.$$.fragment,Z),P(L.$$.fragment,Z),P(oe.$$.fragment,Z),P(se),P(Fe.$$.fragment,Z),P(_e),Re=!0)},o(Z){D(i.$$.fragment,Z),D(c.$$.fragment,Z),D(T.$$.fragment,Z),D(I.$$.fragment,Z),D(A.$$.fragment,Z),D(L.$$.fragment,Z),D(oe.$$.fragment,Z),D(se),D(Fe.$$.fragment,Z),D(_e),Re=!1},d(Z){Z&&k(e),Q(i),Q(c),ve&&ve.d(),Q(T),Q(I),Q(A),Q(L),Pe&&Pe.d(),Ie&&Ie.d(),pe&&pe.d(),Q(oe),se&&se.d(),Q(Fe),_e&&_e.d()}}}function Um(t,e,l){let{data:n={}}=e,i={},o={};function r(){confirm("Do you want to upgrade this device to "+o.tag_name+"?")&&(!li(i.board)||confirm(ko(ce(i.chip,i.board))))&&(Rt.update(a=>(a.upgrading=!0,a)),Fc(o.tag_name))}return Rt.subscribe(a=>{l(1,i=a),a.fwconsent===1&&rm()}),bs.subscribe(a=>{l(2,o=Rc(i.version,a))}),t.$$set=a=>{"data"in a&&l(0,n=a.data)},[n,i,o,r]}class qm extends ye{constructor(e){super(),we(this,e,Um,Om,ke,{data:0})}}function jm(t){let e,l,n,i;return{c(){e=Ae("svg"),l=Ae("path"),n=Ae("path"),u(l,"d",Yo(150,150,115,210,510)),u(l,"stroke","#eee"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Yo(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(o,r){w(o,e,r),s(e,l),s(e,n)},p(o,[r]){r&1&&i!==(i=Yo(150,150,115,210,210+300*o[0]/100))&&u(n,"d",i),r&2&&u(n,"stroke",o[1])},i:ie,o:ie,d(o){o&&k(e)}}}function Jr(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Yo(t,e,l,n,i){var o=Jr(t,e,l,i),r=Jr(t,e,l,n),a=i-n<=180?"0":"1",c=["M",o.x,o.y,"A",l,l,0,a,0,r.x,r.y].join(" ");return c}function Hm(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=o=>{"pct"in o&&l(0,n=o.pct),"color"in o&&l(1,i=o.color)},[n,i]}class Wm extends ye{constructor(e){super(),we(this,e,Hm,jm,ke,{pct:0,color:1})}}function xr(t){let e,l,n,i,o,r,a,c;return{c(){e=m("br"),l=b(),n=m("span"),i=y(t[3]),o=b(),r=m("span"),a=y(t[4]),c=y("/kWh"),u(n,"class","pl-sub"),u(r,"class","pl-snt")},m(f,_){w(f,e,_),w(f,l,_),w(f,n,_),s(n,i),w(f,o,_),w(f,r,_),s(r,a),s(r,c)},p(f,_){_&8&&j(i,f[3]),_&16&&j(a,f[4])},d(f){f&&k(e),f&&k(l),f&&k(n),f&&k(o),f&&k(r)}}}function Gm(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$;l=new Wm({props:{pct:t[6],color:t[5](t[6])}});let C=t[3]&&xr(t);return{c(){e=m("div"),J(l.$$.fragment),n=b(),i=m("span"),o=m("span"),r=y(t[2]),a=b(),c=m("br"),f=b(),_=m("span"),p=y(t[0]),d=b(),v=m("span"),h=y(t[1]),g=b(),C&&C.c(),u(o,"class","pl-lab"),u(_,"class","pl-val"),u(v,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(T,M){w(T,e,M),K(l,e,null),s(e,n),s(e,i),s(i,o),s(o,r),s(i,a),s(i,c),s(i,f),s(i,_),s(_,p),s(i,d),s(i,v),s(v,h),s(i,g),C&&C.m(i,null),$=!0},p(T,[M]){const I={};M&64&&(I.pct=T[6]),M&96&&(I.color=T[5](T[6])),l.$set(I),(!$||M&4)&&j(r,T[2]),(!$||M&1)&&j(p,T[0]),(!$||M&2)&&j(h,T[1]),T[3]?C?C.p(T,M):(C=xr(T),C.c(),C.m(i,null)):C&&(C.d(1),C=null)},i(T){$||(P(l.$$.fragment,T),$=!0)},o(T){D(l.$$.fragment,T),$=!1},d(T){T&&k(e),Q(l),C&&C.d()}}}function Bm(t,e,l){let{val:n}=e,{max:i}=e,{unit:o}=e,{label:r}=e,{sub:a=""}=e,{subunit:c=""}=e,{colorFn:f}=e,_=0;return t.$$set=p=>{"val"in p&&l(0,n=p.val),"max"in p&&l(7,i=p.max),"unit"in p&&l(1,o=p.unit),"label"in p&&l(2,r=p.label),"sub"in p&&l(3,a=p.sub),"subunit"in p&&l(4,c=p.subunit),"colorFn"in p&&l(5,f=p.colorFn)},t.$$.update=()=>{t.$$.dirty&129&&l(6,_=Math.min(n,i)/i*100)},[n,o,r,a,c,f,_,i]}class Uc extends ye{constructor(e){super(),we(this,e,Bm,Gm,ke,{val:0,max:7,unit:1,label:2,sub:3,subunit:4,colorFn:5})}}function ea(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function ta(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function la(t,e,l){const n=t.slice();return n[13]=e[l],n}function na(t){let e,l,n,i,o,r=t[0].title&&ia(t),a=t[0].y.ticks,c=[];for(let v=0;v<a.length;v+=1)c[v]=sa(la(t,a,v));let f=t[0].x.ticks,_=[];for(let v=0;v<f.length;v+=1)_[v]=aa(ta(t,f,v));let p=t[0].points,d=[];for(let v=0;v<p.length;v+=1)d[v]=wa(ea(t,p,v));return{c(){r&&r.c(),e=b(),l=Ae("svg"),n=Ae("g");for(let v=0;v<c.length;v+=1)c[v].c();i=Ae("g");for(let v=0;v<_.length;v+=1)_[v].c();o=Ae("g");for(let v=0;v<d.length;v+=1)d[v].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(o,"class","bars"),u(l,"height",t[4])},m(v,h){r&&r.m(v,h),w(v,e,h),w(v,l,h),s(l,n);for(let g=0;g<c.length;g+=1)c[g].m(n,null);s(l,i);for(let g=0;g<_.length;g+=1)_[g].m(i,null);s(l,o);for(let g=0;g<d.length;g+=1)d[g].m(o,null)},p(v,h){if(v[0].title?r?r.p(v,h):(r=ia(v),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),h&65){a=v[0].y.ticks;let g;for(g=0;g<a.length;g+=1){const $=la(v,a,g);c[g]?c[g].p($,h):(c[g]=sa($),c[g].c(),c[g].m(n,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=a.length}if(h&57){f=v[0].x.ticks;let g;for(g=0;g<f.length;g+=1){const $=ta(v,f,g);_[g]?_[g].p($,h):(_[g]=aa($),_[g].c(),_[g].m(i,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=f.length}if(h&233){p=v[0].points;let g;for(g=0;g<p.length;g+=1){const $=ea(v,p,g);d[g]?d[g].p($,h):(d[g]=wa($),d[g].c(),d[g].m(o,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=p.length}h&16&&u(l,"height",v[4])},d(v){r&&r.d(v),v&&k(e),v&&k(l),ul(c,v),ul(_,v),ul(d,v)}}}function ia(t){let e,l=t[0].title+"",n;return{c(){e=m("strong"),n=y(l),u(e,"class","text-sm")},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[0].title+"")&&j(n,l)},d(i){i&&k(e)}}}function oa(t){let e,l,n,i=t[13].label+"",o,r,a,c;return{c(){e=Ae("g"),l=Ae("line"),n=Ae("text"),o=y(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",r=t[13].align=="right"?"85%":""),u(e,"class",a="tick tick-"+t[13].value+" tick-"+t[13].color),u(e,"transform",c="translate(0, "+t[6](t[13].value)+")")},m(f,_){w(f,e,_),s(e,l),s(e,n),s(n,o)},p(f,_){_&1&&i!==(i=f[13].label+"")&&j(o,i),_&1&&r!==(r=f[13].align=="right"?"85%":"")&&u(n,"x",r),_&1&&a!==(a="tick tick-"+f[13].value+" tick-"+f[13].color)&&u(e,"class",a),_&65&&c!==(c="translate(0, "+f[6](f[13].value)+")")&&u(e,"transform",c)},d(f){f&&k(e)}}}function sa(t){let e=!isNaN(t[6](t[13].value)),l,n=e&&oa(t);return{c(){n&&n.c(),l=Ee()},m(i,o){n&&n.m(i,o),w(i,l,o)},p(i,o){o&65&&(e=!isNaN(i[6](i[13].value))),e?n?n.p(i,o):(n=oa(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&k(l)}}}function ua(t){let e,l,n=(t[3]>20||t[11]%2==0)&&ra(t);return{c(){e=Ae("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[5](t[11])+","+t[4]+")")},m(i,o){w(i,e,o),n&&n.m(e,null)},p(i,o){i[3]>20||i[11]%2==0?n?n.p(i,o):(n=ra(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),o&48&&l!==(l="translate("+i[5](i[11])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&k(e),n&&n.d()}}}function ra(t){let e,l=t[9].label+"",n,i;return{c(){e=Ae("text"),n=y(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(o,r){w(o,e,r),s(e,n)},p(o,r){r&1&&l!==(l=o[9].label+"")&&j(n,l),r&8&&i!==(i=o[3]/2)&&u(e,"x",i)},d(o){o&&k(e)}}}function aa(t){let e=!isNaN(t[5](t[11])),l,n=e&&ua(t);return{c(){n&&n.c(),l=Ee()},m(i,o){n&&n.m(i,o),w(i,l,o)},p(i,o){o&32&&(e=!isNaN(i[5](i[11]))),e?n?n.p(i,o):(n=ua(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&k(l)}}}function fa(t){let e,l,n=t[9].value!==void 0&&ca(t),i=t[9].value2>1e-4&&va(t);return{c(){e=Ae("g"),n&&n.c(),l=Ae("g"),i&&i.c()},m(o,r){w(o,e,r),n&&n.m(e,null),w(o,l,r),i&&i.m(l,null)},p(o,r){o[9].value!==void 0?n?n.p(o,r):(n=ca(o),n.c(),n.m(e,null)):n&&(n.d(1),n=null),o[9].value2>1e-4?i?i.p(o,r):(i=va(o),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(o){o&&k(e),n&&n.d(),o&&k(l),i&&i.d()}}}function ca(t){let e,l,n,i,o,r,a,c,f=t[3]>15&&ma(t),_=t[3]<16&&t[9].value>1e-4&&_a(t);return{c(){e=Ae("rect"),f&&f.c(),a=Ee(),_&&_.c(),c=Ee(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](t[9].value)),u(e,"width",i=t[3]-4),u(e,"height",o=t[6](t[0].y.min)-t[6](Math.min(t[0].y.min,0)+t[9].value)),u(e,"fill",r=t[9].color)},m(p,d){w(p,e,d),f&&f.m(p,d),w(p,a,d),_&&_.m(p,d),w(p,c,d)},p(p,d){d&32&&l!==(l=p[5](p[11])+2)&&u(e,"x",l),d&65&&n!==(n=p[6](p[9].value))&&u(e,"y",n),d&8&&i!==(i=p[3]-4)&&u(e,"width",i),d&65&&o!==(o=p[6](p[0].y.min)-p[6](Math.min(p[0].y.min,0)+p[9].value))&&u(e,"height",o),d&1&&r!==(r=p[9].color)&&u(e,"fill",r),p[3]>15?f?f.p(p,d):(f=ma(p),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null),p[3]<16&&p[9].value>1e-4?_?_.p(p,d):(_=_a(p),_.c(),_.m(c.parentNode,c)):_&&(_.d(1),_=null)},d(p){p&&k(e),f&&f.d(p),p&&k(a),_&&_.d(p),p&&k(c)}}}function ma(t){let e,l=t[9].label+"",n,i,o,r,a,c,f,_,p=t[9].title&&pa(t);return{c(){e=Ae("text"),n=y(l),p&&p.c(),_=Ee(),u(e,"y",i=t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+10),u(e,"x",o=t[5](t[11])+t[3]/2),u(e,"width",r=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",a=t[3]<25?"left":"middle"),u(e,"fill",c=t[6](t[9].value)>t[6](0)-t[7]?t[9].color:"white"),u(e,"transform",f="rotate("+(t[3]<25?90:0)+", "+(t[5](t[11])+t[3]/2)+", "+(t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+9)+")")},m(d,v){w(d,e,v),s(e,n),p&&p.m(d,v),w(d,_,v)},p(d,v){v&1&&l!==(l=d[9].label+"")&&j(n,l),v&193&&i!==(i=d[6](d[9].value)>d[6](0)-d[7]?d[6](d[9].value)-d[7]:d[6](d[9].value)+10)&&u(e,"y",i),v&40&&o!==(o=d[5](d[11])+d[3]/2)&&u(e,"x",o),v&8&&r!==(r=d[3]-4)&&u(e,"width",r),v&8&&a!==(a=d[3]<25?"left":"middle")&&u(e,"text-anchor",a),v&193&&c!==(c=d[6](d[9].value)>d[6](0)-d[7]?d[9].color:"white")&&u(e,"fill",c),v&233&&f!==(f="rotate("+(d[3]<25?90:0)+", "+(d[5](d[11])+d[3]/2)+", "+(d[6](d[9].value)>d[6](0)-d[7]?d[6](d[9].value)-d[7]:d[6](d[9].value)+9)+")")&&u(e,"transform",f),d[9].title?p?p.p(d,v):(p=pa(d),p.c(),p.m(_.parentNode,_)):p&&(p.d(1),p=null)},d(d){d&&k(e),p&&p.d(d),d&&k(_)}}}function pa(t){let e,l=t[9].title+"",n;return{c(){e=Ae("title"),n=y(l)},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[9].title+"")&&j(n,l)},d(i){i&&k(e)}}}function _a(t){let e,l,n=t[11]%3==0&&Ym(t),i=t[9].title&&da(t);return{c(){n&&n.c(),e=Ee(),i&&i.c(),l=Ee()},m(o,r){n&&n.m(o,r),w(o,e,r),i&&i.m(o,r),w(o,l,r)},p(o,r){o[11]%3==0&&n.p(o,r),o[9].title?i?i.p(o,r):(i=da(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){n&&n.d(o),o&&k(e),i&&i.d(o),o&&k(l)}}}function Ym(t){let e,l=t[9].label+"",n,i,o,r;return{c(){e=Ae("text"),n=y(l),u(e,"y",i=t[6](t[0].y.max)+6),u(e,"x",o=t[5](t[11])+t[3]/2-4),u(e,"text-anchor","middle"),u(e,"fill","black"),u(e,"transform",r="rotate(90, "+(t[5](t[11])+t[3]/2-4)+", "+(t[6](t[0].y.max)+6)+")")},m(a,c){w(a,e,c),s(e,n)},p(a,c){c&1&&l!==(l=a[9].label+"")&&j(n,l),c&65&&i!==(i=a[6](a[0].y.max)+6)&&u(e,"y",i),c&40&&o!==(o=a[5](a[11])+a[3]/2-4)&&u(e,"x",o),c&105&&r!==(r="rotate(90, "+(a[5](a[11])+a[3]/2-4)+", "+(a[6](a[0].y.max)+6)+")")&&u(e,"transform",r)},d(a){a&&k(e)}}}function da(t){let e,l=t[9].title+"",n;return{c(){e=Ae("title"),n=y(l)},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[9].title+"")&&j(n,l)},d(i){i&&k(e)}}}function va(t){let e,l,n,i,o,r,a,c,f=t[3]>15&&ha(t),_=t[3]<16&&ga(t);return{c(){e=Ae("rect"),f&&f.c(),a=Ee(),_&&_.c(),c=Ee(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](0)),u(e,"width",i=t[3]-4),u(e,"height",o=t[6](t[0].y.min)-t[6](t[0].y.min+t[9].value2)),u(e,"fill",r=t[9].color2)},m(p,d){w(p,e,d),f&&f.m(p,d),w(p,a,d),_&&_.m(p,d),w(p,c,d)},p(p,d){d&32&&l!==(l=p[5](p[11])+2)&&u(e,"x",l),d&64&&n!==(n=p[6](0))&&u(e,"y",n),d&8&&i!==(i=p[3]-4)&&u(e,"width",i),d&65&&o!==(o=p[6](p[0].y.min)-p[6](p[0].y.min+p[9].value2))&&u(e,"height",o),d&1&&r!==(r=p[9].color2)&&u(e,"fill",r),p[3]>15?f?f.p(p,d):(f=ha(p),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null),p[3]<16?_?_.p(p,d):(_=ga(p),_.c(),_.m(c.parentNode,c)):_&&(_.d(1),_=null)},d(p){p&&k(e),f&&f.d(p),p&&k(a),_&&_.d(p),p&&k(c)}}}function ha(t){let e,l=t[9].label2+"",n,i,o,r,a,c,f,_,p=t[9].title2&&ba(t);return{c(){e=Ae("text"),n=y(l),p&&p.c(),_=Ee(),u(e,"y",i=t[6](-t[9].value2)<t[6](0)+12?t[6](-t[9].value2)+12:t[6](-t[9].value2)-10),u(e,"x",o=t[5](t[11])+t[3]/2),u(e,"width",r=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",a=t[3]<25?"left":"middle"),u(e,"fill",c=t[6](-t[9].value2)<t[6](0)+12?t[9].color:"white"),u(e,"transform",f="rotate("+(t[3]<25?90:0)+", "+(t[5](t[11])+t[3]/2)+", "+(t[6](t[9].value2-t[0].y.min)>t[6](0)-12?t[6](t[9].value2-t[0].y.min)-12:t[6](t[9].value2-t[0].y.min)+9)+")")},m(d,v){w(d,e,v),s(e,n),p&&p.m(d,v),w(d,_,v)},p(d,v){v&1&&l!==(l=d[9].label2+"")&&j(n,l),v&65&&i!==(i=d[6](-d[9].value2)<d[6](0)+12?d[6](-d[9].value2)+12:d[6](-d[9].value2)-10)&&u(e,"y",i),v&40&&o!==(o=d[5](d[11])+d[3]/2)&&u(e,"x",o),v&8&&r!==(r=d[3]-4)&&u(e,"width",r),v&8&&a!==(a=d[3]<25?"left":"middle")&&u(e,"text-anchor",a),v&65&&c!==(c=d[6](-d[9].value2)<d[6](0)+12?d[9].color:"white")&&u(e,"fill",c),v&105&&f!==(f="rotate("+(d[3]<25?90:0)+", "+(d[5](d[11])+d[3]/2)+", "+(d[6](d[9].value2-d[0].y.min)>d[6](0)-12?d[6](d[9].value2-d[0].y.min)-12:d[6](d[9].value2-d[0].y.min)+9)+")")&&u(e,"transform",f),d[9].title2?p?p.p(d,v):(p=ba(d),p.c(),p.m(_.parentNode,_)):p&&(p.d(1),p=null)},d(d){d&&k(e),p&&p.d(d),d&&k(_)}}}function ba(t){let e,l=t[9].title2+"",n;return{c(){e=Ae("title"),n=y(l)},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[9].title2+"")&&j(n,l)},d(i){i&&k(e)}}}function ga(t){let e,l,n=t[11]%3==0&&zm(t),i=t[9].title2&&ka(t);return{c(){n&&n.c(),e=Ee(),i&&i.c(),l=Ee()},m(o,r){n&&n.m(o,r),w(o,e,r),i&&i.m(o,r),w(o,l,r)},p(o,r){o[11]%3==0&&n.p(o,r),o[9].title2?i?i.p(o,r):(i=ka(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){n&&n.d(o),o&&k(e),i&&i.d(o),o&&k(l)}}}function zm(t){let e,l=t[9].label2+"",n,i,o,r;return{c(){e=Ae("text"),n=y(l),u(e,"y",i=t[6](t[0].y.min)),u(e,"x",o=t[5](t[11])+t[3]/2-4),u(e,"text-anchor","middle"),u(e,"fill","black"),u(e,"transform",r="rotate(90, "+(t[5](t[11])+t[3]/2-4)+", "+t[6](t[0].y.min)+")")},m(a,c){w(a,e,c),s(e,n)},p(a,c){c&1&&l!==(l=a[9].label2+"")&&j(n,l),c&65&&i!==(i=a[6](a[0].y.min))&&u(e,"y",i),c&40&&o!==(o=a[5](a[11])+a[3]/2-4)&&u(e,"x",o),c&105&&r!==(r="rotate(90, "+(a[5](a[11])+a[3]/2-4)+", "+a[6](a[0].y.min)+")")&&u(e,"transform",r)},d(a){a&&k(e)}}}function ka(t){let e,l=t[9].title2+"",n;return{c(){e=Ae("title"),n=y(l)},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[9].title2+"")&&j(n,l)},d(i){i&&k(e)}}}function wa(t){let e=!isNaN(t[5](t[11]))&&!isNaN(t[6](t[9].value)),l,n=e&&fa(t);return{c(){n&&n.c(),l=Ee()},m(i,o){n&&n.m(i,o),w(i,l,o)},p(i,o){o&97&&(e=!isNaN(i[5](i[11]))&&!isNaN(i[6](i[9].value))),e?n?n.p(i,o):(n=fa(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&k(l)}}}function Vm(t){let e,l,n=t[0].x.ticks&&t[0].points&&t[4]&&na(t);return{c(){e=m("div"),n&&n.c(),u(e,"class","chart"),tt(()=>t[8].call(e))},m(i,o){w(i,e,o),n&&n.m(e,null),l=Kc(e,t[8].bind(e))},p(i,[o]){i[0].x.ticks&&i[0].points&&i[4]?n?n.p(i,o):(n=na(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:ie,o:ie,d(i){i&&k(e),n&&n.d(),l()}}}function Km(t,e,l){let{config:n}=e,i,o,r,a,c,f,_;function p(){i=this.clientWidth,o=this.clientHeight,l(1,i),l(2,o)}return t.$$set=d=>{"config"in d&&l(0,n=d.config)},t.$$.update=()=>{if(t.$$.dirty&31){l(4,f=o-(n.title?20:0));let d=i-(n.padding.left+n.padding.right);l(3,r=d/n.points.length),l(7,_=r<25?28:17);let v=(f-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(5,a=function(h){return h*r+n.padding.left}),l(6,c=function(h){let g=0;return h>n.y.max?g=n.padding.bottom:h<n.y.min?g=f-n.padding.bottom:g=f-n.padding.bottom-(h-n.y.min)*v,g>f||g<0?0:g})}},[n,i,o,r,f,a,c,_,p]}class Ll extends ye{constructor(e){super(),we(this,e,Km,Vm,ke,{config:0})}}function Qm(t){let e,l;return e=new Ll({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Xm(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:o}=e,{ds:r}=e,a={};function c(f){return{label:me(f)+"V",title:f.toFixed(1)+" V",value:isNaN(f)?0:f,color:nm()}}return t.$$set=f=>{"u1"in f&&l(1,n=f.u1),"u2"in f&&l(2,i=f.u2),"u3"in f&&l(3,o=f.u3),"ds"in f&&l(4,r=f.ds)},t.$$.update=()=>{if(t.$$.dirty&30){let f=[],_=[];n>0&&(f.push({label:r===1?"L1-L2":"L1"}),_.push(c(n))),i>0&&(f.push({label:r===1?"L1-L3":"L2"}),_.push(c(i))),o>0&&(f.push({label:r===1?"L2-L3":"L3"}),_.push(c(o))),l(0,a={padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:f},points:_})}},[a,n,i,o,r]}class Zm extends ye{constructor(e){super(),we(this,e,Xm,Qm,ke,{u1:1,u2:2,u3:3,ds:4})}}function Jm(t){let e,l;return e=new Ll({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function xm(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:o}=e,{i1:r}=e,{i2:a}=e,{i3:c}=e,{max:f}=e,_={};function p(d){return{label:me(d)+"A",title:d.toFixed(1)+" A",value:isNaN(d)?0:d,color:Tc()}}return t.$$set=d=>{"u1"in d&&l(1,n=d.u1),"u2"in d&&l(2,i=d.u2),"u3"in d&&l(3,o=d.u3),"i1"in d&&l(4,r=d.i1),"i2"in d&&l(5,a=d.i2),"i3"in d&&l(6,c=d.i3),"max"in d&&l(7,f=d.max)},t.$$.update=()=>{if(t.$$.dirty&254){let d=[],v=[];n>0&&(d.push({label:"L1"}),v.push(p(r))),i>0&&(d.push({label:"L2"}),v.push(p(a))),o>0&&(d.push({label:"L3"}),v.push(p(c))),l(0,_={padding:{top:20,right:15,bottom:20,left:35},y:{min:0,max:f,ticks:[{value:0,label:"0%"},{value:f/4,label:"25%"},{value:f/2,label:"50%"},{value:f/4*3,label:"75%"},{value:f,label:"100%"}]},x:{ticks:d},points:v})}},[_,n,i,o,r,a,c,f]}class ep extends ye{constructor(e){super(),we(this,e,xm,Jm,ke,{u1:1,u2:2,u3:3,i1:4,i2:5,i3:6,max:7})}}function tp(t){let e,l,n,i,o,r,a,c=(typeof t[0]<"u"?t[0].toFixed(0):"-")+"",f,_,p,d,v,h,g=(typeof t[1]<"u"?t[1].toFixed(0):"-")+"",$,C,T,M,I,S,A,E=(typeof t[2]<"u"?t[2].toFixed(1):"-")+"",L,x,O,F,q,B,U=(typeof t[3]<"u"?t[3].toFixed(1):"-")+"",H,G;return{c(){e=m("div"),l=m("strong"),l.textContent="Reactive",n=b(),i=m("div"),o=m("div"),o.textContent="Instant in",r=b(),a=m("div"),f=y(c),_=y(" VAr"),p=b(),d=m("div"),d.textContent="Instant out",v=b(),h=m("div"),$=y(g),C=y(" VAr"),T=b(),M=m("div"),I=m("div"),I.textContent="Total in",S=b(),A=m("div"),L=y(E),x=y(" kVArh"),O=b(),F=m("div"),F.textContent="Total out",q=b(),B=m("div"),H=y(U),G=y(" kVArh"),u(a,"class","text-right"),u(h,"class","text-right"),u(i,"class","grid grid-cols-2 mt-4"),u(A,"class","text-right"),u(B,"class","text-right"),u(M,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(R,W){w(R,e,W),s(e,l),s(e,n),s(e,i),s(i,o),s(i,r),s(i,a),s(a,f),s(a,_),s(i,p),s(i,d),s(i,v),s(i,h),s(h,$),s(h,C),s(e,T),s(e,M),s(M,I),s(M,S),s(M,A),s(A,L),s(A,x),s(M,O),s(M,F),s(M,q),s(M,B),s(B,H),s(B,G)},p(R,[W]){W&1&&c!==(c=(typeof R[0]<"u"?R[0].toFixed(0):"-")+"")&&j(f,c),W&2&&g!==(g=(typeof R[1]<"u"?R[1].toFixed(0):"-")+"")&&j($,g),W&4&&E!==(E=(typeof R[2]<"u"?R[2].toFixed(1):"-")+"")&&j(L,E),W&8&&U!==(U=(typeof R[3]<"u"?R[3].toFixed(1):"-")+"")&&j(H,U)},i:ie,o:ie,d(R){R&&k(e)}}}function lp(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:o}=e,{exportTotal:r}=e;return t.$$set=a=>{"importInstant"in a&&l(0,n=a.importInstant),"exportInstant"in a&&l(1,i=a.exportInstant),"importTotal"in a&&l(2,o=a.importTotal),"exportTotal"in a&&l(3,r=a.exportTotal)},[n,i,o,r]}class np extends ye{constructor(e){super(),we(this,e,lp,tp,ke,{importInstant:0,exportInstant:1,importTotal:2,exportTotal:3})}}function ya(t){let e;function l(o,r){return o[3]?op:ip}let n=l(t),i=n(t);return{c(){i.c(),e=Ee()},m(o,r){i.m(o,r),w(o,e,r)},p(o,r){n===(n=l(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&k(e)}}}function ip(t){let e,l,n,i,o,r,a=me(t[1].h.u,2)+"",c,f,_,p,d,v,h=me(t[1].d.u,1)+"",g,$,C,T,M,I,S=me(t[1].m.u)+"",A,E,L,x,O,F,q=me(t[0].last_month.u)+"",B,U,H,G,R=t[4]&&$a(t);return{c(){e=m("strong"),e.textContent="Consumption",l=b(),n=m("div"),i=m("div"),i.textContent="Hour",o=b(),r=m("div"),c=y(a),f=y(" kWh"),_=b(),p=m("div"),p.textContent="Day",d=b(),v=m("div"),g=y(h),$=y(" kWh"),C=b(),T=m("div"),T.textContent="Month",M=b(),I=m("div"),A=y(S),E=y(" kWh"),L=b(),x=m("div"),x.textContent="Last month",O=b(),F=m("div"),B=y(q),U=y(" kWh"),H=b(),R&&R.c(),G=Ee(),u(r,"class","text-right"),u(v,"class","text-right"),u(I,"class","text-right"),u(F,"class","text-right"),u(n,"class","grid grid-cols-2 mb-3")},m(W,te){w(W,e,te),w(W,l,te),w(W,n,te),s(n,i),s(n,o),s(n,r),s(r,c),s(r,f),s(n,_),s(n,p),s(n,d),s(n,v),s(v,g),s(v,$),s(n,C),s(n,T),s(n,M),s(n,I),s(I,A),s(I,E),s(n,L),s(n,x),s(n,O),s(n,F),s(F,B),s(F,U),w(W,H,te),R&&R.m(W,te),w(W,G,te)},p(W,te){te&2&&a!==(a=me(W[1].h.u,2)+"")&&j(c,a),te&2&&h!==(h=me(W[1].d.u,1)+"")&&j(g,h),te&2&&S!==(S=me(W[1].m.u)+"")&&j(A,S),te&1&&q!==(q=me(W[0].last_month.u)+"")&&j(B,q),W[4]?R?R.p(W,te):(R=$a(W),R.c(),R.m(G.parentNode,G)):R&&(R.d(1),R=null)},d(W){W&&k(e),W&&k(l),W&&k(n),W&&k(H),R&&R.d(W),W&&k(G)}}}function op(t){let e,l,n,i,o,r,a=me(t[1].h.u,2)+"",c,f,_,p,d,v,h,g=me(t[1].d.u,1)+"",$,C,T,M,I,S,A,E=me(t[1].m.u)+"",L,x,O,F,q,B,U,H=me(t[0].last_month.u)+"",G,R,W,te,oe,ee,Y,X,$e,Fe,Se,Re=me(t[1].h.p,2)+"",ve,Pe,Ie,pe,se,_e,Z,ue=me(t[1].d.p,1)+"",Me,De,he,le,de,Ue,Ge,Ke=me(t[1].m.p)+"",Le,We,ae,ge,Lt,Ol,Zt,at=me(t[0].last_month.p)+"",Cl,al,Ot,pt,Qe=t[4]&&Ca(t),Xe=t[4]&&Ta(t),Ze=t[4]&&Sa(t),qe=t[4]&&Pa(t),Je=t[4]&&Ma(t),Be=t[4]&&Na(t),xe=t[4]&&Aa(t),et=t[4]&&Da(t);return{c(){e=m("strong"),e.textContent="Import",l=b(),n=m("div"),i=m("div"),i.textContent="Hour",o=b(),r=m("div"),c=y(a),f=y(" kWh"),_=b(),Qe&&Qe.c(),p=b(),d=m("div"),d.textContent="Day",v=b(),h=m("div"),$=y(g),C=y(" kWh"),T=b(),Xe&&Xe.c(),M=b(),I=m("div"),I.textContent="Month",S=b(),A=m("div"),L=y(E),x=y(" kWh"),O=b(),Ze&&Ze.c(),F=b(),q=m("div"),q.textContent="Last mo.",B=b(),U=m("div"),G=y(H),R=y(" kWh"),W=b(),qe&&qe.c(),oe=b(),ee=m("strong"),ee.textContent="Export",Y=b(),X=m("div"),$e=m("div"),$e.textContent="Hour",Fe=b(),Se=m("div"),ve=y(Re),Pe=y(" kWh"),Ie=b(),Je&&Je.c(),pe=b(),se=m("div"),se.textContent="Day",_e=b(),Z=m("div"),Me=y(ue),De=y(" kWh"),he=b(),Be&&Be.c(),le=b(),de=m("div"),de.textContent="Month",Ue=b(),Ge=m("div"),Le=y(Ke),We=y(" kWh"),ae=b(),xe&&xe.c(),ge=b(),Lt=m("div"),Lt.textContent="Last mo.",Ol=b(),Zt=m("div"),Cl=y(at),al=y(" kWh"),Ot=b(),et&&et.c(),u(r,"class","text-right"),u(h,"class","text-right"),u(A,"class","text-right"),u(U,"class","text-right"),u(n,"class",te="grid grid-cols-"+t[5]+" mb-3"),u(Se,"class","text-right"),u(Z,"class","text-right"),u(Ge,"class","text-right"),u(Zt,"class","text-right"),u(X,"class",pt="grid grid-cols-"+t[5])},m(re,be){w(re,e,be),w(re,l,be),w(re,n,be),s(n,i),s(n,o),s(n,r),s(r,c),s(r,f),s(n,_),Qe&&Qe.m(n,null),s(n,p),s(n,d),s(n,v),s(n,h),s(h,$),s(h,C),s(n,T),Xe&&Xe.m(n,null),s(n,M),s(n,I),s(n,S),s(n,A),s(A,L),s(A,x),s(n,O),Ze&&Ze.m(n,null),s(n,F),s(n,q),s(n,B),s(n,U),s(U,G),s(U,R),s(n,W),qe&&qe.m(n,null),w(re,oe,be),w(re,ee,be),w(re,Y,be),w(re,X,be),s(X,$e),s(X,Fe),s(X,Se),s(Se,ve),s(Se,Pe),s(X,Ie),Je&&Je.m(X,null),s(X,pe),s(X,se),s(X,_e),s(X,Z),s(Z,Me),s(Z,De),s(X,he),Be&&Be.m(X,null),s(X,le),s(X,de),s(X,Ue),s(X,Ge),s(Ge,Le),s(Ge,We),s(X,ae),xe&&xe.m(X,null),s(X,ge),s(X,Lt),s(X,Ol),s(X,Zt),s(Zt,Cl),s(Zt,al),s(X,Ot),et&&et.m(X,null)},p(re,be){be&2&&a!==(a=me(re[1].h.u,2)+"")&&j(c,a),re[4]?Qe?Qe.p(re,be):(Qe=Ca(re),Qe.c(),Qe.m(n,p)):Qe&&(Qe.d(1),Qe=null),be&2&&g!==(g=me(re[1].d.u,1)+"")&&j($,g),re[4]?Xe?Xe.p(re,be):(Xe=Ta(re),Xe.c(),Xe.m(n,M)):Xe&&(Xe.d(1),Xe=null),be&2&&E!==(E=me(re[1].m.u)+"")&&j(L,E),re[4]?Ze?Ze.p(re,be):(Ze=Sa(re),Ze.c(),Ze.m(n,F)):Ze&&(Ze.d(1),Ze=null),be&1&&H!==(H=me(re[0].last_month.u)+"")&&j(G,H),re[4]?qe?qe.p(re,be):(qe=Pa(re),qe.c(),qe.m(n,null)):qe&&(qe.d(1),qe=null),be&32&&te!==(te="grid grid-cols-"+re[5]+" mb-3")&&u(n,"class",te),be&2&&Re!==(Re=me(re[1].h.p,2)+"")&&j(ve,Re),re[4]?Je?Je.p(re,be):(Je=Ma(re),Je.c(),Je.m(X,pe)):Je&&(Je.d(1),Je=null),be&2&&ue!==(ue=me(re[1].d.p,1)+"")&&j(Me,ue),re[4]?Be?Be.p(re,be):(Be=Na(re),Be.c(),Be.m(X,le)):Be&&(Be.d(1),Be=null),be&2&&Ke!==(Ke=me(re[1].m.p)+"")&&j(Le,Ke),re[4]?xe?xe.p(re,be):(xe=Aa(re),xe.c(),xe.m(X,ge)):xe&&(xe.d(1),xe=null),be&1&&at!==(at=me(re[0].last_month.p)+"")&&j(Cl,at),re[4]?et?et.p(re,be):(et=Da(re),et.c(),et.m(X,null)):et&&(et.d(1),et=null),be&32&&pt!==(pt="grid grid-cols-"+re[5])&&u(X,"class",pt)},d(re){re&&k(e),re&&k(l),re&&k(n),Qe&&Qe.d(),Xe&&Xe.d(),Ze&&Ze.d(),qe&&qe.d(),re&&k(oe),re&&k(ee),re&&k(Y),re&&k(X),Je&&Je.d(),Be&&Be.d(),xe&&xe.d(),et&&et.d()}}}function $a(t){let e,l,n,i,o,r,a=me(t[1].h.c,2)+"",c,f,_,p,d,v,h,g=me(t[1].d.c,1)+"",$,C,T,M,I,S,A,E=me(t[1].m.c)+"",L,x,O,F,q,B,U,H=me(t[0].last_month.c)+"",G,R,W;return{c(){e=m("strong"),e.textContent="Cost",l=b(),n=m("div"),i=m("div"),i.textContent="Hour",o=b(),r=m("div"),c=y(a),f=b(),_=y(t[2]),p=b(),d=m("div"),d.textContent="Day",v=b(),h=m("div"),$=y(g),C=b(),T=y(t[2]),M=b(),I=m("div"),I.textContent="Month",S=b(),A=m("div"),L=y(E),x=b(),O=y(t[2]),F=b(),q=m("div"),q.textContent="Last month",B=b(),U=m("div"),G=y(H),R=b(),W=y(t[2]),u(r,"class","text-right"),u(h,"class","text-right"),u(A,"class","text-right"),u(U,"class","text-right"),u(n,"class","grid grid-cols-2")},m(te,oe){w(te,e,oe),w(te,l,oe),w(te,n,oe),s(n,i),s(n,o),s(n,r),s(r,c),s(r,f),s(r,_),s(n,p),s(n,d),s(n,v),s(n,h),s(h,$),s(h,C),s(h,T),s(n,M),s(n,I),s(n,S),s(n,A),s(A,L),s(A,x),s(A,O),s(n,F),s(n,q),s(n,B),s(n,U),s(U,G),s(U,R),s(U,W)},p(te,oe){oe&2&&a!==(a=me(te[1].h.c,2)+"")&&j(c,a),oe&4&&j(_,te[2]),oe&2&&g!==(g=me(te[1].d.c,1)+"")&&j($,g),oe&4&&j(T,te[2]),oe&2&&E!==(E=me(te[1].m.c)+"")&&j(L,E),oe&4&&j(O,te[2]),oe&1&&H!==(H=me(te[0].last_month.c)+"")&&j(G,H),oe&4&&j(W,te[2])},d(te){te&&k(e),te&&k(l),te&&k(n)}}}function Ca(t){let e,l=me(t[1].h.c,2)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=b(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].h.c,2)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&k(e)}}}function Ta(t){let e,l=me(t[1].d.c,1)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=b(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].d.c,1)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&k(e)}}}function Sa(t){let e,l=me(t[1].m.c)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=b(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].m.c)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&k(e)}}}function Pa(t){let e,l=me(t[0].last_month.c)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=b(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=me(r[0].last_month.c)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&k(e)}}}function Ma(t){let e,l=me(t[1].h.i,2)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=b(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].h.i,2)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&k(e)}}}function Na(t){let e,l=me(t[1].d.i,1)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=b(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].d.i,1)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&k(e)}}}function Aa(t){let e,l=me(t[1].m.i)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=b(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].m.i)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&k(e)}}}function Da(t){let e,l=me(t[0].last_month.i)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=b(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=me(r[0].last_month.i)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&k(e)}}}function sp(t){let e,l,n,i,o,r,a=t[1]&&ya(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Real time calculation",n=b(),i=m("br"),o=m("br"),r=b(),a&&a.c(),u(e,"class","mx-2 text-sm")},m(c,f){w(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),s(e,r),a&&a.m(e,null)},p(c,[f]){c[1]?a?a.p(c,f):(a=ya(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:ie,o:ie,d(c){c&&k(e),a&&a.d()}}}function up(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:o}=e,{hasExport:r}=e,a=!1,c=3;return t.$$set=f=>{"sysinfo"in f&&l(0,n=f.sysinfo),"data"in f&&l(1,i=f.data),"currency"in f&&l(2,o=f.currency),"hasExport"in f&&l(3,r=f.hasExport)},t.$$.update=()=>{t.$$.dirty&18&&(l(4,a=i&&i.h&&(i.h.c>.01||i.d.c>.01||i.m.c>.01||i.h.i>.01||i.d.i>.01||i.m.i>.01)),l(5,c=a?3:2))},[n,i,o,r,a,c]}class rp extends ye{constructor(e){super(),we(this,e,up,sp,ke,{sysinfo:0,data:1,currency:2,hasExport:3})}}function ap(t){let e,l,n,i;return n=new Ll({props:{config:t[0]}}),{c(){e=m("a"),e.textContent="Provided by ENTSO-E",l=b(),J(n.$$.fragment),u(e,"href","https://transparency.entsoe.eu/"),u(e,"target","_blank"),u(e,"class","text-xs float-right z-40")},m(o,r){w(o,e,r),w(o,l,r),K(n,o,r),i=!0},p(o,[r]){const a={};r&1&&(a.config=o[0]),n.$set(a)},i(o){i||(P(n.$$.fragment,o),i=!0)},o(o){D(n.$$.fragment,o),i=!1},d(o){o&&k(e),o&&k(l),Q(n,o)}}}function fp(t,e,l){let{json:n}=e,i={},o=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=new Date().getUTCHours(),c=0,f=0,_=0,p=n[20]==null?2:1,d=[],v=[],h=[],g=new Date;for(c=a;c<24&&(f=n[Ne(_++)],f!=null);c++)v.push({label:Ne(g.getHours())}),h.push({label:f>0?f.toFixed(p):"",title:f>0?f.toFixed(2)+" "+n.currency:"",value:f>0?Math.abs(f*100):0,label2:f<0?f.toFixed(p):"",title2:f<0?f.toFixed(2)+" "+n.currency:"",value2:f<0?Math.abs(f*100):0,color:"#7c3aed"}),l(3,r=Math.min(r,f*100)),l(2,o=Math.max(o,f*100)),gi(g,1);for(c=0;c<24&&(f=n[Ne(_++)],f!=null);c++)v.push({label:Ne(g.getHours())}),h.push({label:f>0?f.toFixed(p):"",value:f>0?Math.abs(f*100):0,label2:f<0?f.toFixed(p):"",value2:f<0?Math.abs(f*100):0,color:"#7c3aed"}),l(3,r=Math.min(r,f*100)),l(2,o=Math.max(o,f*100)),gi(g,1);if(l(2,o=Math.ceil(o)),l(3,r=Math.floor(r)),r<0){let C=r/4;for(c=1;c<5;c++){let T=C*c;d.push({value:T,label:(T/100).toFixed(2)})}}let $=o/4;for(c=0;c<5;c++){let C=$*c;d.push({value:C,label:(C/100).toFixed(2)})}l(0,i={title:"Future energy price ("+n.currency+")",padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:o,ticks:d},x:{ticks:v},points:h})}},[i,n,o,r]}class cp extends ye{constructor(e){super(),we(this,e,fp,ap,ke,{json:1})}}function mp(t){let e,l;return e=new Ll({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function pp(t,e,l){let{json:n}=e,i={},o=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,c=[],f=[],_=[],p=gi(new Date,-24),d=new Date().getUTCHours();for(a=d;a<24;a++){let g=n["i"+Ne(a)],$=n["e"+Ne(a)];g===void 0&&(g=0),$===void 0&&($=0),f.push({label:Ne(p.getHours())}),_.push({label:g.toFixed(1),title:g.toFixed(2)+" kWh",value:g*10,label2:$.toFixed(1),title2:$.toFixed(2)+" kWh",value2:$*10,color:"#7c3aed",color2:"#407038"}),l(3,r=Math.max(r,$*10)),l(2,o=Math.max(o,g*10)),gi(p,1)}for(a=0;a<d;a++){let g=n["i"+Ne(a)],$=n["e"+Ne(a)];g===void 0&&(g=0),$===void 0&&($=0),f.push({label:Ne(p.getHours())}),_.push({label:g.toFixed(1),title:g.toFixed(2)+" kWh",value:g*10,label2:$.toFixed(1),title2:$.toFixed(2)+" kWh",value2:$*10,color:"#7c3aed",color2:"#407038"}),l(3,r=Math.max(r,$*10)),l(2,o=Math.max(o,g*10)),gi(p,1)}let v=Math.ceil(Math.max(r,o));if(l(2,o=v),l(3,r=r==0?0:v*-1),r<0){let g=r/4;for(a=1;a<5;a++){let $=g*a;c.push({value:$,label:($/10).toFixed(1)})}}let h=o/4;for(a=0;a<5;a++){let g=h*a;c.push({value:g,label:(g/10).toFixed(1)})}l(0,i={title:"Energy use last 24 hours (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:o,ticks:c},x:{ticks:f},points:_})}},[i,n,o,r]}class _p extends ye{constructor(e){super(),we(this,e,pp,mp,ke,{json:1})}}function dp(t){let e,l;return e=new Ll({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function vp(t,e,l){let{json:n}=e,i={},o=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,c=[],f=[],_=[],p=new Date,d=new Date;for(d.setDate(0),a=p.getDate();a<=d.getDate();a++){let g=n["i"+Ne(a)],$=n["e"+Ne(a)];g===void 0&&(g=0),$===void 0&&($=0),f.push({label:Ne(a)}),_.push({label:g.toFixed(g<10?1:0),title:g.toFixed(2)+" kWh",value:g,label2:$.toFixed($<10?1:0),title2:$.toFixed(2)+" kWh",value2:$,color:"#7c3aed",color2:"#407038"}),l(3,r=Math.max(r,$)),l(2,o=Math.max(o,g))}for(a=1;a<p.getDate();a++){let g=n["i"+Ne(a)],$=n["e"+Ne(a)];g===void 0&&(g=0),$===void 0&&($=0),f.push({label:Ne(a)}),_.push({label:g.toFixed(g<10?1:0),title:g.toFixed(2)+" kWh",value:g,label2:$.toFixed($<10?1:0),title2:$.toFixed(2)+" kWh",value2:$,color:"#7c3aed",color2:"#407038"}),l(3,r=Math.max(r,$)),l(2,o=Math.max(o,g))}let v=Math.ceil(Math.max(r,o)/10)*10;if(l(2,o=v),l(3,r=r==0?0:v*-1),r<0){let g=r/4;for(a=0;a<5;a++){let $=g*a;c.push({value:$,label:$.toFixed(0)})}}let h=o/4;for(a=0;a<5;a++){let g=h*a;c.push({value:g,label:g.toFixed(0)})}l(0,i={title:"Energy use last month (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:o,ticks:c},x:{ticks:f},points:_})}},[i,n,o,r]}class hp extends ye{constructor(e){super(),we(this,e,vp,dp,ke,{json:1})}}function bp(t){let e,l;return e=new Ll({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function gp(t,e,l){let{json:n}=e,i={},o=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,c=0,f=[],_=[],p=[];n.s&&n.s.forEach((h,g)=>{var $=h.n?h.n:h.a;c=h.v,c==-127&&(c=0),_.push({label:$.slice(-4)}),p.push({label:c.toFixed(1),value:c,color:"#7c3aed"}),l(3,r=Math.min(r,c)),l(2,o=Math.max(o,c))}),l(2,o=Math.ceil(o)),l(3,r=Math.floor(r));let d=o;r<0&&(d+=Math.abs(r));let v=d/4;for(a=0;a<5;a++)c=r+v*a,f.push({value:c,label:c.toFixed(1)});l(0,i={title:"Temperature sensors (\xB0C)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:o,ticks:f},x:{ticks:_},points:p})}},[i,n,o,r]}class kp extends ye{constructor(e){super(),we(this,e,gp,bp,ke,{json:1})}}function wp(t){let e,l;return e=new Ll({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}let yp=0;function $p(t,e,l){let n={},i=0,o;return Ec.subscribe(r=>{l(2,o=r)}),Ic(),t.$$.update=()=>{if(t.$$.dirty&6){let r=0,a=[],c=[],f=[];if(a.push({value:0,label:0}),o&&o.p)for(r=0;r<o.p.length;r++){let _=o.p[r];f.push({label:_.v.toFixed(2),value:_.v,color:"#7c3aed"}),c.push({label:_.d>0?Ne(_.d)+"."+Xo[new Date().getMonth()]:"-"}),l(1,i=Math.max(i,_.v))}if(o&&o.t){for(r=0;r<o.t.length;r++){let _=o.t[r];if(_>=i)break;a.push({value:_,label:_})}a.push({label:o.m.toFixed(1),align:"right",color:"green",value:o.m})}o&&o.c&&(a.push({label:o.c.toFixed(0),color:"orange",value:o.c}),l(1,i=Math.max(i,o.c))),l(1,i=Math.ceil(i)),l(0,n={title:"Tariff peaks",padding:{top:20,right:35,bottom:20,left:35},y:{min:yp,max:i,ticks:a},x:{ticks:c},points:f})}},[n,i,o]}class Cp extends ye{constructor(e){super(),we(this,e,$p,wp,ke,{})}}function Tp(t){let e,l;return e=new Ll({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}let Ia=179;function Sp(t,e,l){let{json:n}=e,i={},o=0,r=0,a=0,c=0;return t.$$set=f=>{"json"in f&&l(1,n=f.json)},t.$$.update=()=>{if(t.$$.dirty&62){let f=0,_=[],p=[],d=[],v=0;for(f=Ia;f>-1;f--){let h=n["i"+Ne(f)];h===void 0&&(h=0),h<0?(v=-1*h,h=0):v=0,f==Ia&&(l(2,o=Math.ceil(h/10)*10),l(3,r=Math.floor(h/10)*10),l(4,a=Math.ceil(v/10)*10),l(5,c=Math.floor(v/10)*10)),f%3==0?p.push({label:Ne(-1*f/3)}):p.push({label:" "}),d.push({label:h,title:h+" W",value:h,label2:v*-1,title2:v*-1+" W",value2:v,color2:"#407038",color:"#7c3aed"}),l(3,r=Math.min(r,h)),l(2,o=Math.max(o,h)),l(5,c=Math.min(c,v)),l(4,a=Math.max(a,v))}if(a>0?(l(4,a=Math.ceil(a/10)*10),l(5,c=Math.floor(c/10)*10),o>0&&(l(3,r=0),l(5,c=0))):(l(4,a=0),l(5,c=0)),o>0&&l(5,c=0),l(4,a=a*-1),l(5,c=c*-1),a<0){let h=(a-c)/4;for(h>-1&&(h=-1),f=0;f<5;f++){let g=h*f+c;_.push({value:g,label:g.toFixed(0)})}}if(l(2,o=Math.ceil(o/10)*10),r>0&&l(3,r=Math.floor(r/10)*10),o>0){let h=(o-r)/4;for(h<1&&(h=1),f=0;f<5;f++){let g=h*f+r;_.push({value:g,label:g.toFixed(0)})}}a<0&&(l(3,r=a),o<0&&(l(2,o=0),l(3,r=a))),l(0,i={title:"Electrical power last hour (Watt)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:o,ticks:_},x:{ticks:p},points:d})}},[i,n,o,r,a,c]}class Pp extends ye{constructor(e){super(),we(this,e,Sp,Tp,ke,{json:1})}}function Ea(t){let e,l,n,i,o,r,a=(t[0].mt?go(t[0].mt):"-")+"",c,f,_,p=(t[0].ic?t[0].ic.toFixed(1):"-")+"",d,v,h;return i=new Uc({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:"Import",sub:t[0].p,subunit:t[0].pc,colorFn:Tc}}),{c(){e=m("div"),l=m("div"),n=m("div"),J(i.$$.fragment),o=b(),r=m("div"),c=y(a),f=b(),_=m("div"),d=y(p),v=y(" kWh"),u(n,"class","col-span-2"),u(_,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(g,$){w(g,e,$),s(e,l),s(l,n),K(i,n,null),s(l,o),s(l,r),s(r,c),s(l,f),s(l,_),s(_,d),s(_,v),h=!0},p(g,$){const C={};$&1&&(C.val=g[0].i?g[0].i:0),$&1&&(C.max=g[0].im?g[0].im:15e3),$&1&&(C.sub=g[0].p),$&1&&(C.subunit=g[0].pc),i.$set(C),(!h||$&1)&&a!==(a=(g[0].mt?go(g[0].mt):"-")+"")&&j(c,a),(!h||$&1)&&p!==(p=(g[0].ic?g[0].ic.toFixed(1):"-")+"")&&j(d,p)},i(g){h||(P(i.$$.fragment,g),h=!0)},o(g){D(i.$$.fragment,g),h=!1},d(g){g&&k(e),Q(i)}}}function Fa(t){let e,l,n,i,o,r,a,c,f=(t[0].ec?t[0].ec.toFixed(1):"-")+"",_,p,d;return i=new Uc({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:"Export",colorFn:im}}),{c(){e=m("div"),l=m("div"),n=m("div"),J(i.$$.fragment),o=b(),r=m("div"),a=b(),c=m("div"),_=y(f),p=y(" kWh"),u(n,"class","col-span-2"),u(c,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(v,h){w(v,e,h),s(e,l),s(l,n),K(i,n,null),s(l,o),s(l,r),s(l,a),s(l,c),s(c,_),s(c,p),d=!0},p(v,h){const g={};h&1&&(g.val=v[0].e?v[0].e:0),h&1&&(g.max=v[0].om?v[0].om*1e3:1e4),i.$set(g),(!d||h&1)&&f!==(f=(v[0].ec?v[0].ec.toFixed(1):"-")+"")&&j(_,f)},i(v){d||(P(i.$$.fragment,v),d=!0)},o(v){D(i.$$.fragment,v),d=!1},d(v){v&&k(e),Q(i)}}}function Ra(t){let e,l,n;return l=new Zm({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,ds:t[0].ds}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,o){w(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.u1=i[0].u1),o&1&&(r.u2=i[0].u2),o&1&&(r.u3=i[0].u3),o&1&&(r.ds=i[0].ds),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){D(l.$$.fragment,i),n=!1},d(i){i&&k(e),Q(l)}}}function La(t){let e,l,n;return l=new ep({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,i1:t[0].i1,i2:t[0].i2,i3:t[0].i3,max:t[0].mf?t[0].mf:32}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,o){w(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.u1=i[0].u1),o&1&&(r.u2=i[0].u2),o&1&&(r.u3=i[0].u3),o&1&&(r.i1=i[0].i1),o&1&&(r.i2=i[0].i2),o&1&&(r.i3=i[0].i3),o&1&&(r.max=i[0].mf?i[0].mf:32),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){D(l.$$.fragment,i),n=!1},d(i){i&&k(e),Q(l)}}}function Oa(t){let e,l,n;return l=new np({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,o){w(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.importInstant=i[0].ri),o&1&&(r.exportInstant=i[0].re),o&1&&(r.importTotal=i[0].ric),o&1&&(r.exportTotal=i[0].rec),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){D(l.$$.fragment,i),n=!1},d(i){i&&k(e),Q(l)}}}function Ua(t){let e,l,n;return l=new rp({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,o){w(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&2&&(r.sysinfo=i[1]),o&1&&(r.data=i[0].ea),o&1&&(r.currency=i[0].pc),o&1&&(r.hasExport=i[0].om>0||i[0].e>0),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){D(l.$$.fragment,i),n=!1},d(i){i&&k(e),Q(l)}}}function qa(t){let e,l,n;return l=new Cp({}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt h-64")},m(i,o){w(i,e,o),K(l,e,null),n=!0},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){D(l.$$.fragment,i),n=!1},d(i){i&&k(e),Q(l)}}}function ja(t){let e,l,n;return l=new cp({props:{json:t[2]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){w(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&4&&(r.json=i[2]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){D(l.$$.fragment,i),n=!1},d(i){i&&k(e),Q(l)}}}function Ha(t){let e,l,n;return l=new Pp({props:{json:t[5]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){w(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&32&&(r.json=i[5]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){D(l.$$.fragment,i),n=!1},d(i){i&&k(e),Q(l)}}}function Wa(t){let e,l,n;return l=new _p({props:{json:t[3]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){w(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&8&&(r.json=i[3]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){D(l.$$.fragment,i),n=!1},d(i){i&&k(e),Q(l)}}}function Ga(t){let e,l,n;return l=new hp({props:{json:t[4]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){w(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&16&&(r.json=i[4]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){D(l.$$.fragment,i),n=!1},d(i){i&&k(e),Q(l)}}}function Ba(t){let e,l,n;return l=new kp({props:{json:t[6]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){w(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&64&&(r.json=i[6]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){D(l.$$.fragment,i),n=!1},d(i){i&&k(e),Q(l)}}}function Mp(t){let e,l=Ye(t[1].ui.i,t[0].i),n,i=Ye(t[1].ui.e,t[0].om||t[0].e>0),o,r=Ye(t[1].ui.v,t[0].u1>100||t[0].u2>100||t[0].u3>100),a,c=Ye(t[1].ui.a,t[0].i1>.01||t[0].i2>.01||t[0].i3>.01),f,_=Ye(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),p,d=Ye(t[1].ui.c,t[0].ea),v,h=Ye(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("10YNO")||t[0].pr=="10Y1001A1001A48H")),g,$=Ye(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),C,T=Ye(t[1].ui.d,t[5]),M,I=Ye(t[1].ui.d,t[3]),S,A=Ye(t[1].ui.m,t[4]),E,L=Ye(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[6].c>1),x,O=l&&Ea(t),F=i&&Fa(t),q=r&&Ra(t),B=c&&La(t),U=_&&Oa(t),H=d&&Ua(t),G=h&&qa(),R=$&&ja(t),W=T&&Ha(t),te=I&&Wa(t),oe=A&&Ga(t),ee=L&&Ba(t);return{c(){e=m("div"),O&&O.c(),n=b(),F&&F.c(),o=b(),q&&q.c(),a=b(),B&&B.c(),f=b(),U&&U.c(),p=b(),H&&H.c(),v=b(),G&&G.c(),g=b(),R&&R.c(),C=b(),W&&W.c(),M=b(),te&&te.c(),S=b(),oe&&oe.c(),E=b(),ee&&ee.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(Y,X){w(Y,e,X),O&&O.m(e,null),s(e,n),F&&F.m(e,null),s(e,o),q&&q.m(e,null),s(e,a),B&&B.m(e,null),s(e,f),U&&U.m(e,null),s(e,p),H&&H.m(e,null),s(e,v),G&&G.m(e,null),s(e,g),R&&R.m(e,null),s(e,C),W&&W.m(e,null),s(e,M),te&&te.m(e,null),s(e,S),oe&&oe.m(e,null),s(e,E),ee&&ee.m(e,null),x=!0},p(Y,[X]){X&3&&(l=Ye(Y[1].ui.i,Y[0].i)),l?O?(O.p(Y,X),X&3&&P(O,1)):(O=Ea(Y),O.c(),P(O,1),O.m(e,n)):O&&(Ce(),D(O,1,1,()=>{O=null}),Te()),X&3&&(i=Ye(Y[1].ui.e,Y[0].om||Y[0].e>0)),i?F?(F.p(Y,X),X&3&&P(F,1)):(F=Fa(Y),F.c(),P(F,1),F.m(e,o)):F&&(Ce(),D(F,1,1,()=>{F=null}),Te()),X&3&&(r=Ye(Y[1].ui.v,Y[0].u1>100||Y[0].u2>100||Y[0].u3>100)),r?q?(q.p(Y,X),X&3&&P(q,1)):(q=Ra(Y),q.c(),P(q,1),q.m(e,a)):q&&(Ce(),D(q,1,1,()=>{q=null}),Te()),X&3&&(c=Ye(Y[1].ui.a,Y[0].i1>.01||Y[0].i2>.01||Y[0].i3>.01)),c?B?(B.p(Y,X),X&3&&P(B,1)):(B=La(Y),B.c(),P(B,1),B.m(e,f)):B&&(Ce(),D(B,1,1,()=>{B=null}),Te()),X&3&&(_=Ye(Y[1].ui.r,Y[0].ri>0||Y[0].re>0||Y[0].ric>0||Y[0].rec>0)),_?U?(U.p(Y,X),X&3&&P(U,1)):(U=Oa(Y),U.c(),P(U,1),U.m(e,p)):U&&(Ce(),D(U,1,1,()=>{U=null}),Te()),X&3&&(d=Ye(Y[1].ui.c,Y[0].ea)),d?H?(H.p(Y,X),X&3&&P(H,1)):(H=Ua(Y),H.c(),P(H,1),H.m(e,v)):H&&(Ce(),D(H,1,1,()=>{H=null}),Te()),X&3&&(h=Ye(Y[1].ui.t,Y[0].pr&&(Y[0].pr.startsWith("10YNO")||Y[0].pr=="10Y1001A1001A48H"))),h?G?X&3&&P(G,1):(G=qa(),G.c(),P(G,1),G.m(e,g)):G&&(Ce(),D(G,1,1,()=>{G=null}),Te()),X&3&&($=Ye(Y[1].ui.p,Y[0].pe&&!Number.isNaN(Y[0].p))),$?R?(R.p(Y,X),X&3&&P(R,1)):(R=ja(Y),R.c(),P(R,1),R.m(e,C)):R&&(Ce(),D(R,1,1,()=>{R=null}),Te()),X&34&&(T=Ye(Y[1].ui.d,Y[5])),T?W?(W.p(Y,X),X&34&&P(W,1)):(W=Ha(Y),W.c(),P(W,1),W.m(e,M)):W&&(Ce(),D(W,1,1,()=>{W=null}),Te()),X&10&&(I=Ye(Y[1].ui.d,Y[3])),I?te?(te.p(Y,X),X&10&&P(te,1)):(te=Wa(Y),te.c(),P(te,1),te.m(e,S)):te&&(Ce(),D(te,1,1,()=>{te=null}),Te()),X&18&&(A=Ye(Y[1].ui.m,Y[4])),A?oe?(oe.p(Y,X),X&18&&P(oe,1)):(oe=Ga(Y),oe.c(),P(oe,1),oe.m(e,E)):oe&&(Ce(),D(oe,1,1,()=>{oe=null}),Te()),X&67&&(L=Ye(Y[1].ui.s,Y[0].t&&Y[0].t!=-127&&Y[6].c>1)),L?ee?(ee.p(Y,X),X&67&&P(ee,1)):(ee=Ba(Y),ee.c(),P(ee,1),ee.m(e,null)):ee&&(Ce(),D(ee,1,1,()=>{ee=null}),Te())},i(Y){x||(P(O),P(F),P(q),P(B),P(U),P(H),P(G),P(R),P(W),P(te),P(oe),P(ee),x=!0)},o(Y){D(O),D(F),D(q),D(B),D(U),D(H),D(G),D(R),D(W),D(te),D(oe),D(ee),x=!1},d(Y){Y&&k(e),O&&O.d(),F&&F.d(),q&&q.d(),B&&B.d(),U&&U.d(),H&&H.d(),G&&G.d(),R&&R.d(),W&&W.d(),te&&te.d(),oe&&oe.d(),ee&&ee.d()}}}function Np(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,o={},r={},a={},c={},f={};return Sc.subscribe(_=>{l(2,o=_)}),Pc.subscribe(_=>{l(3,r=_)}),Mc.subscribe(_=>{l(4,a=_)}),Nc.subscribe(_=>{l(5,c=_)}),Dc.subscribe(_=>{l(6,f=_)}),t.$$set=_=>{"data"in _&&l(0,n=_.data),"sysinfo"in _&&l(1,i=_.sysinfo)},[n,i,o,r,a,c,f]}class Ap extends ye{constructor(e){super(),we(this,e,Np,Mp,ke,{data:0,sysinfo:1})}}let is={};const qc=lt(is);async function Dp(){is=await(await fetch("/configuration.json")).json(),qc.set(is)}function Ya(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function Ip(t){let e;return{c(){e=m("option"),e.textContent="UART0",e.__value=3,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Ep(t){let e;return{c(){e=m("option"),e.textContent="UART0",e.__value=20,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function za(t){let e;return{c(){e=m("option"),e.textContent="UART2",e.__value=113,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Va(t){let e,l,n;return{c(){e=m("option"),e.textContent="UART1",l=b(),n=m("option"),n.textContent="UART2",e.__value=9,e.value=e.__value,n.__value=16,n.value=n.__value},m(i,o){w(i,e,o),w(i,l,o),w(i,n,o)},d(i){i&&k(e),i&&k(l),i&&k(n)}}}function Ka(t){let e;return{c(){e=m("option"),e.textContent="UART1",e.__value=18,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Qa(t){let e,l,n;return{c(){e=m("option"),l=y("GPIO"),n=y(t[4]),e.__value=t[4],e.value=e.__value},m(i,o){w(i,e,o),s(e,l),s(e,n)},d(i){i&&k(e)}}}function Xa(t){let e,l=t[4]>3&&!(t[0]=="esp32"&&(t[4]==9||t[4]==16))&&!(t[0]=="esp32s2"&&t[4]==18)&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&Qa(t);return{c(){l&&l.c(),e=Ee()},m(n,i){l&&l.m(n,i),w(n,e,i)},p(n,i){n[4]>3&&!(n[0]=="esp32"&&(n[4]==9||n[4]==16))&&!(n[0]=="esp32s2"&&n[4]==18)&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=Qa(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){l&&l.d(n),n&&k(e)}}}function Fp(t){let e,l,n,i,o;function r(h,g){return h[0]=="esp32c3"?Ep:Ip}let a=r(t),c=a(t),f=t[0]=="esp8266"&&za(),_=(t[0]=="esp32"||t[0]=="esp32solo")&&Va(),p=t[0]=="esp32s2"&&Ka(),d={length:t[1]+1},v=[];for(let h=0;h<d.length;h+=1)v[h]=Xa(Ya(t,d,h));return{c(){c.c(),e=b(),f&&f.c(),l=b(),_&&_.c(),n=b(),p&&p.c(),i=b();for(let h=0;h<v.length;h+=1)v[h].c();o=Ee()},m(h,g){c.m(h,g),w(h,e,g),f&&f.m(h,g),w(h,l,g),_&&_.m(h,g),w(h,n,g),p&&p.m(h,g),w(h,i,g);for(let $=0;$<v.length;$+=1)v[$].m(h,g);w(h,o,g)},p(h,[g]){if(a!==(a=r(h))&&(c.d(1),c=a(h),c&&(c.c(),c.m(e.parentNode,e))),h[0]=="esp8266"?f||(f=za(),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),h[0]=="esp32"||h[0]=="esp32solo"?_||(_=Va(),_.c(),_.m(n.parentNode,n)):_&&(_.d(1),_=null),h[0]=="esp32s2"?p||(p=Ka(),p.c(),p.m(i.parentNode,i)):p&&(p.d(1),p=null),g&3){d={length:h[1]+1};let $;for($=0;$<d.length;$+=1){const C=Ya(h,d,$);v[$]?v[$].p(C,g):(v[$]=Xa(C),v[$].c(),v[$].m(o.parentNode,o))}for(;$<v.length;$+=1)v[$].d(1);v.length=d.length}},i:ie,o:ie,d(h){c.d(h),h&&k(e),f&&f.d(h),h&&k(l),_&&_.d(h),h&&k(n),p&&p.d(h),h&&k(i),ul(v,h),h&&k(o)}}}function Rp(t,e,l){let{chip:n}=e,i=39;return t.$$set=o=>{"chip"in o&&l(0,n=o.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32c3":l(1,i=19);break}},[n,i]}class jc extends ye{constructor(e){super(),we(this,e,Rp,Fp,ke,{chip:0})}}function Za(t){let e,l,n=t[1]&&Ja(t);return{c(){e=m("div"),l=m("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,o){w(i,e,o),s(e,l),n&&n.m(l,null)},p(i,o){i[1]?n?n.p(i,o):(n=Ja(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&k(e),n&&n.d()}}}function Ja(t){let e,l;return{c(){e=m("div"),l=y(t[1]),u(e,"class","bg-white m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 w-96")},m(n,i){w(n,e,i),s(e,l)},p(n,i){i&2&&j(l,n[1])},d(n){n&&k(e)}}}function Lp(t){let e,l=t[0]&&Za(t);return{c(){l&&l.c(),e=Ee()},m(n,i){l&&l.m(n,i),w(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Za(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ie,o:ie,d(n){l&&l.d(n),n&&k(e)}}}function Op(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=o=>{"active"in o&&l(0,n=o.active),"message"in o&&l(1,i=o.message)},[n,i]}class Nt extends ye{constructor(e){super(),we(this,e,Op,Lp,ke,{active:0,message:1})}}function xa(t,e,l){const n=t.slice();return n[1]=e[l],n}function ef(t){let e,l,n=t[1]+"",i;return{c(){e=m("option"),l=y("Europe/"),i=y(n),e.__value="Europe/"+t[1],e.value=e.__value},m(o,r){w(o,e,r),s(e,l),s(e,i)},p:ie,d(o){o&&k(e)}}}function Up(t){let e,l,n,i=t[0],o=[];for(let r=0;r<i.length;r+=1)o[r]=ef(xa(t,i,r));return{c(){e=m("option"),e.textContent="GMT",l=b();for(let r=0;r<o.length;r+=1)o[r].c();n=Ee(),e.__value="GMT",e.value=e.__value},m(r,a){w(r,e,a),w(r,l,a);for(let c=0;c<o.length;c+=1)o[c].m(r,a);w(r,n,a)},p(r,[a]){if(a&1){i=r[0];let c;for(c=0;c<i.length;c+=1){const f=xa(r,i,c);o[c]?o[c].p(f,a):(o[c]=ef(f),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:ie,o:ie,d(r){r&&k(e),r&&k(l),ul(o,r),r&&k(n)}}}function qp(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class jp extends ye{constructor(e){super(),we(this,e,qp,Up,ke,{})}}function Hp(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h;return{c(){e=m("optgroup"),l=m("option"),l.textContent="/24",n=b(),i=m("optgroup"),o=m("option"),o.textContent="/25",r=m("option"),r.textContent="/26",a=m("option"),a.textContent="/27",c=m("option"),c.textContent="/28",f=m("option"),f.textContent="/29",_=b(),p=m("optgroup"),d=m("option"),d.textContent="/23",v=m("option"),v.textContent="/22",h=m("option"),h.textContent="/16",l.__value="255.255.255.0",l.value=l.__value,u(e,"label","Most common is /24 (255.255.255.0)"),o.__value="255.255.255.128",o.value=o.__value,r.__value="255.255.255.192",r.value=r.__value,a.__value="255.255.255.224",a.value=a.__value,c.__value="255.255.255.240",c.value=c.__value,f.__value="255.255.255.248",f.value=f.__value,u(i,"label","Smaller subnets"),d.__value="255.255.254.0",d.value=d.__value,v.__value="255.255.252.0",v.value=v.__value,h.__value="255.255.0.0",h.value=h.__value,u(p,"label","Larger subnets")},m(g,$){w(g,e,$),s(e,l),w(g,n,$),w(g,i,$),s(i,o),s(i,r),s(i,a),s(i,c),s(i,f),w(g,_,$),w(g,p,$),s(p,d),s(p,v),s(p,h)},p:ie,i:ie,o:ie,d(g){g&&k(e),g&&k(n),g&&k(i),g&&k(_),g&&k(p)}}}class Hc extends ye{constructor(e){super(),we(this,e,null,Hp,ke,{})}}function tf(t,e,l){const n=t.slice();return n[90]=e[l],n[91]=e,n[92]=l,n}function lf(t,e,l){const n=t.slice();return n[93]=e[l],n[94]=e,n[95]=l,n}function Wp(t,e,l){const n=t.slice();return n[96]=e[l],n}function Gp(t,e,l){const n=t.slice();return n[99]=e[l],n}function Bp(t){let e,l;return{c(){e=m("option"),l=y(t[99]),e.__value=t[99],e.value=e.__value},m(n,i){w(n,e,i),s(e,l)},p:ie,d(n){n&&k(e)}}}function nf(t){let e,l,n,i;return{c(){e=m("br"),l=m("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder","ENTSO-E API key, optional, read docs")},m(o,r){w(o,e,r),w(o,l,r),z(l,t[3].p.t),n||(i=V(l,"input",t[19]),n=!0)},p(o,r){r[0]&8&&l.value!==o[3].p.t&&z(l,o[3].p.t)},d(o){o&&k(e),o&&k(l),n=!1,i()}}}function of(t){let e,l,n,i,o,r,a,c,f,_,p,d,v;return{c(){e=m("div"),l=y("Username"),n=m("br"),i=b(),o=m("input"),r=b(),a=m("div"),c=y("Password"),f=m("br"),_=b(),p=m("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1"),u(p,"name","gp"),u(p,"type","password"),u(p,"class","in-s"),u(a,"class","my-1")},m(h,g){w(h,e,g),s(e,l),s(e,n),s(e,i),s(e,o),z(o,t[3].g.u),w(h,r,g),w(h,a,g),s(a,c),s(a,f),s(a,_),s(a,p),z(p,t[3].g.p),d||(v=[V(o,"input",t[21]),V(p,"input",t[22])],d=!0)},p(h,g){g[0]&8&&o.value!==h[3].g.u&&z(o,h[3].g.u),g[0]&8&&p.value!==h[3].g.p&&z(p,h[3].g.p)},d(h){h&&k(e),h&&k(r),h&&k(a),d=!1,Ve(v)}}}function Yp(t){let e,l=t[96]*100+"",n;return{c(){e=m("option"),n=y(l),e.__value=t[96]*100,e.value=e.__value},m(i,o){w(i,e,o),s(e,n)},p:ie,d(i){i&&k(e)}}}function sf(t){let e,l,n,i;return{c(){e=m("br"),l=m("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s")},m(o,r){w(o,e,r),w(o,l,r),z(l,t[3].m.e.k),n||(i=V(l,"input",t[30]),n=!0)},p(o,r){r[0]&8&&l.value!==o[3].m.e.k&&z(l,o[3].m.e.k)},d(o){o&&k(e),o&&k(l),n=!1,i()}}}function uf(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=y("Authentication key"),n=m("br"),i=b(),o=m("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1")},m(c,f){w(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),z(o,t[3].m.e.a),r||(a=V(o,"input",t[31]),r=!0)},p(c,f){f[0]&8&&o.value!==c[3].m.e.a&&z(o,c[3].m.e.a)},d(c){c&&k(e),r=!1,a()}}}function rf(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C,T,M,I,S,A,E,L,x,O;return{c(){e=m("div"),l=m("div"),n=y("Watt"),i=m("br"),o=b(),r=m("input"),a=b(),c=m("div"),f=y("Volt"),_=m("br"),p=b(),d=m("input"),v=b(),h=m("div"),g=y("Amp"),$=m("br"),C=b(),T=m("input"),M=b(),I=m("div"),S=y("kWh"),A=m("br"),E=b(),L=m("input"),u(r,"name","mmw"),u(r,"type","number"),u(r,"min","0.00"),u(r,"max","1000"),u(r,"step","0.001"),u(r,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(d,"name","mmv"),u(d,"type","number"),u(d,"min","0.00"),u(d,"max","1000"),u(d,"step","0.001"),u(d,"class","in-m tr w-full"),u(c,"class","w-1/4"),u(T,"name","mma"),u(T,"type","number"),u(T,"min","0.00"),u(T,"max","1000"),u(T,"step","0.001"),u(T,"class","in-m tr w-full"),u(h,"class","w-1/4"),u(L,"name","mmc"),u(L,"type","number"),u(L,"min","0.00"),u(L,"max","1000"),u(L,"step","0.001"),u(L,"class","in-l tr w-full"),u(I,"class","w-1/4"),u(e,"class","flex my-1")},m(F,q){w(F,e,q),s(e,l),s(l,n),s(l,i),s(l,o),s(l,r),z(r,t[3].m.m.w),s(e,a),s(e,c),s(c,f),s(c,_),s(c,p),s(c,d),z(d,t[3].m.m.v),s(e,v),s(e,h),s(h,g),s(h,$),s(h,C),s(h,T),z(T,t[3].m.m.a),s(e,M),s(e,I),s(I,S),s(I,A),s(I,E),s(I,L),z(L,t[3].m.m.c),x||(O=[V(r,"input",t[33]),V(d,"input",t[34]),V(T,"input",t[35]),V(L,"input",t[36])],x=!0)},p(F,q){q[0]&8&&fe(r.value)!==F[3].m.m.w&&z(r,F[3].m.m.w),q[0]&8&&fe(d.value)!==F[3].m.m.v&&z(d,F[3].m.m.v),q[0]&8&&fe(T.value)!==F[3].m.m.a&&z(T,F[3].m.m.a),q[0]&8&&fe(L.value)!==F[3].m.m.c&&z(L,F[3].m.m.c)},d(F){F&&k(e),x=!1,Ve(O)}}}function af(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$;return{c(){e=m("div"),l=y("Gateway"),n=m("br"),i=b(),o=m("input"),r=b(),a=m("div"),c=y("DNS"),f=m("br"),_=b(),p=m("div"),d=m("input"),v=b(),h=m("input"),u(o,"name","ng"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1"),u(d,"name","nd1"),u(d,"type","text"),u(d,"class","in-f w-full"),u(h,"name","nd2"),u(h,"type","text"),u(h,"class","in-l w-full"),u(p,"class","flex"),u(a,"class","my-1")},m(C,T){w(C,e,T),s(e,l),s(e,n),s(e,i),s(e,o),z(o,t[3].n.g),w(C,r,T),w(C,a,T),s(a,c),s(a,f),s(a,_),s(a,p),s(p,d),z(d,t[3].n.d1),s(p,v),s(p,h),z(h,t[3].n.d2),g||($=[V(o,"input",t[45]),V(d,"input",t[46]),V(h,"input",t[47])],g=!0)},p(C,T){T[0]&8&&o.value!==C[3].n.g&&z(o,C[3].n.g),T[0]&8&&d.value!==C[3].n.d1&&z(d,C[3].n.d1),T[0]&8&&h.value!==C[3].n.d2&&z(h,C[3].n.d2)},d(C){C&&k(e),C&&k(r),C&&k(a),g=!1,Ve($)}}}function ff(t){let e,l,n,i,o;return{c(){e=m("label"),l=m("input"),n=y(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",l.value=l.__value,u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(r,a){w(r,e,a),s(e,l),l.checked=t[3].q.s.e,s(e,n),i||(o=[V(l,"change",t[51]),V(l,"change",t[11])],i=!0)},p(r,a){a[0]&8&&(l.checked=r[3].q.s.e)},d(r){r&&k(e),i=!1,Ve(o)}}}function cf(t){let e,l,n,i,o,r,a,c;return n=new El({props:{to:"/mqtt-ca",$$slots:{default:[Kp]},$$scope:{ctx:t}}}),o=new El({props:{to:"/mqtt-cert",$$slots:{default:[Zp]},$$scope:{ctx:t}}}),a=new El({props:{to:"/mqtt-key",$$slots:{default:[e0]},$$scope:{ctx:t}}}),{c(){e=m("div"),l=m("div"),J(n.$$.fragment),i=b(),J(o.$$.fragment),r=b(),J(a.$$.fragment),u(e,"class","my-1")},m(f,_){w(f,e,_),s(e,l),K(n,l,null),s(l,i),K(o,l,null),s(l,r),K(a,l,null),c=!0},p(f,_){const p={};_[0]&8|_[3]&512&&(p.$$scope={dirty:_,ctx:f}),n.$set(p);const d={};_[0]&8|_[3]&512&&(d.$$scope={dirty:_,ctx:f}),o.$set(d);const v={};_[0]&8|_[3]&512&&(v.$$scope={dirty:_,ctx:f}),a.$set(v)},i(f){c||(P(n.$$.fragment,f),P(o.$$.fragment,f),P(a.$$.fragment,f),c=!0)},o(f){D(n.$$.fragment,f),D(o.$$.fragment,f),D(a.$$.fragment,f),c=!1},d(f){f&&k(e),Q(n),Q(o),Q(a)}}}function zp(t){let e,l;return e=new sl({props:{color:"blue",text:"Upload CA",title:"Click here to upload CA"}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Vp(t){let e,l;return e=new sl({props:{color:"green",text:"CA OK",title:"Click here to replace CA"}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Kp(t){let e,l,n,i;const o=[Vp,zp],r=[];function a(c,f){return c[3].q.s.c?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ee()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let _=e;e=a(c),e!==_&&(Ce(),D(r[_],1,1,()=>{r[_]=null}),Te(),l=r[e],l||(l=r[e]=o[e](c),l.c()),P(l,1),l.m(n.parentNode,n))},i(c){i||(P(l),i=!0)},o(c){D(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function Qp(t){let e,l;return e=new sl({props:{color:"blue",text:"Upload cert",title:"Click here to upload certificate"}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Xp(t){let e,l;return e=new sl({props:{color:"green",text:"Cert OK",title:"Click here to replace certificate"}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Zp(t){let e,l,n,i;const o=[Xp,Qp],r=[];function a(c,f){return c[3].q.s.r?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ee()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let _=e;e=a(c),e!==_&&(Ce(),D(r[_],1,1,()=>{r[_]=null}),Te(),l=r[e],l||(l=r[e]=o[e](c),l.c()),P(l,1),l.m(n.parentNode,n))},i(c){i||(P(l),i=!0)},o(c){D(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function Jp(t){let e,l;return e=new sl({props:{color:"blue",text:"Upload key",title:"Click here to upload key"}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function xp(t){let e,l;return e=new sl({props:{color:"green",text:"Key OK",title:"Click here to replace key"}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function e0(t){let e,l,n,i;const o=[xp,Jp],r=[];function a(c,f){return c[3].q.s.k?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ee()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let _=e;e=a(c),e!==_&&(Ce(),D(r[_],1,1,()=>{r[_]=null}),Te(),l=r[e],l||(l=r[e]=o[e](c),l.c()),P(l,1),l.m(n.parentNode,n))},i(c){i||(P(l),i=!0)},o(c){D(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function mf(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C,T,M,I,S,A,E,L,x,O,F,q,B,U,H,G;return o=new Et({}),{c(){e=m("div"),l=m("strong"),l.textContent="Domoticz",n=b(),i=m("a"),J(o.$$.fragment),r=b(),a=m("input"),c=b(),f=m("div"),_=m("div"),p=y("Electricity IDX"),d=m("br"),v=b(),h=m("input"),g=b(),$=m("div"),C=y("Current IDX"),T=m("br"),M=b(),I=m("input"),S=b(),A=m("div"),E=y(`Voltage IDX: L1, L2 & L3
                `),L=m("div"),x=m("input"),O=b(),F=m("input"),q=b(),B=m("input"),u(l,"class","text-sm"),u(i,"href",Ft("MQTT-configuration#domoticz")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","o"),a.value="true",u(h,"name","oe"),u(h,"type","text"),u(h,"class","in-f tr w-full"),u(_,"class","w-1/2"),u(I,"name","oc"),u(I,"type","text"),u(I,"class","in-l tr w-full"),u($,"class","w-1/2"),u(f,"class","my-1 flex"),u(x,"name","ou1"),u(x,"type","text"),u(x,"class","in-f tr w-1/3"),u(F,"name","ou2"),u(F,"type","text"),u(F,"class","in-m tr w-1/3"),u(B,"name","ou3"),u(B,"type","text"),u(B,"class","in-l tr w-1/3"),u(L,"class","flex"),u(A,"class","my-1"),u(e,"class","cnt")},m(R,W){w(R,e,W),s(e,l),s(e,n),s(e,i),K(o,i,null),s(e,r),s(e,a),s(e,c),s(e,f),s(f,_),s(_,p),s(_,d),s(_,v),s(_,h),z(h,t[3].o.e),s(f,g),s(f,$),s($,C),s($,T),s($,M),s($,I),z(I,t[3].o.c),s(e,S),s(e,A),s(A,E),s(A,L),s(L,x),z(x,t[3].o.u1),s(L,O),s(L,F),z(F,t[3].o.u2),s(L,q),s(L,B),z(B,t[3].o.u3),U=!0,H||(G=[V(h,"input",t[59]),V(I,"input",t[60]),V(x,"input",t[61]),V(F,"input",t[62]),V(B,"input",t[63])],H=!0)},p(R,W){W[0]&8&&h.value!==R[3].o.e&&z(h,R[3].o.e),W[0]&8&&I.value!==R[3].o.c&&z(I,R[3].o.c),W[0]&8&&x.value!==R[3].o.u1&&z(x,R[3].o.u1),W[0]&8&&F.value!==R[3].o.u2&&z(F,R[3].o.u2),W[0]&8&&B.value!==R[3].o.u3&&z(B,R[3].o.u3)},i(R){U||(P(o.$$.fragment,R),U=!0)},o(R){D(o.$$.fragment,R),U=!1},d(R){R&&k(e),Q(o),H=!1,Ve(G)}}}function pf(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C,T,M,I,S,A,E,L,x,O,F,q,B;return o=new Et({}),{c(){e=m("div"),l=m("strong"),l.textContent="Home-Assistant",n=b(),i=m("a"),J(o.$$.fragment),r=b(),a=m("input"),c=b(),f=m("div"),_=y("Discovery topic prefix"),p=m("br"),d=b(),v=m("input"),h=b(),g=m("div"),$=y("Hostname for URL"),C=m("br"),T=b(),M=m("input"),S=b(),A=m("div"),E=y("Name tag"),L=m("br"),x=b(),O=m("input"),u(l,"class","text-sm"),u(i,"href",Ft("MQTT-configuration#home-assistant")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","h"),a.value="true",u(v,"name","ht"),u(v,"type","text"),u(v,"class","in-s"),u(v,"placeholder","homeassistant"),u(f,"class","my-1"),u(M,"name","hh"),u(M,"type","text"),u(M,"class","in-s"),u(M,"placeholder",I=t[3].g.h+".local"),u(g,"class","my-1"),u(O,"name","hn"),u(O,"type","text"),u(O,"class","in-s"),u(A,"class","my-1"),u(e,"class","cnt")},m(U,H){w(U,e,H),s(e,l),s(e,n),s(e,i),K(o,i,null),s(e,r),s(e,a),s(e,c),s(e,f),s(f,_),s(f,p),s(f,d),s(f,v),z(v,t[3].h.t),s(e,h),s(e,g),s(g,$),s(g,C),s(g,T),s(g,M),z(M,t[3].h.h),s(e,S),s(e,A),s(A,E),s(A,L),s(A,x),s(A,O),z(O,t[3].h.n),F=!0,q||(B=[V(v,"input",t[64]),V(M,"input",t[65]),V(O,"input",t[66])],q=!0)},p(U,H){H[0]&8&&v.value!==U[3].h.t&&z(v,U[3].h.t),(!F||H[0]&8&&I!==(I=U[3].g.h+".local"))&&u(M,"placeholder",I),H[0]&8&&M.value!==U[3].h.h&&z(M,U[3].h.h),H[0]&8&&O.value!==U[3].h.n&&z(O,U[3].h.n)},i(U){F||(P(o.$$.fragment,U),F=!0)},o(U){D(o.$$.fragment,U),F=!1},d(U){U&&k(e),Q(o),q=!1,Ve(B)}}}function _f(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C,T,M;o=new Et({});let I={length:9},S=[];for(let A=0;A<I.length;A+=1)S[A]=df(lf(t,I,A));return{c(){e=m("div"),l=m("strong"),l.textContent="Tariff thresholds",n=b(),i=m("a"),J(o.$$.fragment),r=b(),a=m("input"),c=b(),f=m("div");for(let A=0;A<S.length;A+=1)S[A].c();_=b(),p=m("label"),d=m("span"),d.textContent="Average of",v=b(),h=m("input"),g=b(),$=m("span"),$.textContent="hours",u(l,"class","text-sm"),u(i,"href",Ft("Threshold-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","t"),a.value="true",u(f,"class","flex flex-wrap my-1"),u(d,"class","in-pre"),u(h,"name","th"),u(h,"type","number"),u(h,"min","0"),u(h,"max","255"),u(h,"class","in-txt tr w-full"),u($,"class","in-post"),u(p,"class","flex m-1"),u(e,"class","cnt")},m(A,E){w(A,e,E),s(e,l),s(e,n),s(e,i),K(o,i,null),s(e,r),s(e,a),s(e,c),s(e,f);for(let L=0;L<S.length;L+=1)S[L].m(f,null);s(e,_),s(e,p),s(p,d),s(p,v),s(p,h),z(h,t[3].t.h),s(p,g),s(p,$),C=!0,T||(M=V(h,"input",t[68]),T=!0)},p(A,E){if(E[0]&8){I={length:9};let L;for(L=0;L<I.length;L+=1){const x=lf(A,I,L);S[L]?S[L].p(x,E):(S[L]=df(x),S[L].c(),S[L].m(f,null))}for(;L<S.length;L+=1)S[L].d(1);S.length=I.length}E[0]&8&&fe(h.value)!==A[3].t.h&&z(h,A[3].t.h)},i(A){C||(P(o.$$.fragment,A),C=!0)},o(A){D(o.$$.fragment,A),C=!1},d(A){A&&k(e),Q(o),ul(S,A),T=!1,M()}}}function df(t){let e,l,n=t[95]+1+"",i,o,r,a,c,f,_,p;function d(){t[67].call(r,t[95])}return{c(){e=m("label"),l=m("span"),i=y(n),o=b(),r=m("input"),a=b(),c=m("span"),c.textContent="kWh",f=b(),u(l,"class","in-pre"),u(r,"name","t"+t[95]),u(r,"type","number"),u(r,"min","0"),u(r,"max","65535"),u(r,"class","in-txt w-full"),u(c,"class","in-post"),u(e,"class","flex w-40 m-1")},m(v,h){w(v,e,h),s(e,l),s(l,i),s(e,o),s(e,r),z(r,t[3].t.t[t[95]]),s(e,a),s(e,c),s(e,f),_||(p=V(r,"input",d),_=!0)},p(v,h){t=v,h[0]&8&&fe(r.value)!==t[3].t.t[t[95]]&&z(r,t[3].t.t[t[95]])},d(v){v&&k(e),_=!1,p()}}}function vf(t){let e,l=t[90].name+"",n,i,o,r,a,c,f,_,p,d;function v(){t[69].call(r,t[90])}return{c(){e=m("div"),n=y(l),i=m("br"),o=b(),r=m("select"),a=m("option"),a.textContent="Hide",c=m("option"),c.textContent="Show",f=m("option"),f.textContent="Dynamic",_=b(),a.__value=0,a.value=a.__value,c.__value=1,c.value=c.__value,f.__value=2,f.value=f.__value,u(r,"name","u"+t[90].key),u(r,"class","in-s"),t[3].u[t[90].key]===void 0&&tt(v),u(e,"class","w-1/2")},m(h,g){w(h,e,g),s(e,n),s(e,i),s(e,o),s(e,r),s(r,a),s(r,c),s(r,f),Oe(r,t[3].u[t[90].key]),s(e,_),p||(d=V(r,"change",v),p=!0)},p(h,g){t=h,g[0]&136&&Oe(r,t[3].u[t[90].key])},d(h){h&&k(e),p=!1,d()}}}function hf(t){let e,l,n,i,o,r,a,c;o=new Et({});let f=t[0].board>20&&bf(t),_=t[0].chip=="esp8266"&&wf(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Hardware",n=b(),i=m("a"),J(o.$$.fragment),r=b(),f&&f.c(),a=b(),_&&_.c(),u(l,"class","text-sm"),u(i,"href",Ft("GPIO-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(e,"class","cnt")},m(p,d){w(p,e,d),s(e,l),s(e,n),s(e,i),K(o,i,null),s(e,r),f&&f.m(e,null),s(e,a),_&&_.m(e,null),c=!0},p(p,d){p[0].board>20?f?(f.p(p,d),d[0]&1&&P(f,1)):(f=bf(p),f.c(),P(f,1),f.m(e,a)):f&&(Ce(),D(f,1,1,()=>{f=null}),Te()),p[0].chip=="esp8266"?_?_.p(p,d):(_=wf(p),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i(p){c||(P(o.$$.fragment,p),P(f),c=!0)},o(p){D(o.$$.fragment,p),D(f),c=!1},d(p){p&&k(e),Q(o),f&&f.d(),_&&_.d()}}}function bf(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C,T,M,I,S,A,E,L,x,O,F,q,B,U,H,G,R,W,te,oe,ee,Y,X,$e,Fe,Se,Re,ve,Pe,Ie,pe,se,_e,Z,ue,Me,De,he,le,de,Ue,Ge,Ke;d=new jc({props:{chip:t[0].chip}});let Le=t[0].chip!="esp8266"&&gf(t),We=t[3].i.v.p>0&&kf(t);return{c(){e=m("input"),l=b(),n=m("div"),i=m("div"),o=y("HAN"),r=m("label"),a=m("input"),c=y(" pullup"),f=m("br"),_=b(),p=m("select"),J(d.$$.fragment),v=b(),h=m("div"),g=y("AP button"),$=m("br"),C=b(),T=m("input"),M=b(),I=m("div"),S=y("LED"),A=m("label"),E=m("input"),L=y(" inv"),x=m("br"),O=b(),F=m("div"),q=m("input"),B=b(),U=m("div"),H=y("RGB"),G=m("label"),R=m("input"),W=y(" inverted"),te=m("br"),oe=b(),ee=m("div"),Y=m("input"),X=b(),$e=m("input"),Fe=b(),Se=m("input"),Re=b(),ve=m("div"),Pe=y("Temperature"),Ie=m("br"),pe=b(),se=m("input"),_e=b(),Z=m("div"),ue=y("Analog temp"),Me=m("br"),De=b(),he=m("input"),le=b(),Le&&Le.c(),de=b(),We&&We.c(),u(e,"type","hidden"),u(e,"name","i"),e.value="true",u(a,"name","ihu"),a.__value="true",a.value=a.__value,u(a,"type","checkbox"),u(a,"class","rounded mb-1"),u(r,"class","ml-2"),u(p,"name","ihp"),u(p,"class","in-f w-full"),t[3].i.h.p===void 0&&tt(()=>t[71].call(p)),u(i,"class","w-1/3"),u(T,"name","ia"),u(T,"type","number"),u(T,"min","0"),u(T,"max",t[6]),u(T,"class","in-m tr w-full"),u(h,"class","w-1/3"),u(E,"name","ili"),E.__value="true",E.value=E.__value,u(E,"type","checkbox"),u(E,"class","rounded mb-1"),u(A,"class","ml-4"),u(q,"name","ilp"),u(q,"type","number"),u(q,"min","0"),u(q,"max",t[6]),u(q,"class","in-l tr w-full"),u(F,"class","flex"),u(I,"class","w-1/3"),u(R,"name","iri"),R.__value="true",R.value=R.__value,u(R,"type","checkbox"),u(R,"class","rounded mb-1"),u(G,"class","ml-4"),u(Y,"name","irr"),u(Y,"type","number"),u(Y,"min","0"),u(Y,"max",t[6]),u(Y,"class","in-f tr w-1/3"),u($e,"name","irg"),u($e,"type","number"),u($e,"min","0"),u($e,"max",t[6]),u($e,"class","in-m tr w-1/3"),u(Se,"name","irb"),u(Se,"type","number"),u(Se,"min","0"),u(Se,"max",t[6]),u(Se,"class","in-l tr w-1/3"),u(ee,"class","flex"),u(U,"class","w-full"),u(se,"name","itd"),u(se,"type","number"),u(se,"min","0"),u(se,"max",t[6]),u(se,"class","in-f tr w-full"),u(ve,"class","my-1 w-1/3"),u(he,"name","ita"),u(he,"type","number"),u(he,"min","0"),u(he,"max",t[6]),u(he,"class","in-l tr w-full"),u(Z,"class","my-1 pr-1 w-1/3"),u(n,"class","flex flex-wrap")},m(ae,ge){w(ae,e,ge),w(ae,l,ge),w(ae,n,ge),s(n,i),s(i,o),s(i,r),s(r,a),a.checked=t[3].i.h.u,s(r,c),s(i,f),s(i,_),s(i,p),K(d,p,null),Oe(p,t[3].i.h.p),s(n,v),s(n,h),s(h,g),s(h,$),s(h,C),s(h,T),z(T,t[3].i.a),s(n,M),s(n,I),s(I,S),s(I,A),s(A,E),E.checked=t[3].i.l.i,s(A,L),s(I,x),s(I,O),s(I,F),s(F,q),z(q,t[3].i.l.p),s(n,B),s(n,U),s(U,H),s(U,G),s(G,R),R.checked=t[3].i.r.i,s(G,W),s(U,te),s(U,oe),s(U,ee),s(ee,Y),z(Y,t[3].i.r.r),s(ee,X),s(ee,$e),z($e,t[3].i.r.g),s(ee,Fe),s(ee,Se),z(Se,t[3].i.r.b),s(n,Re),s(n,ve),s(ve,Pe),s(ve,Ie),s(ve,pe),s(ve,se),z(se,t[3].i.t.d),s(n,_e),s(n,Z),s(Z,ue),s(Z,Me),s(Z,De),s(Z,he),z(he,t[3].i.t.a),s(n,le),Le&&Le.m(n,null),s(n,de),We&&We.m(n,null),Ue=!0,Ge||(Ke=[V(a,"change",t[70]),V(p,"change",t[71]),V(T,"input",t[72]),V(E,"change",t[73]),V(q,"input",t[74]),V(R,"change",t[75]),V(Y,"input",t[76]),V($e,"input",t[77]),V(Se,"input",t[78]),V(se,"input",t[79]),V(he,"input",t[80])],Ge=!0)},p(ae,ge){ge[0]&8&&(a.checked=ae[3].i.h.u);const Lt={};ge[0]&1&&(Lt.chip=ae[0].chip),d.$set(Lt),ge[0]&8&&Oe(p,ae[3].i.h.p),(!Ue||ge[0]&64)&&u(T,"max",ae[6]),ge[0]&8&&fe(T.value)!==ae[3].i.a&&z(T,ae[3].i.a),ge[0]&8&&(E.checked=ae[3].i.l.i),(!Ue||ge[0]&64)&&u(q,"max",ae[6]),ge[0]&8&&fe(q.value)!==ae[3].i.l.p&&z(q,ae[3].i.l.p),ge[0]&8&&(R.checked=ae[3].i.r.i),(!Ue||ge[0]&64)&&u(Y,"max",ae[6]),ge[0]&8&&fe(Y.value)!==ae[3].i.r.r&&z(Y,ae[3].i.r.r),(!Ue||ge[0]&64)&&u($e,"max",ae[6]),ge[0]&8&&fe($e.value)!==ae[3].i.r.g&&z($e,ae[3].i.r.g),(!Ue||ge[0]&64)&&u(Se,"max",ae[6]),ge[0]&8&&fe(Se.value)!==ae[3].i.r.b&&z(Se,ae[3].i.r.b),(!Ue||ge[0]&64)&&u(se,"max",ae[6]),ge[0]&8&&fe(se.value)!==ae[3].i.t.d&&z(se,ae[3].i.t.d),(!Ue||ge[0]&64)&&u(he,"max",ae[6]),ge[0]&8&&fe(he.value)!==ae[3].i.t.a&&z(he,ae[3].i.t.a),ae[0].chip!="esp8266"?Le?Le.p(ae,ge):(Le=gf(ae),Le.c(),Le.m(n,de)):Le&&(Le.d(1),Le=null),ae[3].i.v.p>0?We?We.p(ae,ge):(We=kf(ae),We.c(),We.m(n,null)):We&&(We.d(1),We=null)},i(ae){Ue||(P(d.$$.fragment,ae),Ue=!0)},o(ae){D(d.$$.fragment,ae),Ue=!1},d(ae){ae&&k(e),ae&&k(l),ae&&k(n),Q(d),Le&&Le.d(),We&&We.d(),Ge=!1,Ve(Ke)}}}function gf(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=y("Vcc"),n=m("br"),i=b(),o=m("input"),u(o,"name","ivp"),u(o,"type","number"),u(o,"min","0"),u(o,"max",t[6]),u(o,"class","in-s tr w-full"),u(e,"class","my-1 pl-1 w-1/3")},m(c,f){w(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),z(o,t[3].i.v.p),r||(a=V(o,"input",t[81]),r=!0)},p(c,f){f[0]&64&&u(o,"max",c[6]),f[0]&8&&fe(o.value)!==c[3].i.v.p&&z(o,c[3].i.v.p)},d(c){c&&k(e),r=!1,a()}}}function kf(t){let e,l,n,i,o,r,a,c,f,_;return{c(){e=m("div"),l=y("Voltage divider"),n=m("br"),i=b(),o=m("div"),r=m("input"),a=b(),c=m("input"),u(r,"name","ivdv"),u(r,"type","number"),u(r,"min","0"),u(r,"max","65535"),u(r,"class","in-f tr w-full"),u(r,"placeholder","VCC"),u(c,"name","ivdg"),u(c,"type","number"),u(c,"min","0"),u(c,"max","65535"),u(c,"class","in-l tr w-full"),u(c,"placeholder","GND"),u(o,"class","flex"),u(e,"class","my-1")},m(p,d){w(p,e,d),s(e,l),s(e,n),s(e,i),s(e,o),s(o,r),z(r,t[3].i.v.d.v),s(o,a),s(o,c),z(c,t[3].i.v.d.g),f||(_=[V(r,"input",t[82]),V(c,"input",t[83])],f=!0)},p(p,d){d[0]&8&&fe(r.value)!==p[3].i.v.d.v&&z(r,p[3].i.v.d.v),d[0]&8&&fe(c.value)!==p[3].i.v.d.g&&z(c,p[3].i.v.d.g)},d(p){p&&k(e),f=!1,Ve(_)}}}function wf(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C,T=(t[0].board==2||t[0].board==100)&&yf(t);return{c(){e=m("input"),l=b(),n=m("div"),i=m("div"),o=y("Vcc offset"),r=m("br"),a=b(),c=m("input"),f=b(),_=m("div"),p=y("Multiplier"),d=m("br"),v=b(),h=m("input"),g=b(),T&&T.c(),u(e,"type","hidden"),u(e,"name","iv"),e.value="true",u(c,"name","ivo"),u(c,"type","number"),u(c,"min","0.0"),u(c,"max","3.5"),u(c,"step","0.01"),u(c,"class","in-f tr w-full"),u(i,"class","w-1/3"),u(h,"name","ivm"),u(h,"type","number"),u(h,"min","0.1"),u(h,"max","10"),u(h,"step","0.01"),u(h,"class","in-l tr w-full"),u(_,"class","w-1/3 pr-1"),u(n,"class","my-1 flex flex-wrap")},m(M,I){w(M,e,I),w(M,l,I),w(M,n,I),s(n,i),s(i,o),s(i,r),s(i,a),s(i,c),z(c,t[3].i.v.o),s(n,f),s(n,_),s(_,p),s(_,d),s(_,v),s(_,h),z(h,t[3].i.v.m),s(n,g),T&&T.m(n,null),$||(C=[V(c,"input",t[84]),V(h,"input",t[85])],$=!0)},p(M,I){I[0]&8&&fe(c.value)!==M[3].i.v.o&&z(c,M[3].i.v.o),I[0]&8&&fe(h.value)!==M[3].i.v.m&&z(h,M[3].i.v.m),M[0].board==2||M[0].board==100?T?T.p(M,I):(T=yf(M),T.c(),T.m(n,null)):T&&(T.d(1),T=null)},d(M){M&&k(e),M&&k(l),M&&k(n),T&&T.d(),$=!1,Ve(C)}}}function yf(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=y("Boot limit"),n=m("br"),i=b(),o=m("input"),u(o,"name","ivb"),u(o,"type","number"),u(o,"min","2.5"),u(o,"max","3.5"),u(o,"step","0.1"),u(o,"class","in-s tr w-full"),u(e,"class","w-1/3 pl-1")},m(c,f){w(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),z(o,t[3].i.v.b),r||(a=V(o,"input",t[86]),r=!0)},p(c,f){f[0]&8&&fe(o.value)!==c[3].i.v.b&&z(o,c[3].i.v.b)},d(c){c&&k(e),r=!1,a()}}}function $f(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C=t[3].d.t&&Cf();return{c(){e=m("div"),e.textContent="Debug can cause sudden reboots. Do not leave on!",l=b(),n=m("div"),i=m("label"),o=m("input"),r=y(" Enable telnet"),a=b(),C&&C.c(),c=b(),f=m("div"),_=m("select"),p=m("option"),p.textContent="Verbose",d=m("option"),d.textContent="Debug",v=m("option"),v.textContent="Info",h=m("option"),h.textContent="Warning",u(e,"class","bd-red"),u(o,"type","checkbox"),u(o,"name","dt"),o.__value="true",o.value=o.__value,u(o,"class","rounded mb-1"),u(n,"class","my-1"),p.__value=1,p.value=p.__value,d.__value=2,d.value=d.__value,v.__value=3,v.value=v.__value,h.__value=4,h.value=h.__value,u(_,"name","dl"),u(_,"class","in-s"),t[3].d.l===void 0&&tt(()=>t[89].call(_)),u(f,"class","my-1")},m(T,M){w(T,e,M),w(T,l,M),w(T,n,M),s(n,i),s(i,o),o.checked=t[3].d.t,s(i,r),w(T,a,M),C&&C.m(T,M),w(T,c,M),w(T,f,M),s(f,_),s(_,p),s(_,d),s(_,v),s(_,h),Oe(_,t[3].d.l),g||($=[V(o,"change",t[88]),V(_,"change",t[89])],g=!0)},p(T,M){M[0]&8&&(o.checked=T[3].d.t),T[3].d.t?C||(C=Cf(),C.c(),C.m(c.parentNode,c)):C&&(C.d(1),C=null),M[0]&8&&Oe(_,T[3].d.l)},d(T){T&&k(e),T&&k(l),T&&k(n),T&&k(a),C&&C.d(T),T&&k(c),T&&k(f),g=!1,Ve($)}}}function Cf(t){let e;return{c(){e=m("div"),e.textContent="Telnet is unsafe and should be off when not in use",u(e,"class","bd-red")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function t0(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C,T,M,I,S,A,E,L,x,O,F,q,B,U,H,G,R,W,te,oe,ee,Y,X,$e,Fe,Se,Re,ve,Pe,Ie,pe,se,_e,Z,ue,Me,De,he,le,de,Ue,Ge,Ke,Le,We,ae,ge,Lt,Ol,Zt,at,Cl,al,Ot,pt,Qe,Xe,Ze,qe,Je,Be,xe,et,re,be,Ti,fl,un,Tt,Si,Pi,Mi,cl,Ni,Ai,Di,je,ml,Ut,Ul,Ii,Tl,He,rn,ks,an,fn,ws,si,ys,cn,$o,$s,Sl,Jt,Pl,Cs,Ei,Ts,ct,Ml,Ss,Fi,mn,pn,_n,dn,Ri,Ps,ui,qt,Ms,Ns,ql,As,Ds,Is,xt,vn,hn,Es,bn,jl,Fs,Rs,Ls,gn,jt,Os,Li,Us,Hl,qs,js,Hs,kn,Ht,Ws,Oi,Gs,Co,Bs,Wl,Ui,Wt,Ys,zs,Vs,To,qi,Gt,Ks,Qs,Xs,ft,ji,Zs,wn,yn,Js,ri,xs,Gl,eu,tu,lu,pl,nu,Bl,iu,ou,su,_l,uu,$n,Yl,ru,au,fu,At,Cn,Tn,Sn,Pn,cu,zl,mu,pu,_u,Mn,Dt,du,Hi,vu,Wi,Gi,Bt,hu,bu,rt,Bi,gu,Nn,An,ku,Vl,wu,yu,$u,Nl,el,Dn,In,Cu,St,Yi,zi,Tu,Pt,En,Vi,Ki,Su,So,Qi,Xi,Yt,Pu,Mu,ai,Nu,Al,Au,fi,zt,Du,Iu,Eu,Zi,dl,Fu,ze,Ji,Ru,Fn,Rn,Lu,ci,Ou,tl,Uu,Po,qu,ju,Ln,vl,Hu,Vt,Wu,Mo,Kl,Gu,Bu,Yu,hl,zu,Ql,Vu,Ku,Qu,bl,Xu,On,Un,Zu,Ju,xu,gl,er,qn,tr,lr,nr,_t,jn,Hn,Wn,Gn,Bn,Yn,ir,Xl,or,sr,ur,kl,rr,No,Ao,Do=t[3].p.r.startsWith("10YNO")||t[3].p.r=="10Y1001A1001A48H",Io,ll,xi,ar,zn,Vn,fr,mi,cr,pi,mr,Eo,Mt,eo,pr,Kn,Qn,_r,_i,dr,to,lo,Kt,vr,hr,br,Dl,Fo,Xn,gr,no,Zn,kr,io,Ro,Zl,Lo,Jl,Oo,xl,Uo,en,Qt,qo,wr;a=new Et({}),L=new jp({});let Wc=["NOK","SEK","DKK","EUR"],oo=[];for(let N=0;N<4;N+=1)oo[N]=Bp(Gp(t,Wc,N));let dt=t[3].p.e&&t[0].chip!="esp8266"&&nf(t),vt=t[3].g.s>0&&of(t);fn=new Et({});let Gc=[24,48,96,192,384,576,1152],so=[];for(let N=0;N<7;N+=1)so[N]=Yp(Wp(t,Gc,N));let ht=t[3].m.e.e&&sf(t),bt=t[3].m.e.e&&uf(t),gt=t[3].m.m.e&&rf(t);yn=new Et({}),An=new Et({}),En=new Hc({});let kt=t[3].n.m=="static"&&af(t);Rn=new Et({});let wt=t[0].chip!="esp8266"&&ff(t),nt=t[3].q.s.e&&cf(t),it=t[3].q.m==3&&mf(t),ot=t[3].q.m==4&&pf(t),st=Do&&_f(t);Vn=new Et({});let Jn=t[7],yt=[];for(let N=0;N<Jn.length;N+=1)yt[N]=vf(tf(t,Jn,N));let ut=(t[0].board>20||t[0].chip=="esp8266")&&hf(t);Qn=new Et({});let $t=t[3].d.s&&$f(t);return Zl=new Nt({props:{active:t[1],message:"Loading configuration"}}),Jl=new Nt({props:{active:t[2],message:"Saving configuration"}}),xl=new Nt({props:{active:t[4],message:"Performing factory reset"}}),en=new Nt({props:{active:t[5],message:"Device have been factory reset and switched to AP mode"}}),{c(){e=m("form"),l=m("div"),n=m("div"),i=m("strong"),i.textContent="General",o=b(),r=m("a"),J(a.$$.fragment),c=b(),f=m("input"),_=b(),p=m("div"),d=m("div"),v=m("div"),h=y("Hostname"),g=m("br"),$=b(),C=m("input"),T=b(),M=m("div"),I=y("Time zone"),S=m("br"),A=b(),E=m("select"),J(L.$$.fragment),x=b(),O=m("input"),F=b(),q=m("div"),B=m("div"),U=m("div"),H=y("Price region"),G=m("br"),R=b(),W=m("select"),te=m("optgroup"),oe=m("option"),oe.textContent="NO1",ee=m("option"),ee.textContent="NO2",Y=m("option"),Y.textContent="NO3",X=m("option"),X.textContent="NO4",$e=m("option"),$e.textContent="NO5",Fe=m("optgroup"),Se=m("option"),Se.textContent="SE1",Re=m("option"),Re.textContent="SE2",ve=m("option"),ve.textContent="SE3",Pe=m("option"),Pe.textContent="SE4",Ie=m("optgroup"),pe=m("option"),pe.textContent="DK1",se=m("option"),se.textContent="DK2",_e=m("option"),_e.textContent="Austria",Z=m("option"),Z.textContent="Belgium",ue=m("option"),ue.textContent="Czech Republic",Me=m("option"),Me.textContent="Estonia",De=m("option"),De.textContent="Finland",he=m("option"),he.textContent="France",le=m("option"),le.textContent="Germany",de=m("option"),de.textContent="Great Britain",Ue=m("option"),Ue.textContent="Latvia",Ge=m("option"),Ge.textContent="Lithuania",Ke=m("option"),Ke.textContent="Netherland",Le=m("option"),Le.textContent="Poland",We=m("option"),We.textContent="Switzerland",ae=b(),ge=m("div"),Lt=y("Currency"),Ol=m("br"),Zt=b(),at=m("select");for(let N=0;N<4;N+=1)oo[N].c();Cl=b(),al=m("div"),Ot=m("div"),pt=m("div"),Qe=y("Fixed price"),Xe=m("br"),Ze=b(),qe=m("input"),Je=b(),Be=m("div"),xe=y("Multiplier"),et=m("br"),re=b(),be=m("input"),Ti=b(),fl=m("div"),un=m("label"),Tt=m("input"),Si=y(" Enable price fetch from remote server"),Pi=b(),dt&&dt.c(),Mi=b(),cl=m("div"),Ni=y("Security"),Ai=m("br"),Di=b(),je=m("select"),ml=m("option"),ml.textContent="None",Ut=m("option"),Ut.textContent="Only configuration",Ul=m("option"),Ul.textContent="Everything",Ii=b(),vt&&vt.c(),Tl=b(),He=m("div"),rn=m("strong"),rn.textContent="Meter",ks=b(),an=m("a"),J(fn.$$.fragment),ws=b(),si=m("input"),ys=b(),cn=m("div"),$o=m("span"),$o.textContent="Serial configuration",$s=b(),Sl=m("div"),Jt=m("select"),Pl=m("option"),Cs=y("Autodetect");for(let N=0;N<7;N+=1)so[N].c();Ts=b(),ct=m("select"),Ml=m("option"),Ss=y("-"),mn=m("option"),mn.textContent="7N1",pn=m("option"),pn.textContent="8N1",_n=m("option"),_n.textContent="7E1",dn=m("option"),dn.textContent="8E1",Ps=b(),ui=m("label"),qt=m("input"),Ms=y(" inverted"),Ns=b(),ql=m("div"),As=y("Voltage"),Ds=m("br"),Is=b(),xt=m("select"),vn=m("option"),vn.textContent="400V (TN)",hn=m("option"),hn.textContent="230V (IT/TT)",Es=b(),bn=m("div"),jl=m("div"),Fs=y("Main fuse"),Rs=m("br"),Ls=b(),gn=m("label"),jt=m("input"),Os=b(),Li=m("span"),Li.textContent="A",Us=b(),Hl=m("div"),qs=y("Production"),js=m("br"),Hs=b(),kn=m("label"),Ht=m("input"),Ws=b(),Oi=m("span"),Oi.textContent="kWp",Gs=b(),Co=m("div"),Bs=b(),Wl=m("div"),Ui=m("label"),Wt=m("input"),Ys=y(" Meter is encrypted"),zs=b(),ht&&ht.c(),Vs=b(),bt&&bt.c(),To=b(),qi=m("label"),Gt=m("input"),Ks=y(" Multipliers"),Qs=b(),gt&&gt.c(),Xs=b(),ft=m("div"),ji=m("strong"),ji.textContent="WiFi",Zs=b(),wn=m("a"),J(yn.$$.fragment),Js=b(),ri=m("input"),xs=b(),Gl=m("div"),eu=y("SSID"),tu=m("br"),lu=b(),pl=m("input"),nu=b(),Bl=m("div"),iu=y("Password"),ou=m("br"),su=b(),_l=m("input"),uu=b(),$n=m("div"),Yl=m("div"),ru=y("Power saving"),au=m("br"),fu=b(),At=m("select"),Cn=m("option"),Cn.textContent="Default",Tn=m("option"),Tn.textContent="Off",Sn=m("option"),Sn.textContent="Minimum",Pn=m("option"),Pn.textContent="Maximum",cu=b(),zl=m("div"),mu=y("Power"),pu=m("br"),_u=b(),Mn=m("div"),Dt=m("input"),du=b(),Hi=m("span"),Hi.textContent="dBm",vu=b(),Wi=m("div"),Gi=m("label"),Bt=m("input"),hu=y(" Start a Wifi AP on home Wifi connection problem. Note: The AP is secured. But one can find the password on my github readme file so you should think about setting some security using General sections Security settings"),bu=b(),rt=m("div"),Bi=m("strong"),Bi.textContent="Network",gu=b(),Nn=m("a"),J(An.$$.fragment),ku=b(),Vl=m("div"),wu=y("IP"),yu=m("br"),$u=b(),Nl=m("div"),el=m("select"),Dn=m("option"),Dn.textContent="DHCP",In=m("option"),In.textContent="Static",Cu=b(),St=m("input"),Tu=b(),Pt=m("select"),J(En.$$.fragment),Su=b(),kt&&kt.c(),So=b(),Qi=m("div"),Xi=m("label"),Yt=m("input"),Pu=y(" enable mDNS"),Mu=b(),ai=m("input"),Nu=b(),Al=m("div"),Au=y("NTP "),fi=m("label"),zt=m("input"),Du=y(" obtain from DHCP"),Iu=m("br"),Eu=b(),Zi=m("div"),dl=m("input"),Fu=b(),ze=m("div"),Ji=m("strong"),Ji.textContent="MQTT",Ru=b(),Fn=m("a"),J(Rn.$$.fragment),Lu=b(),ci=m("input"),Ou=b(),tl=m("div"),Uu=y(`Server
                `),wt&&wt.c(),Po=b(),qu=m("br"),ju=b(),Ln=m("div"),vl=m("input"),Hu=b(),Vt=m("input"),Wu=b(),nt&&nt.c(),Mo=b(),Kl=m("div"),Gu=y("Username"),Bu=m("br"),Yu=b(),hl=m("input"),zu=b(),Ql=m("div"),Vu=y("Password"),Ku=m("br"),Qu=b(),bl=m("input"),Xu=b(),On=m("div"),Un=m("div"),Zu=y("Client ID"),Ju=m("br"),xu=b(),gl=m("input"),er=b(),qn=m("div"),tr=y("Payload"),lr=m("br"),nr=b(),_t=m("select"),jn=m("option"),jn.textContent="JSON",Hn=m("option"),Hn.textContent="Raw (minimal)",Wn=m("option"),Wn.textContent="Raw (full)",Gn=m("option"),Gn.textContent="Domoticz",Bn=m("option"),Bn.textContent="HomeAssistant",Yn=m("option"),Yn.textContent="HEX dump",ir=b(),Xl=m("div"),or=y("Publish topic"),sr=m("br"),ur=b(),kl=m("input"),rr=b(),it&&it.c(),No=b(),ot&&ot.c(),Ao=b(),st&&st.c(),Io=b(),ll=m("div"),xi=m("strong"),xi.textContent="User interface",ar=b(),zn=m("a"),J(Vn.$$.fragment),fr=b(),mi=m("input"),cr=b(),pi=m("div");for(let N=0;N<yt.length;N+=1)yt[N].c();mr=b(),ut&&ut.c(),Eo=b(),Mt=m("div"),eo=m("strong"),eo.textContent="Debugging",pr=b(),Kn=m("a"),J(Qn.$$.fragment),_r=b(),_i=m("input"),dr=b(),to=m("div"),lo=m("label"),Kt=m("input"),vr=y(" Enable debugging"),hr=b(),$t&&$t.c(),br=b(),Dl=m("div"),Fo=m("div"),Xn=m("button"),Xn.textContent="Factory reset",gr=b(),no=m("div"),Zn=m("button"),Zn.textContent="Reboot",kr=b(),io=m("div"),io.innerHTML='<button type="submit" class="btn-pri">Save</button>',Ro=b(),J(Zl.$$.fragment),Lo=b(),J(Jl.$$.fragment),Oo=b(),J(xl.$$.fragment),Uo=b(),J(en.$$.fragment),u(i,"class","text-sm"),u(r,"href",Ft("General-configuration")),u(r,"target","_blank"),u(r,"class","float-right"),u(f,"type","hidden"),u(f,"name","g"),f.value="true",u(C,"name","gh"),u(C,"type","text"),u(C,"class","in-f w-full"),u(C,"pattern","[A-Za-z0-9-]+"),u(E,"name","gt"),u(E,"class","in-l w-full"),t[3].g.t===void 0&&tt(()=>t[13].call(E)),u(d,"class","flex"),u(p,"class","my-1"),u(O,"type","hidden"),u(O,"name","p"),O.value="true",oe.__value="10YNO-1--------2",oe.value=oe.__value,ee.__value="10YNO-2--------T",ee.value=ee.__value,Y.__value="10YNO-3--------J",Y.value=Y.__value,X.__value="10YNO-4--------9",X.value=X.__value,$e.__value="10Y1001A1001A48H",$e.value=$e.__value,u(te,"label","Norway"),Se.__value="10Y1001A1001A44P",Se.value=Se.__value,Re.__value="10Y1001A1001A45N",Re.value=Re.__value,ve.__value="10Y1001A1001A46L",ve.value=ve.__value,Pe.__value="10Y1001A1001A47J",Pe.value=Pe.__value,u(Fe,"label","Sweden"),pe.__value="10YDK-1--------W",pe.value=pe.__value,se.__value="10YDK-2--------M",se.value=se.__value,u(Ie,"label","Denmark"),_e.__value="10YAT-APG------L",_e.value=_e.__value,Z.__value="10YBE----------2",Z.value=Z.__value,ue.__value="10YCZ-CEPS-----N",ue.value=ue.__value,Me.__value="10Y1001A1001A39I",Me.value=Me.__value,De.__value="10YFI-1--------U",De.value=De.__value,he.__value="10YFR-RTE------C",he.value=he.__value,le.__value="10Y1001A1001A83F",le.value=le.__value,de.__value="10YGB----------A",de.value=de.__value,Ue.__value="10YLV-1001A00074",Ue.value=Ue.__value,Ge.__value="10YLT-1001A0008Q",Ge.value=Ge.__value,Ke.__value="10YNL----------L",Ke.value=Ke.__value,Le.__value="10YPL-AREA-----S",Le.value=Le.__value,We.__value="10YCH-SWISSGRIDZ",We.value=We.__value,u(W,"name","pr"),u(W,"class","in-f w-full"),t[3].p.r===void 0&&tt(()=>t[14].call(W)),u(U,"class","w-full"),u(at,"name","pc"),u(at,"class","in-l"),t[3].p.c===void 0&&tt(()=>t[15].call(at)),u(B,"class","flex"),u(q,"class","my-1"),u(qe,"name","pf"),u(qe,"type","number"),u(qe,"min","0.001"),u(qe,"max","65"),u(qe,"step","0.001"),u(qe,"class","in-f tr w-full"),u(pt,"class","w-1/2"),u(be,"name","pm"),u(be,"type","number"),u(be,"min","0.001"),u(be,"max","1000"),u(be,"step","0.001"),u(be,"class","in-l tr w-full"),u(Be,"class","w-1/2"),u(Ot,"class","flex"),u(al,"class","my-1"),u(Tt,"type","checkbox"),u(Tt,"name","pe"),Tt.__value="true",Tt.value=Tt.__value,u(Tt,"class","rounded mb-1"),u(fl,"class","my-1"),ml.__value=0,ml.value=ml.__value,Ut.__value=1,Ut.value=Ut.__value,Ul.__value=2,Ul.value=Ul.__value,u(je,"name","gs"),u(je,"class","in-s"),t[3].g.s===void 0&&tt(()=>t[20].call(je)),u(cl,"class","my-1"),u(n,"class","cnt"),u(rn,"class","text-sm"),u(an,"href",Ft("Meter-configuration")),u(an,"target","_blank"),u(an,"class","float-right"),u(si,"type","hidden"),u(si,"name","m"),si.value="true",Pl.__value=0,Pl.value=Pl.__value,Pl.disabled=Ei=t[3].m.b!=0,u(Jt,"name","mb"),u(Jt,"class","in-f"),t[3].m.b===void 0&&tt(()=>t[23].call(Jt)),Ml.__value=0,Ml.value=Ml.__value,Ml.disabled=Fi=t[3].m.b!=0,mn.__value=2,mn.value=mn.__value,pn.__value=3,pn.value=pn.__value,_n.__value=10,_n.value=_n.__value,dn.__value=11,dn.value=dn.__value,u(ct,"name","mp"),u(ct,"class","in-l"),ct.disabled=Ri=t[3].m.b==0,t[3].m.p===void 0&&tt(()=>t[24].call(ct)),u(qt,"name","mi"),qt.__value="true",qt.value=qt.__value,u(qt,"type","checkbox"),u(qt,"class","rounded mb-1"),u(ui,"class","mt-2 ml-3 whitespace-nowrap"),u(Sl,"class","flex"),u(cn,"class","my-1"),vn.__value=2,vn.value=vn.__value,hn.__value=1,hn.value=hn.__value,u(xt,"name","md"),u(xt,"class","in-s"),t[3].m.d===void 0&&tt(()=>t[26].call(xt)),u(ql,"class","my-1"),u(jt,"name","mf"),u(jt,"type","number"),u(jt,"min","5"),u(jt,"max","65535"),u(jt,"class","in-f tr w-full"),u(Li,"class","in-post"),u(gn,"class","flex"),u(jl,"class","mx-1"),u(Ht,"name","mr"),u(Ht,"type","number"),u(Ht,"min","0"),u(Ht,"max","65535"),u(Ht,"class","in-f tr w-full"),u(Oi,"class","in-post"),u(kn,"class","flex"),u(Hl,"class","mx-1"),u(bn,"class","my-1 flex"),u(Co,"class","my-1"),u(Wt,"type","checkbox"),u(Wt,"name","me"),Wt.__value="true",Wt.value=Wt.__value,u(Wt,"class","rounded mb-1"),u(Wl,"class","my-1"),u(Gt,"type","checkbox"),u(Gt,"name","mm"),Gt.__value="true",Gt.value=Gt.__value,u(Gt,"class","rounded mb-1"),u(He,"class","cnt"),u(ji,"class","text-sm"),u(wn,"href",Ft("WiFi-configuration")),u(wn,"target","_blank"),u(wn,"class","float-right"),u(ri,"type","hidden"),u(ri,"name","w"),ri.value="true",u(pl,"name","ws"),u(pl,"type","text"),u(pl,"class","in-s"),u(Gl,"class","my-1"),u(_l,"name","wp"),u(_l,"type","password"),u(_l,"class","in-s"),u(Bl,"class","my-1"),Cn.__value=255,Cn.value=Cn.__value,Tn.__value=0,Tn.value=Tn.__value,Sn.__value=1,Sn.value=Sn.__value,Pn.__value=2,Pn.value=Pn.__value,u(At,"name","wz"),u(At,"class","in-s"),t[3].w.z===void 0&&tt(()=>t[39].call(At)),u(Yl,"class","w-1/2"),u(Dt,"name","ww"),u(Dt,"type","number"),u(Dt,"min","0"),u(Dt,"max","20.5"),u(Dt,"step","0.5"),u(Dt,"class","in-f tr w-full"),u(Hi,"class","in-post"),u(Mn,"class","flex"),u(zl,"class","ml-2 w-1/2"),u($n,"class","my-1 flex"),u(Bt,"type","checkbox"),u(Bt,"name","wa"),Bt.__value="true",Bt.value=Bt.__value,u(Bt,"class","rounded mb-1"),u(Wi,"class","my-3"),u(ft,"class","cnt"),u(Bi,"class","text-sm"),u(Nn,"href",Ft("Network-configuration")),u(Nn,"target","_blank"),u(Nn,"class","float-right"),Dn.__value="dhcp",Dn.value=Dn.__value,In.__value="static",In.value=In.__value,u(el,"name","nm"),u(el,"class","in-f"),t[3].n.m===void 0&&tt(()=>t[42].call(el)),u(St,"name","ni"),u(St,"type","text"),u(St,"class","in-m w-full"),St.disabled=Yi=t[3].n.m=="dhcp",St.required=zi=t[3].n.m=="static",u(Pt,"name","ns"),u(Pt,"class","in-l"),Pt.disabled=Vi=t[3].n.m=="dhcp",Pt.required=Ki=t[3].n.m=="static",t[3].n.s===void 0&&tt(()=>t[44].call(Pt)),u(Nl,"class","flex"),u(Vl,"class","my-1"),u(Yt,"name","nd"),Yt.__value="true",Yt.value=Yt.__value,u(Yt,"type","checkbox"),u(Yt,"class","rounded mb-1"),u(Qi,"class","my-1"),u(ai,"type","hidden"),u(ai,"name","ntp"),ai.value="true",u(zt,"name","ntpd"),zt.__value="true",zt.value=zt.__value,u(zt,"type","checkbox"),u(zt,"class","rounded mb-1"),u(fi,"class","ml-4"),u(dl,"name","ntph"),u(dl,"type","text"),u(dl,"class","in-s"),u(Zi,"class","flex"),u(Al,"class","my-1"),u(rt,"class","cnt"),u(Ji,"class","text-sm"),u(Fn,"href",Ft("MQTT-configuration")),u(Fn,"target","_blank"),u(Fn,"class","float-right"),u(ci,"type","hidden"),u(ci,"name","q"),ci.value="true",u(vl,"name","qh"),u(vl,"type","text"),u(vl,"class","in-f w-3/4"),u(Vt,"name","qp"),u(Vt,"type","number"),u(Vt,"min","1024"),u(Vt,"max","65535"),u(Vt,"class","in-l tr w-1/4"),u(Ln,"class","flex"),u(tl,"class","my-1"),u(hl,"name","qu"),u(hl,"type","text"),u(hl,"class","in-s"),u(Kl,"class","my-1"),u(bl,"name","qa"),u(bl,"type","password"),u(bl,"class","in-s"),u(Ql,"class","my-1"),u(gl,"name","qc"),u(gl,"type","text"),u(gl,"class","in-f w-full"),jn.__value=0,jn.value=jn.__value,Hn.__value=1,Hn.value=Hn.__value,Wn.__value=2,Wn.value=Wn.__value,Gn.__value=3,Gn.value=Gn.__value,Bn.__value=4,Bn.value=Bn.__value,Yn.__value=255,Yn.value=Yn.__value,u(_t,"name","qm"),u(_t,"class","in-l"),t[3].q.m===void 0&&tt(()=>t[57].call(_t)),u(On,"class","my-1 flex"),u(kl,"name","qb"),u(kl,"type","text"),u(kl,"class","in-s"),u(Xl,"class","my-1"),u(ze,"class","cnt"),u(xi,"class","text-sm"),u(zn,"href",Ft("User-interface")),u(zn,"target","_blank"),u(zn,"class","float-right"),u(mi,"type","hidden"),u(mi,"name","u"),mi.value="true",u(pi,"class","flex flex-wrap"),u(ll,"class","cnt"),u(eo,"class","text-sm"),u(Kn,"href","https://amsleser.no/blog/post/24-telnet-debug"),u(Kn,"target","_blank"),u(Kn,"class","float-right"),u(_i,"type","hidden"),u(_i,"name","d"),_i.value="true",u(Kt,"type","checkbox"),u(Kt,"name","ds"),Kt.__value="true",Kt.value=Kt.__value,u(Kt,"class","rounded mb-1"),u(to,"class","mt-3"),u(Mt,"class","cnt"),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(Xn,"type","button"),u(Xn,"class","py-2 px-4 rounded bg-red-500 text-white ml-2"),u(Zn,"type","button"),u(Zn,"class","py-2 px-4 rounded bg-yellow-500 text-white"),u(no,"class","text-center"),u(io,"class","text-right"),u(Dl,"class","grid grid-cols-3"),u(e,"autocomplete","off")},m(N,ne){w(N,e,ne),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),K(a,r,null),s(n,c),s(n,f),s(n,_),s(n,p),s(p,d),s(d,v),s(v,h),s(v,g),s(v,$),s(v,C),z(C,t[3].g.h),s(d,T),s(d,M),s(M,I),s(M,S),s(M,A),s(M,E),K(L,E,null),Oe(E,t[3].g.t),s(n,x),s(n,O),s(n,F),s(n,q),s(q,B),s(B,U),s(U,H),s(U,G),s(U,R),s(U,W),s(W,te),s(te,oe),s(te,ee),s(te,Y),s(te,X),s(te,$e),s(W,Fe),s(Fe,Se),s(Fe,Re),s(Fe,ve),s(Fe,Pe),s(W,Ie),s(Ie,pe),s(Ie,se),s(W,_e),s(W,Z),s(W,ue),s(W,Me),s(W,De),s(W,he),s(W,le),s(W,de),s(W,Ue),s(W,Ge),s(W,Ke),s(W,Le),s(W,We),Oe(W,t[3].p.r),s(B,ae),s(B,ge),s(ge,Lt),s(ge,Ol),s(ge,Zt),s(ge,at);for(let Ct=0;Ct<4;Ct+=1)oo[Ct].m(at,null);Oe(at,t[3].p.c),s(n,Cl),s(n,al),s(al,Ot),s(Ot,pt),s(pt,Qe),s(pt,Xe),s(pt,Ze),s(pt,qe),z(qe,t[3].p.f),s(Ot,Je),s(Ot,Be),s(Be,xe),s(Be,et),s(Be,re),s(Be,be),z(be,t[3].p.m),s(n,Ti),s(n,fl),s(fl,un),s(un,Tt),Tt.checked=t[3].p.e,s(un,Si),s(fl,Pi),dt&&dt.m(fl,null),s(n,Mi),s(n,cl),s(cl,Ni),s(cl,Ai),s(cl,Di),s(cl,je),s(je,ml),s(je,Ut),s(je,Ul),Oe(je,t[3].g.s),s(n,Ii),vt&&vt.m(n,null),s(l,Tl),s(l,He),s(He,rn),s(He,ks),s(He,an),K(fn,an,null),s(He,ws),s(He,si),s(He,ys),s(He,cn),s(cn,$o),s(cn,$s),s(cn,Sl),s(Sl,Jt),s(Jt,Pl),s(Pl,Cs);for(let Ct=0;Ct<7;Ct+=1)so[Ct].m(Jt,null);Oe(Jt,t[3].m.b),s(Sl,Ts),s(Sl,ct),s(ct,Ml),s(Ml,Ss),s(ct,mn),s(ct,pn),s(ct,_n),s(ct,dn),Oe(ct,t[3].m.p),s(Sl,Ps),s(Sl,ui),s(ui,qt),qt.checked=t[3].m.i,s(ui,Ms),s(He,Ns),s(He,ql),s(ql,As),s(ql,Ds),s(ql,Is),s(ql,xt),s(xt,vn),s(xt,hn),Oe(xt,t[3].m.d),s(He,Es),s(He,bn),s(bn,jl),s(jl,Fs),s(jl,Rs),s(jl,Ls),s(jl,gn),s(gn,jt),z(jt,t[3].m.f),s(gn,Os),s(gn,Li),s(bn,Us),s(bn,Hl),s(Hl,qs),s(Hl,js),s(Hl,Hs),s(Hl,kn),s(kn,Ht),z(Ht,t[3].m.r),s(kn,Ws),s(kn,Oi),s(He,Gs),s(He,Co),s(He,Bs),s(He,Wl),s(Wl,Ui),s(Ui,Wt),Wt.checked=t[3].m.e.e,s(Ui,Ys),s(Wl,zs),ht&&ht.m(Wl,null),s(He,Vs),bt&&bt.m(He,null),s(He,To),s(He,qi),s(qi,Gt),Gt.checked=t[3].m.m.e,s(qi,Ks),s(He,Qs),gt&&gt.m(He,null),s(l,Xs),s(l,ft),s(ft,ji),s(ft,Zs),s(ft,wn),K(yn,wn,null),s(ft,Js),s(ft,ri),s(ft,xs),s(ft,Gl),s(Gl,eu),s(Gl,tu),s(Gl,lu),s(Gl,pl),z(pl,t[3].w.s),s(ft,nu),s(ft,Bl),s(Bl,iu),s(Bl,ou),s(Bl,su),s(Bl,_l),z(_l,t[3].w.p),s(ft,uu),s(ft,$n),s($n,Yl),s(Yl,ru),s(Yl,au),s(Yl,fu),s(Yl,At),s(At,Cn),s(At,Tn),s(At,Sn),s(At,Pn),Oe(At,t[3].w.z),s($n,cu),s($n,zl),s(zl,mu),s(zl,pu),s(zl,_u),s(zl,Mn),s(Mn,Dt),z(Dt,t[3].w.w),s(Mn,du),s(Mn,Hi),s(ft,vu),s(ft,Wi),s(Wi,Gi),s(Gi,Bt),Bt.checked=t[3].w.a,s(Gi,hu),s(l,bu),s(l,rt),s(rt,Bi),s(rt,gu),s(rt,Nn),K(An,Nn,null),s(rt,ku),s(rt,Vl),s(Vl,wu),s(Vl,yu),s(Vl,$u),s(Vl,Nl),s(Nl,el),s(el,Dn),s(el,In),Oe(el,t[3].n.m),s(Nl,Cu),s(Nl,St),z(St,t[3].n.i),s(Nl,Tu),s(Nl,Pt),K(En,Pt,null),Oe(Pt,t[3].n.s),s(rt,Su),kt&&kt.m(rt,null),s(rt,So),s(rt,Qi),s(Qi,Xi),s(Xi,Yt),Yt.checked=t[3].n.d,s(Xi,Pu),s(rt,Mu),s(rt,ai),s(rt,Nu),s(rt,Al),s(Al,Au),s(Al,fi),s(fi,zt),zt.checked=t[3].n.h,s(fi,Du),s(Al,Iu),s(Al,Eu),s(Al,Zi),s(Zi,dl),z(dl,t[3].n.n1),s(l,Fu),s(l,ze),s(ze,Ji),s(ze,Ru),s(ze,Fn),K(Rn,Fn,null),s(ze,Lu),s(ze,ci),s(ze,Ou),s(ze,tl),s(tl,Uu),wt&&wt.m(tl,null),s(tl,Po),s(tl,qu),s(tl,ju),s(tl,Ln),s(Ln,vl),z(vl,t[3].q.h),s(Ln,Hu),s(Ln,Vt),z(Vt,t[3].q.p),s(ze,Wu),nt&&nt.m(ze,null),s(ze,Mo),s(ze,Kl),s(Kl,Gu),s(Kl,Bu),s(Kl,Yu),s(Kl,hl),z(hl,t[3].q.u),s(ze,zu),s(ze,Ql),s(Ql,Vu),s(Ql,Ku),s(Ql,Qu),s(Ql,bl),z(bl,t[3].q.a),s(ze,Xu),s(ze,On),s(On,Un),s(Un,Zu),s(Un,Ju),s(Un,xu),s(Un,gl),z(gl,t[3].q.c),s(On,er),s(On,qn),s(qn,tr),s(qn,lr),s(qn,nr),s(qn,_t),s(_t,jn),s(_t,Hn),s(_t,Wn),s(_t,Gn),s(_t,Bn),s(_t,Yn),Oe(_t,t[3].q.m),s(ze,ir),s(ze,Xl),s(Xl,or),s(Xl,sr),s(Xl,ur),s(Xl,kl),z(kl,t[3].q.b),s(l,rr),it&&it.m(l,null),s(l,No),ot&&ot.m(l,null),s(l,Ao),st&&st.m(l,null),s(l,Io),s(l,ll),s(ll,xi),s(ll,ar),s(ll,zn),K(Vn,zn,null),s(ll,fr),s(ll,mi),s(ll,cr),s(ll,pi);for(let Ct=0;Ct<yt.length;Ct+=1)yt[Ct].m(pi,null);s(l,mr),ut&&ut.m(l,null),s(l,Eo),s(l,Mt),s(Mt,eo),s(Mt,pr),s(Mt,Kn),K(Qn,Kn,null),s(Mt,_r),s(Mt,_i),s(Mt,dr),s(Mt,to),s(to,lo),s(lo,Kt),Kt.checked=t[3].d.s,s(lo,vr),s(Mt,hr),$t&&$t.m(Mt,null),s(e,br),s(e,Dl),s(Dl,Fo),s(Fo,Xn),s(Dl,gr),s(Dl,no),s(no,Zn),s(Dl,kr),s(Dl,io),w(N,Ro,ne),K(Zl,N,ne),w(N,Lo,ne),K(Jl,N,ne),w(N,Oo,ne),K(xl,N,ne),w(N,Uo,ne),K(en,N,ne),Qt=!0,qo||(wr=[V(C,"input",t[12]),V(E,"change",t[13]),V(W,"change",t[14]),V(at,"change",t[15]),V(qe,"input",t[16]),V(be,"input",t[17]),V(Tt,"change",t[18]),V(je,"change",t[20]),V(Jt,"change",t[23]),V(ct,"change",t[24]),V(qt,"change",t[25]),V(xt,"change",t[26]),V(jt,"input",t[27]),V(Ht,"input",t[28]),V(Wt,"change",t[29]),V(Gt,"change",t[32]),V(pl,"input",t[37]),V(_l,"input",t[38]),V(At,"change",t[39]),V(Dt,"input",t[40]),V(Bt,"change",t[41]),V(el,"change",t[42]),V(St,"input",t[43]),V(Pt,"change",t[44]),V(Yt,"change",t[48]),V(zt,"change",t[49]),V(dl,"input",t[50]),V(vl,"input",t[52]),V(Vt,"input",t[53]),V(hl,"input",t[54]),V(bl,"input",t[55]),V(gl,"input",t[56]),V(_t,"change",t[57]),V(kl,"input",t[58]),V(Kt,"change",t[87]),V(Xn,"click",t[8]),V(Zn,"click",t[10]),V(e,"submit",wo(t[9]))],qo=!0)},p(N,ne){if(ne[0]&8&&C.value!==N[3].g.h&&z(C,N[3].g.h),ne[0]&8&&Oe(E,N[3].g.t),ne[0]&8&&Oe(W,N[3].p.r),ne[0]&8&&Oe(at,N[3].p.c),ne[0]&8&&fe(qe.value)!==N[3].p.f&&z(qe,N[3].p.f),ne[0]&8&&fe(be.value)!==N[3].p.m&&z(be,N[3].p.m),ne[0]&8&&(Tt.checked=N[3].p.e),N[3].p.e&&N[0].chip!="esp8266"?dt?dt.p(N,ne):(dt=nf(N),dt.c(),dt.m(fl,null)):dt&&(dt.d(1),dt=null),ne[0]&8&&Oe(je,N[3].g.s),N[3].g.s>0?vt?vt.p(N,ne):(vt=of(N),vt.c(),vt.m(n,null)):vt&&(vt.d(1),vt=null),(!Qt||ne[0]&8&&Ei!==(Ei=N[3].m.b!=0))&&(Pl.disabled=Ei),ne[0]&8&&Oe(Jt,N[3].m.b),(!Qt||ne[0]&8&&Fi!==(Fi=N[3].m.b!=0))&&(Ml.disabled=Fi),(!Qt||ne[0]&8&&Ri!==(Ri=N[3].m.b==0))&&(ct.disabled=Ri),ne[0]&8&&Oe(ct,N[3].m.p),ne[0]&8&&(qt.checked=N[3].m.i),ne[0]&8&&Oe(xt,N[3].m.d),ne[0]&8&&fe(jt.value)!==N[3].m.f&&z(jt,N[3].m.f),ne[0]&8&&fe(Ht.value)!==N[3].m.r&&z(Ht,N[3].m.r),ne[0]&8&&(Wt.checked=N[3].m.e.e),N[3].m.e.e?ht?ht.p(N,ne):(ht=sf(N),ht.c(),ht.m(Wl,null)):ht&&(ht.d(1),ht=null),N[3].m.e.e?bt?bt.p(N,ne):(bt=uf(N),bt.c(),bt.m(He,To)):bt&&(bt.d(1),bt=null),ne[0]&8&&(Gt.checked=N[3].m.m.e),N[3].m.m.e?gt?gt.p(N,ne):(gt=rf(N),gt.c(),gt.m(He,null)):gt&&(gt.d(1),gt=null),ne[0]&8&&pl.value!==N[3].w.s&&z(pl,N[3].w.s),ne[0]&8&&_l.value!==N[3].w.p&&z(_l,N[3].w.p),ne[0]&8&&Oe(At,N[3].w.z),ne[0]&8&&fe(Dt.value)!==N[3].w.w&&z(Dt,N[3].w.w),ne[0]&8&&(Bt.checked=N[3].w.a),ne[0]&8&&Oe(el,N[3].n.m),(!Qt||ne[0]&8&&Yi!==(Yi=N[3].n.m=="dhcp"))&&(St.disabled=Yi),(!Qt||ne[0]&8&&zi!==(zi=N[3].n.m=="static"))&&(St.required=zi),ne[0]&8&&St.value!==N[3].n.i&&z(St,N[3].n.i),(!Qt||ne[0]&8&&Vi!==(Vi=N[3].n.m=="dhcp"))&&(Pt.disabled=Vi),(!Qt||ne[0]&8&&Ki!==(Ki=N[3].n.m=="static"))&&(Pt.required=Ki),ne[0]&8&&Oe(Pt,N[3].n.s),N[3].n.m=="static"?kt?kt.p(N,ne):(kt=af(N),kt.c(),kt.m(rt,So)):kt&&(kt.d(1),kt=null),ne[0]&8&&(Yt.checked=N[3].n.d),ne[0]&8&&(zt.checked=N[3].n.h),ne[0]&8&&dl.value!==N[3].n.n1&&z(dl,N[3].n.n1),N[0].chip!="esp8266"?wt?wt.p(N,ne):(wt=ff(N),wt.c(),wt.m(tl,Po)):wt&&(wt.d(1),wt=null),ne[0]&8&&vl.value!==N[3].q.h&&z(vl,N[3].q.h),ne[0]&8&&fe(Vt.value)!==N[3].q.p&&z(Vt,N[3].q.p),N[3].q.s.e?nt?(nt.p(N,ne),ne[0]&8&&P(nt,1)):(nt=cf(N),nt.c(),P(nt,1),nt.m(ze,Mo)):nt&&(Ce(),D(nt,1,1,()=>{nt=null}),Te()),ne[0]&8&&hl.value!==N[3].q.u&&z(hl,N[3].q.u),ne[0]&8&&bl.value!==N[3].q.a&&z(bl,N[3].q.a),ne[0]&8&&gl.value!==N[3].q.c&&z(gl,N[3].q.c),ne[0]&8&&Oe(_t,N[3].q.m),ne[0]&8&&kl.value!==N[3].q.b&&z(kl,N[3].q.b),N[3].q.m==3?it?(it.p(N,ne),ne[0]&8&&P(it,1)):(it=mf(N),it.c(),P(it,1),it.m(l,No)):it&&(Ce(),D(it,1,1,()=>{it=null}),Te()),N[3].q.m==4?ot?(ot.p(N,ne),ne[0]&8&&P(ot,1)):(ot=pf(N),ot.c(),P(ot,1),ot.m(l,Ao)):ot&&(Ce(),D(ot,1,1,()=>{ot=null}),Te()),ne[0]&8&&(Do=N[3].p.r.startsWith("10YNO")||N[3].p.r=="10Y1001A1001A48H"),Do?st?(st.p(N,ne),ne[0]&8&&P(st,1)):(st=_f(N),st.c(),P(st,1),st.m(l,Io)):st&&(Ce(),D(st,1,1,()=>{st=null}),Te()),ne[0]&136){Jn=N[7];let It;for(It=0;It<Jn.length;It+=1){const Tr=tf(N,Jn,It);yt[It]?yt[It].p(Tr,ne):(yt[It]=vf(Tr),yt[It].c(),yt[It].m(pi,null))}for(;It<yt.length;It+=1)yt[It].d(1);yt.length=Jn.length}N[0].board>20||N[0].chip=="esp8266"?ut?(ut.p(N,ne),ne[0]&1&&P(ut,1)):(ut=hf(N),ut.c(),P(ut,1),ut.m(l,Eo)):ut&&(Ce(),D(ut,1,1,()=>{ut=null}),Te()),ne[0]&8&&(Kt.checked=N[3].d.s),N[3].d.s?$t?$t.p(N,ne):($t=$f(N),$t.c(),$t.m(Mt,null)):$t&&($t.d(1),$t=null);const Ct={};ne[0]&2&&(Ct.active=N[1]),Zl.$set(Ct);const yr={};ne[0]&4&&(yr.active=N[2]),Jl.$set(yr);const $r={};ne[0]&16&&($r.active=N[4]),xl.$set($r);const Cr={};ne[0]&32&&(Cr.active=N[5]),en.$set(Cr)},i(N){Qt||(P(a.$$.fragment,N),P(L.$$.fragment,N),P(fn.$$.fragment,N),P(yn.$$.fragment,N),P(An.$$.fragment,N),P(En.$$.fragment,N),P(Rn.$$.fragment,N),P(nt),P(it),P(ot),P(st),P(Vn.$$.fragment,N),P(ut),P(Qn.$$.fragment,N),P(Zl.$$.fragment,N),P(Jl.$$.fragment,N),P(xl.$$.fragment,N),P(en.$$.fragment,N),Qt=!0)},o(N){D(a.$$.fragment,N),D(L.$$.fragment,N),D(fn.$$.fragment,N),D(yn.$$.fragment,N),D(An.$$.fragment,N),D(En.$$.fragment,N),D(Rn.$$.fragment,N),D(nt),D(it),D(ot),D(st),D(Vn.$$.fragment,N),D(ut),D(Qn.$$.fragment,N),D(Zl.$$.fragment,N),D(Jl.$$.fragment,N),D(xl.$$.fragment,N),D(en.$$.fragment,N),Qt=!1},d(N){N&&k(e),Q(a),Q(L),ul(oo,N),dt&&dt.d(),vt&&vt.d(),Q(fn),ul(so,N),ht&&ht.d(),bt&&bt.d(),gt&&gt.d(),Q(yn),Q(An),Q(En),kt&&kt.d(),Q(Rn),wt&&wt.d(),nt&&nt.d(),it&&it.d(),ot&&ot.d(),st&&st.d(),Q(Vn),ul(yt,N),ut&&ut.d(),Q(Qn),$t&&$t.d(),N&&k(Ro),Q(Zl,N),N&&k(Lo),Q(Jl,N),N&&k(Oo),Q(xl,N),N&&k(Uo),Q(en,N),qo=!1,Ve(wr)}}}async function l0(){await(await fetch("/reboot",{method:"POST"})).json()}function n0(t,e,l){let{sysinfo:n={}}=e,i=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"}],o=!0,r=!1,a={g:{t:"",h:"",s:0,u:"",p:""},m:{b:2400,p:11,i:!1,d:0,f:0,r:0,e:{e:!1,k:"",a:""},m:{e:!1,w:!1,v:!1,a:!1,c:!1}},w:{s:"",p:"",w:0,z:255,a:!0},n:{m:"",i:"",s:"",g:"",d1:"",d2:"",d:!1,n1:"",n2:"",h:!1},q:{h:"",p:1883,u:"",a:"",b:"",s:{e:!1,c:!1,r:!0,k:!1}},o:{e:"",c:"",u1:"",u2:"",u3:""},t:{t:[0,0,0,0,0,0,0,0,0,0],h:1},p:{e:!1,t:"",r:"",c:"",m:1,f:null},d:{s:!1,t:!1,l:5},u:{i:0,e:0,v:0,a:0,r:0,c:0,t:0,p:0,d:0,m:0,s:0},i:{h:{p:null,u:!0},a:null,l:{p:null,i:!1},r:{r:null,g:null,b:null,i:!1},t:{d:null,a:null},v:{p:null,d:{v:null,g:null},o:null,m:null,b:null}},h:{t:"",h:"",n:""}};qc.subscribe(je=>{je.version&&(l(3,a=je),l(1,o=!1))}),Dp();let c=!1,f=!1;async function _(){if(confirm("Are you sure you want to factory reset the device?")){l(4,c=!0);const je=new URLSearchParams;je.append("perform","true");let Ut=await(await fetch("/reset",{method:"POST",body:je})).json();l(4,c=!1),l(5,f=Ut.success)}}async function p(je){l(2,r=!0);const ml=new FormData(je.target),Ut=new URLSearchParams;for(let Tl of ml){const[He,rn]=Tl;Ut.append(He,rn)}let Ii=await(await fetch("/save",{method:"POST",body:Ut})).json();Rt.update(Tl=>(Tl.booting=Ii.reboot,Tl.ui=a.u,Tl)),l(2,r=!1),ti("/")}const d=function(){confirm("Are you sure you want to reboot the device?")&&(Rt.update(je=>(je.booting=!0,je)),l0())},v=function(){a.q.s.e?a.q.p==1883&&l(3,a.q.p=8883,a):a.q.p==8883&&l(3,a.q.p=1883,a)};let h=44;function g(){a.g.h=this.value,l(3,a)}function $(){a.g.t=mt(this),l(3,a)}function C(){a.p.r=mt(this),l(3,a)}function T(){a.p.c=mt(this),l(3,a)}function M(){a.p.f=fe(this.value),l(3,a)}function I(){a.p.m=fe(this.value),l(3,a)}function S(){a.p.e=this.checked,l(3,a)}function A(){a.p.t=this.value,l(3,a)}function E(){a.g.s=mt(this),l(3,a)}function L(){a.g.u=this.value,l(3,a)}function x(){a.g.p=this.value,l(3,a)}function O(){a.m.b=mt(this),l(3,a)}function F(){a.m.p=mt(this),l(3,a)}function q(){a.m.i=this.checked,l(3,a)}function B(){a.m.d=mt(this),l(3,a)}function U(){a.m.f=fe(this.value),l(3,a)}function H(){a.m.r=fe(this.value),l(3,a)}function G(){a.m.e.e=this.checked,l(3,a)}function R(){a.m.e.k=this.value,l(3,a)}function W(){a.m.e.a=this.value,l(3,a)}function te(){a.m.m.e=this.checked,l(3,a)}function oe(){a.m.m.w=fe(this.value),l(3,a)}function ee(){a.m.m.v=fe(this.value),l(3,a)}function Y(){a.m.m.a=fe(this.value),l(3,a)}function X(){a.m.m.c=fe(this.value),l(3,a)}function $e(){a.w.s=this.value,l(3,a)}function Fe(){a.w.p=this.value,l(3,a)}function Se(){a.w.z=mt(this),l(3,a)}function Re(){a.w.w=fe(this.value),l(3,a)}function ve(){a.w.a=this.checked,l(3,a)}function Pe(){a.n.m=mt(this),l(3,a)}function Ie(){a.n.i=this.value,l(3,a)}function pe(){a.n.s=mt(this),l(3,a)}function se(){a.n.g=this.value,l(3,a)}function _e(){a.n.d1=this.value,l(3,a)}function Z(){a.n.d2=this.value,l(3,a)}function ue(){a.n.d=this.checked,l(3,a)}function Me(){a.n.h=this.checked,l(3,a)}function De(){a.n.n1=this.value,l(3,a)}function he(){a.q.s.e=this.checked,l(3,a)}function le(){a.q.h=this.value,l(3,a)}function de(){a.q.p=fe(this.value),l(3,a)}function Ue(){a.q.u=this.value,l(3,a)}function Ge(){a.q.a=this.value,l(3,a)}function Ke(){a.q.c=this.value,l(3,a)}function Le(){a.q.m=mt(this),l(3,a)}function We(){a.q.b=this.value,l(3,a)}function ae(){a.o.e=this.value,l(3,a)}function ge(){a.o.c=this.value,l(3,a)}function Lt(){a.o.u1=this.value,l(3,a)}function Ol(){a.o.u2=this.value,l(3,a)}function Zt(){a.o.u3=this.value,l(3,a)}function at(){a.h.t=this.value,l(3,a)}function Cl(){a.h.h=this.value,l(3,a)}function al(){a.h.n=this.value,l(3,a)}function Ot(je){a.t.t[je]=fe(this.value),l(3,a)}function pt(){a.t.h=fe(this.value),l(3,a)}function Qe(je){a.u[je.key]=mt(this),l(3,a)}function Xe(){a.i.h.u=this.checked,l(3,a)}function Ze(){a.i.h.p=mt(this),l(3,a)}function qe(){a.i.a=fe(this.value),l(3,a)}function Je(){a.i.l.i=this.checked,l(3,a)}function Be(){a.i.l.p=fe(this.value),l(3,a)}function xe(){a.i.r.i=this.checked,l(3,a)}function et(){a.i.r.r=fe(this.value),l(3,a)}function re(){a.i.r.g=fe(this.value),l(3,a)}function be(){a.i.r.b=fe(this.value),l(3,a)}function Ti(){a.i.t.d=fe(this.value),l(3,a)}function fl(){a.i.t.a=fe(this.value),l(3,a)}function un(){a.i.v.p=fe(this.value),l(3,a)}function Tt(){a.i.v.d.v=fe(this.value),l(3,a)}function Si(){a.i.v.d.g=fe(this.value),l(3,a)}function Pi(){a.i.v.o=fe(this.value),l(3,a)}function Mi(){a.i.v.m=fe(this.value),l(3,a)}function cl(){a.i.v.b=fe(this.value),l(3,a)}function Ni(){a.d.s=this.checked,l(3,a)}function Ai(){a.d.t=this.checked,l(3,a)}function Di(){a.d.l=mt(this),l(3,a)}return t.$$set=je=>{"sysinfo"in je&&l(0,n=je.sysinfo)},t.$$.update=()=>{t.$$.dirty[0]&1&&l(6,h=n.chip=="esp8266"?16:n.chip=="esp32s2"?44:39)},[n,o,r,a,c,f,h,i,_,p,d,v,g,$,C,T,M,I,S,A,E,L,x,O,F,q,B,U,H,G,R,W,te,oe,ee,Y,X,$e,Fe,Se,Re,ve,Pe,Ie,pe,se,_e,Z,ue,Me,De,he,le,de,Ue,Ge,Ke,Le,We,ae,ge,Lt,Ol,Zt,at,Cl,al,Ot,pt,Qe,Xe,Ze,qe,Je,Be,xe,et,re,be,Ti,fl,un,Tt,Si,Pi,Mi,cl,Ni,Ai,Di]}class i0 extends ye{constructor(e){super(),we(this,e,n0,t0,ke,{sysinfo:0},null,[-1,-1,-1,-1])}}function Tf(t,e,l){const n=t.slice();return n[20]=e[l],n}function o0(t){let e=ce(t[1].chip,t[1].board)+"",l;return{c(){l=y(e)},m(n,i){w(n,l,i)},p(n,i){i&2&&e!==(e=ce(n[1].chip,n[1].board)+"")&&j(l,e)},d(n){n&&k(l)}}}function Sf(t){let e,l,n=t[1].apmac+"",i,o,r,a,c,f,_,p,d,v=Wr(t[1])+"",h,g,$=t[1].boot_reason+"",C,T,M=t[1].ex_cause+"",I,S,A;const E=[u0,s0],L=[];function x(O,F){return O[0].u>0?0:1}return c=x(t),f=L[c]=E[c](t),{c(){e=m("div"),l=y("AP MAC: "),i=y(n),o=b(),r=m("div"),a=y(`Last boot:
            `),f.c(),_=b(),p=m("div"),d=y("Reason: "),h=y(v),g=y(" ("),C=y($),T=y("/"),I=y(M),S=y(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(p,"class","my-2")},m(O,F){w(O,e,F),s(e,l),s(e,i),w(O,o,F),w(O,r,F),s(r,a),L[c].m(r,null),w(O,_,F),w(O,p,F),s(p,d),s(p,h),s(p,g),s(p,C),s(p,T),s(p,I),s(p,S),A=!0},p(O,F){(!A||F&2)&&n!==(n=O[1].apmac+"")&&j(i,n);let q=c;c=x(O),c===q?L[c].p(O,F):(Ce(),D(L[q],1,1,()=>{L[q]=null}),Te(),f=L[c],f?f.p(O,F):(f=L[c]=E[c](O),f.c()),P(f,1),f.m(r,null)),(!A||F&2)&&v!==(v=Wr(O[1])+"")&&j(h,v),(!A||F&2)&&$!==($=O[1].boot_reason+"")&&j(C,$),(!A||F&2)&&M!==(M=O[1].ex_cause+"")&&j(I,M)},i(O){A||(P(f),A=!0)},o(O){D(f),A=!1},d(O){O&&k(e),O&&k(o),O&&k(r),L[c].d(),O&&k(_),O&&k(p)}}}function s0(t){let e;return{c(){e=y("-")},m(l,n){w(l,e,n)},p:ie,i:ie,o:ie,d(l){l&&k(e)}}}function u0(t){let e,l;return e=new Lc({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:""}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function r0(t){let e;return{c(){e=m("span"),e.textContent="Update consents",u(e,"class","btn-pri-sm")},m(l,n){w(l,e,n)},p:ie,d(l){l&&k(e)}}}function Pf(t){let e,l,n,i,o,r=go(t[1].meter.mfg)+"",a,c,f,_,p=t[1].meter.model+"",d,v,h,g,$=t[1].meter.id+"",C;return{c(){e=m("div"),l=m("strong"),l.textContent="Meter",n=b(),i=m("div"),o=y("Manufacturer: "),a=y(r),c=b(),f=m("div"),_=y("Model: "),d=y(p),v=b(),h=m("div"),g=y("ID: "),C=y($),u(l,"class","text-sm"),u(i,"class","my-2"),u(f,"class","my-2"),u(h,"class","my-2"),u(e,"class","cnt")},m(T,M){w(T,e,M),s(e,l),s(e,n),s(e,i),s(i,o),s(i,a),s(e,c),s(e,f),s(f,_),s(f,d),s(e,v),s(e,h),s(h,g),s(h,C)},p(T,M){M&2&&r!==(r=go(T[1].meter.mfg)+"")&&j(a,r),M&2&&p!==(p=T[1].meter.model+"")&&j(d,p),M&2&&$!==($=T[1].meter.id+"")&&j(C,$)},d(T){T&&k(e)}}}function Mf(t){let e,l,n,i,o,r=t[1].net.ip+"",a,c,f,_,p=t[1].net.mask+"",d,v,h,g,$=t[1].net.gw+"",C,T,M,I,S=t[1].net.dns1+"",A,E,L=t[1].net.dns2&&Nf(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Network",n=b(),i=m("div"),o=y("IP: "),a=y(r),c=b(),f=m("div"),_=y("Mask: "),d=y(p),v=b(),h=m("div"),g=y("Gateway: "),C=y($),T=b(),M=m("div"),I=y("DNS: "),A=y(S),E=b(),L&&L.c(),u(l,"class","text-sm"),u(i,"class","my-2"),u(f,"class","my-2"),u(h,"class","my-2"),u(M,"class","my-2"),u(e,"class","cnt")},m(x,O){w(x,e,O),s(e,l),s(e,n),s(e,i),s(i,o),s(i,a),s(e,c),s(e,f),s(f,_),s(f,d),s(e,v),s(e,h),s(h,g),s(h,C),s(e,T),s(e,M),s(M,I),s(M,A),s(M,E),L&&L.m(M,null)},p(x,O){O&2&&r!==(r=x[1].net.ip+"")&&j(a,r),O&2&&p!==(p=x[1].net.mask+"")&&j(d,p),O&2&&$!==($=x[1].net.gw+"")&&j(C,$),O&2&&S!==(S=x[1].net.dns1+"")&&j(A,S),x[1].net.dns2?L?L.p(x,O):(L=Nf(x),L.c(),L.m(M,null)):L&&(L.d(1),L=null)},d(x){x&&k(e),L&&L.d()}}}function Nf(t){let e,l=t[1].net.dns2+"",n;return{c(){e=y("/ "),n=y(l)},m(i,o){w(i,e,o),w(i,n,o)},p(i,o){o&2&&l!==(l=i[1].net.dns2+"")&&j(n,l)},d(i){i&&k(e),i&&k(n)}}}function Af(t){let e,l,n,i=t[1].upgrade.t+"",o,r,a=t[1].version+"",c,f,_=t[1].upgrade.x+"",p,d,v=t[1].upgrade.e+"",h,g;return{c(){e=m("div"),l=m("div"),n=y("Previous upgrade attempt ("),o=y(i),r=y(") does not match current version ("),c=y(a),f=y(") ["),p=y(_),d=y("/"),h=y(v),g=y("]"),u(l,"class","bd-yellow"),u(e,"class","my-2")},m($,C){w($,e,C),s(e,l),s(l,n),s(l,o),s(l,r),s(l,c),s(l,f),s(l,p),s(l,d),s(l,h),s(l,g)},p($,C){C&2&&i!==(i=$[1].upgrade.t+"")&&j(o,i),C&2&&a!==(a=$[1].version+"")&&j(c,a),C&2&&_!==(_=$[1].upgrade.x+"")&&j(p,_),C&2&&v!==(v=$[1].upgrade.e+"")&&j(h,v)},d($){$&&k(e)}}}function Df(t){let e,l,n,i=t[2].tag_name+"",o,r,a,c,f,_,p=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[2]&&t[2].tag_name!=t[1].version&&If(t),d=t[1].fwconsent===2&&Ef();return{c(){e=m("div"),l=y(`Latest version: 
                `),n=m("a"),o=y(i),a=b(),p&&p.c(),c=b(),d&&d.c(),f=Ee(),u(n,"href",r=t[2].html_url),u(n,"class","ml-2 text-blue-600 hover:text-blue-800"),u(n,"target","_blank"),u(n,"rel","noreferrer"),u(e,"class","my-2 flex")},m(v,h){w(v,e,h),s(e,l),s(e,n),s(n,o),s(e,a),p&&p.m(e,null),w(v,c,h),d&&d.m(v,h),w(v,f,h),_=!0},p(v,h){(!_||h&4)&&i!==(i=v[2].tag_name+"")&&j(o,i),(!_||h&4&&r!==(r=v[2].html_url))&&u(n,"href",r),(v[1].security==0||v[0].a)&&v[1].fwconsent===1&&v[2]&&v[2].tag_name!=v[1].version?p?(p.p(v,h),h&7&&P(p,1)):(p=If(v),p.c(),P(p,1),p.m(e,null)):p&&(Ce(),D(p,1,1,()=>{p=null}),Te()),v[1].fwconsent===2?d||(d=Ef(),d.c(),d.m(f.parentNode,f)):d&&(d.d(1),d=null)},i(v){_||(P(p),_=!0)},o(v){D(p),_=!1},d(v){v&&k(e),p&&p.d(),v&&k(c),d&&d.d(v),v&&k(f)}}}function If(t){let e,l,n,i,o,r;return n=new Oc({}),{c(){e=m("div"),l=m("button"),J(n.$$.fragment),u(e,"class","flex-none ml-2 text-green-500"),u(e,"title","Install this version")},m(a,c){w(a,e,c),s(e,l),K(n,l,null),i=!0,o||(r=V(l,"click",t[10]),o=!0)},p:ie,i(a){i||(P(n.$$.fragment,a),i=!0)},o(a){D(n.$$.fragment,a),i=!1},d(a){a&&k(e),Q(n),o=!1,r()}}}function Ef(t){let e;return{c(){e=m("div"),e.innerHTML='<div class="bd-yellow">You have disabled one-click firmware upgrade, link to self-upgrade is disabled</div>',u(e,"class","my-2")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Ff(t){let e,l=ko(ce(t[1].chip,t[1].board))+"",n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&2&&l!==(l=ko(ce(i[1].chip,i[1].board))+"")&&j(n,l)},d(i){i&&k(e)}}}function Rf(t){let e,l,n,i,o,r;function a(_,p){return _[4].length==0?f0:a0}let c=a(t),f=c(t);return{c(){e=m("div"),l=m("form"),n=m("input"),i=b(),f.c(),Zf(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","/firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(_,p){w(_,e,p),s(e,l),s(l,n),t[12](n),s(l,i),f.m(l,null),o||(r=[V(n,"change",t[13]),V(l,"submit",t[15])],o=!0)},p(_,p){c===(c=a(_))&&f?f.p(_,p):(f.d(1),f=c(_),f&&(f.c(),f.m(l,null)))},d(_){_&&k(e),t[12](null),f.d(),o=!1,Ve(r)}}}function a0(t){let e=t[4][0].name+"",l,n,i;return{c(){l=y(e),n=b(),i=m("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm float-right")},m(o,r){w(o,l,r),w(o,n,r),w(o,i,r)},p(o,r){r&16&&e!==(e=o[4][0].name+"")&&j(l,e)},d(o){o&&k(l),o&&k(n),o&&k(i)}}}function f0(t){let e,l,n;return{c(){e=m("button"),e.textContent="Select firmware file for upgrade",u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(i,o){w(i,e,o),l||(n=V(e,"click",t[14]),l=!0)},p:ie,d(i){i&&k(e),l=!1,n()}}}function Lf(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g=t[9],$=[];for(let S=0;S<g.length;S+=1)$[S]=Of(Tf(t,g,S));let C=t[7].length==0&&Uf();function T(S,A){return S[7].length==0?m0:c0}let M=T(t),I=M(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Backup & restore",n=b(),i=m("form"),o=m("div");for(let S=0;S<$.length;S+=1)$[S].c();r=b(),a=m("label"),a.innerHTML='<input type="checkbox" class="rounded" name="ic" value="true"/> Include Secrets<br/><small>(SSID, PSK, passwords and tokens)</small>',c=b(),C&&C.c(),f=b(),_=m("form"),p=m("input"),d=b(),I.c(),u(l,"class","text-sm"),u(a,"class","my-1 mx-3 col-span-2"),u(o,"class","grid grid-cols-2"),u(i,"method","get"),u(i,"action","/configfile.cfg"),u(i,"autocomplete","off"),Zf(p,"display","none"),u(p,"name","file"),u(p,"type","file"),u(p,"accept",".cfg"),u(_,"action","/configfile"),u(_,"enctype","multipart/form-data"),u(_,"method","post"),u(_,"autocomplete","off"),u(e,"class","cnt")},m(S,A){w(S,e,A),s(e,l),s(e,n),s(e,i),s(i,o);for(let E=0;E<$.length;E+=1)$[E].m(o,null);s(o,r),s(o,a),s(i,c),C&&C.m(i,null),s(e,f),s(e,_),s(_,p),t[16](p),s(_,d),I.m(_,null),v||(h=[V(p,"change",t[17]),V(_,"submit",t[19])],v=!0)},p(S,A){if(A&512){g=S[9];let E;for(E=0;E<g.length;E+=1){const L=Tf(S,g,E);$[E]?$[E].p(L,A):($[E]=Of(L),$[E].c(),$[E].m(o,r))}for(;E<$.length;E+=1)$[E].d(1);$.length=g.length}S[7].length==0?C||(C=Uf(),C.c(),C.m(i,null)):C&&(C.d(1),C=null),M===(M=T(S))&&I?I.p(S,A):(I.d(1),I=M(S),I&&(I.c(),I.m(_,null)))},d(S){S&&k(e),ul($,S),C&&C.d(),t[16](null),I.d(),v=!1,Ve(h)}}}function Of(t){let e,l,n,i=t[20].name+"",o;return{c(){e=m("label"),l=m("input"),n=b(),o=y(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[20].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,a){w(r,e,a),s(e,l),s(e,n),s(e,o)},p:ie,d(r){r&&k(e)}}}function Uf(t){let e;return{c(){e=m("button"),e.textContent="Download",u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function c0(t){let e=t[7][0].name+"",l,n,i;return{c(){l=y(e),n=b(),i=m("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(o,r){w(o,l,r),w(o,n,r),w(o,i,r)},p(o,r){r&128&&e!==(e=o[7][0].name+"")&&j(l,e)},d(o){o&&k(l),o&&k(n),o&&k(i)}}}function m0(t){let e,l,n;return{c(){e=m("button"),e.textContent="Select file...",u(e,"type","button"),u(e,"class","btn-pri-sm")},m(i,o){w(i,e,o),l||(n=V(e,"click",t[18]),l=!0)},p:ie,d(i){i&&k(e),l=!1,n()}}}function p0(t){let e,l,n,i,o,r,a=t[1].chip+"",c,f,_,p,d,v,h,g,$=t[1].mac+"",C,T,M,I,S,A,E,L,x,O,F,q,B,U,H,G=t[1].version+"",R,W,te,oe,ee=(t[1].security==0||t[0].a)&&li(t[1].board),Y,X,$e,Fe,Se,Re,ve,Pe,Ie;d=new El({props:{to:"/vendor",$$slots:{default:[o0]},$$scope:{ctx:t}}});let pe=t[1].apmac&&t[1].apmac!=t[1].mac&&Sf(t);S=new El({props:{to:"/consent",$$slots:{default:[r0]},$$scope:{ctx:t}}});let se=t[1].meter&&Pf(t),_e=t[1].net&&Mf(t),Z=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&Af(t),ue=t[2]&&Df(t),Me=ee&&Ff(t),De=(t[1].security==0||t[0].a)&&Rf(t),he=(t[1].security==0||t[0].a)&&Lf(t);return Fe=new Nt({props:{active:t[5],message:"Uploading firmware, please wait"}}),Re=new Nt({props:{active:t[8],message:"Uploading configuration, please wait"}}),{c(){e=m("div"),l=m("div"),n=m("strong"),n.textContent="Device information",i=b(),o=m("div"),r=y("Chip: "),c=y(a),f=b(),_=m("div"),p=y("Device: "),J(d.$$.fragment),v=b(),h=m("div"),g=y("MAC: "),C=y($),T=b(),pe&&pe.c(),M=b(),I=m("div"),J(S.$$.fragment),A=b(),E=m("button"),E.textContent="Reboot",L=b(),se&&se.c(),x=b(),_e&&_e.c(),O=b(),F=m("div"),q=m("strong"),q.textContent="Firmware",B=b(),U=m("div"),H=y("Installed version: "),R=y(G),W=b(),Z&&Z.c(),te=b(),ue&&ue.c(),oe=b(),Me&&Me.c(),Y=b(),De&&De.c(),X=b(),he&&he.c(),$e=b(),J(Fe.$$.fragment),Se=b(),J(Re.$$.fragment),u(n,"class","text-sm"),u(o,"class","my-2"),u(_,"class","my-2"),u(h,"class","my-2"),u(E,"class","text-xs py-1 px-2 rounded bg-yellow-500 text-white mr-3 float-right"),u(I,"class","my-2"),u(l,"class","cnt"),u(q,"class","text-sm"),u(U,"class","my-2"),u(F,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(le,de){w(le,e,de),s(e,l),s(l,n),s(l,i),s(l,o),s(o,r),s(o,c),s(l,f),s(l,_),s(_,p),K(d,_,null),s(l,v),s(l,h),s(h,g),s(h,C),s(l,T),pe&&pe.m(l,null),s(l,M),s(l,I),K(S,I,null),s(I,A),s(I,E),s(e,L),se&&se.m(e,null),s(e,x),_e&&_e.m(e,null),s(e,O),s(e,F),s(F,q),s(F,B),s(F,U),s(U,H),s(U,R),s(F,W),Z&&Z.m(F,null),s(F,te),ue&&ue.m(F,null),s(F,oe),Me&&Me.m(F,null),s(F,Y),De&&De.m(F,null),s(e,X),he&&he.m(e,null),w(le,$e,de),K(Fe,le,de),w(le,Se,de),K(Re,le,de),ve=!0,Pe||(Ie=V(E,"click",t[11]),Pe=!0)},p(le,[de]){(!ve||de&2)&&a!==(a=le[1].chip+"")&&j(c,a);const Ue={};de&8388610&&(Ue.$$scope={dirty:de,ctx:le}),d.$set(Ue),(!ve||de&2)&&$!==($=le[1].mac+"")&&j(C,$),le[1].apmac&&le[1].apmac!=le[1].mac?pe?(pe.p(le,de),de&2&&P(pe,1)):(pe=Sf(le),pe.c(),P(pe,1),pe.m(l,M)):pe&&(Ce(),D(pe,1,1,()=>{pe=null}),Te());const Ge={};de&8388608&&(Ge.$$scope={dirty:de,ctx:le}),S.$set(Ge),le[1].meter?se?se.p(le,de):(se=Pf(le),se.c(),se.m(e,x)):se&&(se.d(1),se=null),le[1].net?_e?_e.p(le,de):(_e=Mf(le),_e.c(),_e.m(e,O)):_e&&(_e.d(1),_e=null),(!ve||de&2)&&G!==(G=le[1].version+"")&&j(R,G),le[1].upgrade.t&&le[1].upgrade.t!=le[1].version?Z?Z.p(le,de):(Z=Af(le),Z.c(),Z.m(F,te)):Z&&(Z.d(1),Z=null),le[2]?ue?(ue.p(le,de),de&4&&P(ue,1)):(ue=Df(le),ue.c(),P(ue,1),ue.m(F,oe)):ue&&(Ce(),D(ue,1,1,()=>{ue=null}),Te()),de&3&&(ee=(le[1].security==0||le[0].a)&&li(le[1].board)),ee?Me?Me.p(le,de):(Me=Ff(le),Me.c(),Me.m(F,Y)):Me&&(Me.d(1),Me=null),le[1].security==0||le[0].a?De?De.p(le,de):(De=Rf(le),De.c(),De.m(F,null)):De&&(De.d(1),De=null),le[1].security==0||le[0].a?he?he.p(le,de):(he=Lf(le),he.c(),he.m(e,null)):he&&(he.d(1),he=null);const Ke={};de&32&&(Ke.active=le[5]),Fe.$set(Ke);const Le={};de&256&&(Le.active=le[8]),Re.$set(Le)},i(le){ve||(P(d.$$.fragment,le),P(pe),P(S.$$.fragment,le),P(ue),P(Fe.$$.fragment,le),P(Re.$$.fragment,le),ve=!0)},o(le){D(d.$$.fragment,le),D(pe),D(S.$$.fragment,le),D(ue),D(Fe.$$.fragment,le),D(Re.$$.fragment,le),ve=!1},d(le){le&&k(e),Q(d),pe&&pe.d(),Q(S),se&&se.d(),_e&&_e.d(),Z&&Z.d(),ue&&ue.d(),Me&&Me.d(),De&&De.d(),he&&he.d(),le&&k($e),Q(Fe,le),le&&k(Se),Q(Re,le),Pe=!1,Ie()}}}async function _0(){await(await fetch("/reboot",{method:"POST"})).json()}function d0(t,e,l){let{data:n}=e,{sysinfo:i}=e,o=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price API",key:"is"}],r={};bs.subscribe(E=>{l(2,r=Rc(i.version,E)),r||l(2,r=E[0])});function a(){confirm("Do you want to upgrade this device to "+r.tag_name+"?")&&(i.board!=2&&i.board!=4&&i.board!=7||confirm(ko(ce(i.chip,i.board))))&&(Rt.update(E=>(E.upgrading=!0,E)),Fc(r.tag_name))}const c=function(){confirm("Are you sure you want to reboot the device?")&&(Rt.update(E=>(E.booting=!0,E)),_0())};let f,_=[],p=!1,d,v=[],h=!1;_s();function g(E){ho[E?"unshift":"push"](()=>{f=E,l(3,f)})}function $(){_=this.files,l(4,_)}const C=()=>{f.click()},T=()=>l(5,p=!0);function M(E){ho[E?"unshift":"push"](()=>{d=E,l(6,d)})}function I(){v=this.files,l(7,v)}const S=()=>{d.click()},A=()=>l(8,h=!0);return t.$$set=E=>{"data"in E&&l(0,n=E.data),"sysinfo"in E&&l(1,i=E.sysinfo)},[n,i,r,f,_,p,d,v,h,o,a,c,g,$,C,T,M,I,S,A]}class v0 extends ye{constructor(e){super(),we(this,e,d0,p0,ke,{data:0,sysinfo:1})}}function qf(t){let e,l,n=ce(t[0],7)+"",i,o,r=ce(t[0],5)+"",a,c,f=ce(t[0],4)+"",_,p,d=ce(t[0],3)+"",v,h,g,$,C=ce(t[0],2)+"",T,M,I=ce(t[0],1)+"",S,A,E=ce(t[0],0)+"",L,x,O,F,q=ce(t[0],101)+"",B,U,H=ce(t[0],100)+"",G;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=m("option"),a=y(r),c=m("option"),_=y(f),p=m("option"),v=y(d),h=b(),g=m("optgroup"),$=m("option"),T=y(C),M=m("option"),S=y(I),A=m("option"),L=y(E),x=b(),O=m("optgroup"),F=m("option"),B=y(q),U=m("option"),G=y(H),l.__value=7,l.value=l.__value,o.__value=5,o.value=o.__value,c.__value=4,c.value=c.__value,p.__value=3,p.value=p.__value,u(e,"label","amsleser.no"),$.__value=2,$.value=$.__value,M.__value=1,M.value=M.__value,A.__value=0,A.value=A.__value,u(g,"label","Custom hardware"),F.__value=101,F.value=F.__value,U.__value=100,U.value=U.__value,u(O,"label","Generic hardware")},m(R,W){w(R,e,W),s(e,l),s(l,i),s(e,o),s(o,a),s(e,c),s(c,_),s(e,p),s(p,v),w(R,h,W),w(R,g,W),s(g,$),s($,T),s(g,M),s(M,S),s(g,A),s(A,L),w(R,x,W),w(R,O,W),s(O,F),s(F,B),s(O,U),s(U,G)},p(R,W){W&1&&n!==(n=ce(R[0],7)+"")&&j(i,n),W&1&&r!==(r=ce(R[0],5)+"")&&j(a,r),W&1&&f!==(f=ce(R[0],4)+"")&&j(_,f),W&1&&d!==(d=ce(R[0],3)+"")&&j(v,d),W&1&&C!==(C=ce(R[0],2)+"")&&j(T,C),W&1&&I!==(I=ce(R[0],1)+"")&&j(S,I),W&1&&E!==(E=ce(R[0],0)+"")&&j(L,E),W&1&&q!==(q=ce(R[0],101)+"")&&j(B,q),W&1&&H!==(H=ce(R[0],100)+"")&&j(G,H)},d(R){R&&k(e),R&&k(h),R&&k(g),R&&k(x),R&&k(O)}}}function jf(t){let e,l,n=ce(t[0],201)+"",i,o,r=ce(t[0],202)+"",a,c,f=ce(t[0],203)+"",_,p,d=ce(t[0],200)+"",v;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=m("option"),a=y(r),c=m("option"),_=y(f),p=m("option"),v=y(d),l.__value=201,l.value=l.__value,o.__value=202,o.value=o.__value,c.__value=203,c.value=c.__value,p.__value=200,p.value=p.__value,u(e,"label","Generic hardware")},m(h,g){w(h,e,g),s(e,l),s(l,i),s(e,o),s(o,a),s(e,c),s(c,_),s(e,p),s(p,v)},p(h,g){g&1&&n!==(n=ce(h[0],201)+"")&&j(i,n),g&1&&r!==(r=ce(h[0],202)+"")&&j(a,r),g&1&&f!==(f=ce(h[0],203)+"")&&j(_,f),g&1&&d!==(d=ce(h[0],200)+"")&&j(v,d)},d(h){h&&k(e)}}}function Hf(t){let e,l,n=ce(t[0],7)+"",i,o,r=ce(t[0],6)+"",a,c,f=ce(t[0],5)+"",_,p,d,v,h=ce(t[0],51)+"",g,$,C=ce(t[0],50)+"",T;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=m("option"),a=y(r),c=m("option"),_=y(f),p=b(),d=m("optgroup"),v=m("option"),g=y(h),$=m("option"),T=y(C),l.__value=7,l.value=l.__value,o.__value=6,o.value=o.__value,c.__value=5,c.value=c.__value,u(e,"label","amsleser.no"),v.__value=51,v.value=v.__value,$.__value=50,$.value=$.__value,u(d,"label","Generic hardware")},m(M,I){w(M,e,I),s(e,l),s(l,i),s(e,o),s(o,a),s(e,c),s(c,_),w(M,p,I),w(M,d,I),s(d,v),s(v,g),s(d,$),s($,T)},p(M,I){I&1&&n!==(n=ce(M[0],7)+"")&&j(i,n),I&1&&r!==(r=ce(M[0],6)+"")&&j(a,r),I&1&&f!==(f=ce(M[0],5)+"")&&j(_,f),I&1&&h!==(h=ce(M[0],51)+"")&&j(g,h),I&1&&C!==(C=ce(M[0],50)+"")&&j(T,C)},d(M){M&&k(e),M&&k(p),M&&k(d)}}}function Wf(t){let e,l,n=ce(t[0],8)+"",i,o,r,a,c=ce(t[0],71)+"",f,_,p=ce(t[0],70)+"",d;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=b(),r=m("optgroup"),a=m("option"),f=y(c),_=m("option"),d=y(p),l.__value=8,l.value=l.__value,u(e,"label","Custom hardware"),a.__value=71,a.value=a.__value,_.__value=70,_.value=_.__value,u(r,"label","Generic hardware")},m(v,h){w(v,e,h),s(e,l),s(l,i),w(v,o,h),w(v,r,h),s(r,a),s(a,f),s(r,_),s(_,d)},p(v,h){h&1&&n!==(n=ce(v[0],8)+"")&&j(i,n),h&1&&c!==(c=ce(v[0],71)+"")&&j(f,c),h&1&&p!==(p=ce(v[0],70)+"")&&j(d,p)},d(v){v&&k(e),v&&k(o),v&&k(r)}}}function Gf(t){let e,l,n=ce(t[0],200)+"",i;return{c(){e=m("optgroup"),l=m("option"),i=y(n),l.__value=200,l.value=l.__value,u(e,"label","Generic hardware")},m(o,r){w(o,e,r),s(e,l),s(l,i)},p(o,r){r&1&&n!==(n=ce(o[0],200)+"")&&j(i,n)},d(o){o&&k(e)}}}function h0(t){let e,l,n,i,o,r,a,c=t[0]=="esp8266"&&qf(t),f=t[0]=="esp32"&&jf(t),_=t[0]=="esp32s2"&&Hf(t),p=t[0]=="esp32c3"&&Wf(t),d=t[0]=="esp32solo"&&Gf(t);return{c(){e=m("option"),l=b(),c&&c.c(),n=b(),f&&f.c(),i=b(),_&&_.c(),o=b(),p&&p.c(),r=b(),d&&d.c(),a=Ee(),e.__value=-1,e.value=e.__value},m(v,h){w(v,e,h),w(v,l,h),c&&c.m(v,h),w(v,n,h),f&&f.m(v,h),w(v,i,h),_&&_.m(v,h),w(v,o,h),p&&p.m(v,h),w(v,r,h),d&&d.m(v,h),w(v,a,h)},p(v,[h]){v[0]=="esp8266"?c?c.p(v,h):(c=qf(v),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),v[0]=="esp32"?f?f.p(v,h):(f=jf(v),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),v[0]=="esp32s2"?_?_.p(v,h):(_=Hf(v),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null),v[0]=="esp32c3"?p?p.p(v,h):(p=Wf(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null),v[0]=="esp32solo"?d?d.p(v,h):(d=Gf(v),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},i:ie,o:ie,d(v){v&&k(e),v&&k(l),c&&c.d(v),v&&k(n),f&&f.d(v),v&&k(i),_&&_.d(v),v&&k(o),p&&p.d(v),v&&k(r),d&&d.d(v),v&&k(a)}}}function b0(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class g0 extends ye{constructor(e){super(),we(this,e,b0,h0,ke,{chip:0})}}function Bf(t){let e;return{c(){e=m("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",u(e,"class","bd-red")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Yf(t){let e,l,n,i,o,r,a;return r=new jc({props:{chip:t[0].chip}}),{c(){e=m("div"),l=y("HAN GPIO"),n=m("br"),i=b(),o=m("select"),J(r.$$.fragment),u(o,"name","vh"),u(o,"class","in-s"),u(e,"class","my-3")},m(c,f){w(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),K(r,o,null),a=!0},p(c,f){const _={};f&1&&(_.chip=c[0].chip),r.$set(_)},i(c){a||(P(r.$$.fragment,c),a=!0)},o(c){D(r.$$.fragment,c),a=!1},d(c){c&&k(e),Q(r)}}}function k0(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C,T,M,I,S,A,E,L,x,O,F,q,B,U=t[0].usrcfg&&Bf();h=new g0({props:{chip:t[0].chip}});let H=t[0].board&&t[0].board>20&&Yf(t);return O=new Nt({props:{active:t[1],message:"Saving device configuration"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("input"),o=b(),r=m("strong"),r.textContent="Initial configuration",a=b(),U&&U.c(),c=b(),f=m("div"),_=y("Board type"),p=m("br"),d=b(),v=m("select"),J(h.$$.fragment),g=b(),H&&H.c(),$=b(),C=m("div"),T=m("label"),M=m("input"),I=y(" Clear all other configuration"),S=b(),A=m("div"),A.innerHTML='<button type="submit" class="btn-pri">Save</button>',E=b(),L=m("span"),L.textContent="\xA0",x=b(),J(O.$$.fragment),u(i,"type","hidden"),u(i,"name","v"),i.value="true",u(r,"class","text-sm"),u(v,"name","vb"),u(v,"class","in-s"),t[0].board===void 0&&tt(()=>t[4].call(v)),u(f,"class","my-3"),u(M,"type","checkbox"),u(M,"name","vr"),M.__value="true",M.value=M.__value,u(M,"class","rounded mb-1"),u(C,"class","my-3"),u(A,"class","my-3"),u(L,"class","clear-both"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(G,R){w(G,e,R),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),U&&U.m(n,null),s(n,c),s(n,f),s(f,_),s(f,p),s(f,d),s(f,v),K(h,v,null),Oe(v,t[0].board),s(n,g),H&&H.m(n,null),s(n,$),s(n,C),s(C,T),s(T,M),M.checked=t[2],s(T,I),s(n,S),s(n,A),s(n,E),s(n,L),w(G,x,R),K(O,G,R),F=!0,q||(B=[V(v,"change",t[4]),V(M,"change",t[5]),V(n,"submit",wo(t[3]))],q=!0)},p(G,[R]){G[0].usrcfg?U||(U=Bf(),U.c(),U.m(n,c)):U&&(U.d(1),U=null);const W={};R&1&&(W.chip=G[0].chip),h.$set(W),R&1&&Oe(v,G[0].board),G[0].board&&G[0].board>20?H?(H.p(G,R),R&1&&P(H,1)):(H=Yf(G),H.c(),P(H,1),H.m(n,$)):H&&(Ce(),D(H,1,1,()=>{H=null}),Te()),R&4&&(M.checked=G[2]);const te={};R&2&&(te.active=G[1]),O.$set(te)},i(G){F||(P(h.$$.fragment,G),P(H),P(O.$$.fragment,G),F=!0)},o(G){D(h.$$.fragment,G),D(H),D(O.$$.fragment,G),F=!1},d(G){G&&k(e),U&&U.d(),Q(h),H&&H.d(),G&&k(x),Q(O,G),q=!1,Ve(B)}}}function w0(t,e,l){let{sysinfo:n={}}=e,i=!1;async function o(f){l(1,i=!0);const _=new FormData(f.target),p=new URLSearchParams;for(let h of _){const[g,$]=h;p.append(g,$)}let v=await(await fetch("/save",{method:"POST",body:p})).json();l(1,i=!1),Rt.update(h=>(h.vndcfg=v.success,h.booting=v.reboot,h)),ti(n.usrcfg?"/":"/setup")}let r=!1;function a(){n.board=mt(this),l(0,n)}function c(){r=this.checked,l(2,r),l(0,n)}return t.$$set=f=>{"sysinfo"in f&&l(0,n=f.sysinfo)},t.$$.update=()=>{t.$$.dirty&1&&l(2,r=!n.usrcfg)},[n,i,r,o,a,c]}class y0 extends ye{constructor(e){super(),we(this,e,w0,k0,ke,{sysinfo:0})}}function zf(t){let e,l,n,i,o,r,a,c;return a=new Hc({}),{c(){e=m("br"),l=b(),n=m("div"),i=m("input"),o=b(),r=m("select"),J(a.$$.fragment),u(i,"name","si"),u(i,"type","text"),u(i,"class","in-f w-full"),i.required=t[1],u(r,"name","su"),u(r,"class","in-l"),r.required=t[1],u(n,"class","flex")},m(f,_){w(f,e,_),w(f,l,_),w(f,n,_),s(n,i),s(n,o),s(n,r),K(a,r,null),c=!0},p(f,_){(!c||_&2)&&(i.required=f[1]),(!c||_&2)&&(r.required=f[1])},i(f){c||(P(a.$$.fragment,f),c=!0)},o(f){D(a.$$.fragment,f),c=!1},d(f){f&&k(e),f&&k(l),f&&k(n),Q(a)}}}function Vf(t){let e;return{c(){e=m("div"),e.innerHTML=`<div>Gateway<br/> 
                    <input name="sg" type="text" class="in-f w-full"/></div> 
                <div>DNS<br/> 
                    <input name="sd" type="text" class="in-l w-full"/></div>`,u(e,"class","my-3 flex")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function $0(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C,T,M,I,S,A,E,L,x,O,F,q,B=t[1]&&zf(t),U=t[1]&&Vf();return x=new Nt({props:{active:t[2],message:"Saving your configuration to the device"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("input"),o=b(),r=m("strong"),r.textContent="Setup",a=b(),c=m("div"),c.innerHTML=`SSID<br/> 
                <input name="ss" type="text" class="in-s" required=""/>`,f=b(),_=m("div"),_.innerHTML=`PSK<br/> 
                <input name="sp" type="password" class="in-s" autocomplete="off"/>`,p=b(),d=m("div"),v=y(`Hostname
                `),h=m("input"),g=b(),$=m("div"),C=m("label"),T=m("input"),M=y(" Static IP"),I=b(),B&&B.c(),S=b(),U&&U.c(),A=b(),E=m("div"),E.innerHTML='<button type="submit" class="btn-pri">Save</button>',L=b(),J(x.$$.fragment),u(i,"type","hidden"),u(i,"name","s"),i.value="true",u(r,"class","text-sm"),u(c,"class","my-3"),u(_,"class","my-3"),u(h,"name","sh"),u(h,"type","text"),u(h,"class","in-s"),u(h,"maxlength","32"),u(h,"pattern","[a-z0-9_-]+"),u(h,"placeholder","Optional, ex.: ams-reader"),u(h,"autocomplete","off"),u(T,"type","checkbox"),u(T,"name","sm"),T.__value="static",T.value=T.__value,u(T,"class","rounded mb-1"),u($,"class","my-3"),u(E,"class","my-3"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(H,G){w(H,e,G),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),s(n,c),s(n,f),s(n,_),s(n,p),s(n,d),s(d,v),s(d,h),z(h,t[0].hostname),s(n,g),s(n,$),s($,C),s(C,T),T.checked=t[1],s(C,M),s($,I),B&&B.m($,null),s(n,S),U&&U.m(n,null),s(n,A),s(n,E),w(H,L,G),K(x,H,G),O=!0,F||(q=[V(h,"input",t[4]),V(T,"change",t[5]),V(n,"submit",wo(t[3]))],F=!0)},p(H,[G]){G&1&&h.value!==H[0].hostname&&z(h,H[0].hostname),G&2&&(T.checked=H[1]),H[1]?B?(B.p(H,G),G&2&&P(B,1)):(B=zf(H),B.c(),P(B,1),B.m($,null)):B&&(Ce(),D(B,1,1,()=>{B=null}),Te()),H[1]?U||(U=Vf(),U.c(),U.m(n,A)):U&&(U.d(1),U=null);const R={};G&4&&(R.active=H[2]),x.$set(R)},i(H){O||(P(B),P(x.$$.fragment,H),O=!0)},o(H){D(B),D(x.$$.fragment,H),O=!1},d(H){H&&k(e),B&&B.d(),U&&U.d(),H&&k(L),Q(x,H),F=!1,Ve(q)}}}function C0(t,e,l){let{sysinfo:n={}}=e,i=!1,o=!1,r=0;function a(){var p="";r++;var d=function(){setTimeout(a,1e3)};if(n.net.ip&&r%3==0){if(!n.net.ip){d();return}p="http://"+n.net.ip}else n.hostname&&r%3==1?p="http://"+n.hostname:n.hostname&&r%3==2?p="http://"+n.hostname+".local":p="";console&&console.log("Trying url "+p),Rt.update(h=>(h.trying=p,h));var v=new XMLHttpRequest;v.timeout=5e3,v.addEventListener("abort",d),v.addEventListener("error",d),v.addEventListener("timeout",d),v.addEventListener("load",function(h){window.location.href=p||"/"}),v.open("GET",p+"/is-alive",!0),v.send()}async function c(p){l(2,o=!0);const d=new FormData(p.target),v=new URLSearchParams;for(let $ of d){const[C,T]=$;v.append(C,T)}let g=await(await fetch("/save",{method:"POST",body:v})).json();l(2,o=!1),Rt.update($=>($.hostname=d.get("sh"),$.usrcfg=g.success,$.booting=g.reboot,i&&($.net.ip=d.get("si"),$.net.mask=d.get("su"),$.net.gw=d.get("sg"),$.net.dns1=d.get("sd")),setTimeout(a,5e3),$))}function f(){n.hostname=this.value,l(0,n)}function _(){i=this.checked,l(1,i)}return t.$$set=p=>{"sysinfo"in p&&l(0,n=p.sysinfo)},[n,i,o,c,f,_]}class T0 extends ye{constructor(e){super(),we(this,e,C0,$0,ke,{sysinfo:0})}}function S0(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C;return h=new Nt({props:{active:t[2],message:"Uploading file, please wait"}}),{c(){e=m("div"),l=m("div"),n=m("strong"),i=y("Upload "),o=y(t[1]),r=b(),a=m("p"),a.textContent="Select a suitable file and click upload",c=b(),f=m("form"),_=m("input"),p=b(),d=m("div"),d.innerHTML='<button type="submit" class="btn-pri">Upload</button>',v=b(),J(h.$$.fragment),u(a,"class","mb-4"),u(_,"name","file"),u(_,"type","file"),u(d,"class","w-full text-right mt-4"),u(f,"action",t[0]),u(f,"enctype","multipart/form-data"),u(f,"method","post"),u(f,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(T,M){w(T,e,M),s(e,l),s(l,n),s(n,i),s(n,o),s(l,r),s(l,a),s(l,c),s(l,f),s(f,_),s(f,p),s(f,d),w(T,v,M),K(h,T,M),g=!0,$||(C=V(f,"submit",t[3]),$=!0)},p(T,[M]){(!g||M&2)&&j(o,T[1]),(!g||M&1)&&u(f,"action",T[0]);const I={};M&4&&(I.active=T[2]),h.$set(I)},i(T){g||(P(h.$$.fragment,T),g=!0)},o(T){D(h.$$.fragment,T),g=!1},d(T){T&&k(e),T&&k(v),Q(h,T),$=!1,C()}}}function P0(t,e,l){let{action:n}=e,{title:i}=e,o=!1;const r=()=>l(2,o=!0);return t.$$set=a=>{"action"in a&&l(0,n=a.action),"title"in a&&l(1,i=a.title)},[n,i,o,r]}class gs extends ye{constructor(e){super(),we(this,e,P0,S0,ke,{action:0,title:1})}}function M0(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C,T,M,I,S,A,E,L,x,O,F,q,B,U,H;return q=new Nt({props:{active:t[1],message:"Saving preferences"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("div"),i.textContent="Various permissions we need to do stuff:",o=b(),r=m("hr"),a=b(),c=m("div"),f=y("Enable one-click upgrade? (implies data collection)"),_=m("br"),p=b(),d=m("a"),v=y("Read more"),h=m("br"),g=b(),$=m("label"),C=m("input"),M=y(" Yes"),I=m("label"),S=m("input"),E=y(" No"),L=m("br"),x=b(),O=m("div"),O.innerHTML='<button type="submit" class="btn-pri">Save</button>',F=b(),J(q.$$.fragment),u(d,"href",Ft("Data-collection-on-one-click-firmware-upgrade")),u(d,"target","_blank"),u(d,"class","text-blue-600 hover:text-blue-800"),u(C,"type","radio"),u(C,"name","sf"),C.value=1,C.checked=T=t[0].fwconsent===1,u(C,"class","rounded m-2"),C.required=!0,u(S,"type","radio"),u(S,"name","sf"),S.value=2,S.checked=A=t[0].fwconsent===2,u(S,"class","rounded m-2"),S.required=!0,u(c,"class","my-3"),u(O,"class","my-3"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-3 lg:grid-cols-2")},m(G,R){w(G,e,R),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),s(n,c),s(c,f),s(c,_),s(c,p),s(c,d),s(d,v),s(c,h),s(c,g),s(c,$),s($,C),s($,M),s(c,I),s(I,S),s(I,E),s(c,L),s(n,x),s(n,O),w(G,F,R),K(q,G,R),B=!0,U||(H=V(n,"submit",wo(t[2])),U=!0)},p(G,[R]){(!B||R&1&&T!==(T=G[0].fwconsent===1))&&(C.checked=T),(!B||R&1&&A!==(A=G[0].fwconsent===2))&&(S.checked=A);const W={};R&2&&(W.active=G[1]),q.$set(W)},i(G){B||(P(q.$$.fragment,G),B=!0)},o(G){D(q.$$.fragment,G),B=!1},d(G){G&&k(e),G&&k(F),Q(q,G),U=!1,H()}}}function N0(t,e,l){let{sysinfo:n={}}=e,i=!1;async function o(r){l(1,i=!0);const a=new FormData(r.target),c=new URLSearchParams;for(let p of a){const[d,v]=p;c.append(d,v)}let _=await(await fetch("/save",{method:"POST",body:c})).json();l(1,i=!1),Rt.update(p=>(p.fwconsent=a.sf===!0?1:a.sf===!1?2:0,p.booting=_.reboot,p)),ti("/")}return t.$$set=r=>{"sysinfo"in r&&l(0,n=r.sysinfo)},[n,i,o]}class A0 extends ye{constructor(e){super(),we(this,e,N0,M0,ke,{sysinfo:0})}}function D0(t){let e,l;return e=new Ap({props:{data:t[1],sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&2&&(o.data=n[1]),i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function I0(t){let e,l;return e=new i0({props:{sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function E0(t){let e,l;return e=new v0({props:{sysinfo:t[0],data:t[1]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),i&2&&(o.data=n[1]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function F0(t){let e,l;return e=new gs({props:{title:"CA",action:"/mqtt-ca"}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p:ie,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function R0(t){let e,l;return e=new gs({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p:ie,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function L0(t){let e,l;return e=new gs({props:{title:"private key",action:"/mqtt-key"}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p:ie,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function O0(t){let e,l;return e=new A0({props:{sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function U0(t){let e,l;return e=new T0({props:{sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function q0(t){let e,l;return e=new y0({props:{sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function j0(t){let e,l,n,i,o,r,a,c,f,_,p,d,v,h,g,$,C,T,M,I;return e=new qm({props:{data:t[1]}}),n=new wl({props:{path:"/",$$slots:{default:[D0]},$$scope:{ctx:t}}}),o=new wl({props:{path:"/configuration",$$slots:{default:[I0]},$$scope:{ctx:t}}}),a=new wl({props:{path:"/status",$$slots:{default:[E0]},$$scope:{ctx:t}}}),f=new wl({props:{path:"/mqtt-ca",$$slots:{default:[F0]},$$scope:{ctx:t}}}),p=new wl({props:{path:"/mqtt-cert",$$slots:{default:[R0]},$$scope:{ctx:t}}}),v=new wl({props:{path:"/mqtt-key",$$slots:{default:[L0]},$$scope:{ctx:t}}}),g=new wl({props:{path:"/consent",$$slots:{default:[O0]},$$scope:{ctx:t}}}),C=new wl({props:{path:"/setup",$$slots:{default:[U0]},$$scope:{ctx:t}}}),M=new wl({props:{path:"/vendor",$$slots:{default:[q0]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),l=b(),J(n.$$.fragment),i=b(),J(o.$$.fragment),r=b(),J(a.$$.fragment),c=b(),J(f.$$.fragment),_=b(),J(p.$$.fragment),d=b(),J(v.$$.fragment),h=b(),J(g.$$.fragment),$=b(),J(C.$$.fragment),T=b(),J(M.$$.fragment)},m(S,A){K(e,S,A),w(S,l,A),K(n,S,A),w(S,i,A),K(o,S,A),w(S,r,A),K(a,S,A),w(S,c,A),K(f,S,A),w(S,_,A),K(p,S,A),w(S,d,A),K(v,S,A),w(S,h,A),K(g,S,A),w(S,$,A),K(C,S,A),w(S,T,A),K(M,S,A),I=!0},p(S,A){const E={};A&2&&(E.data=S[1]),e.$set(E);const L={};A&7&&(L.$$scope={dirty:A,ctx:S}),n.$set(L);const x={};A&5&&(x.$$scope={dirty:A,ctx:S}),o.$set(x);const O={};A&7&&(O.$$scope={dirty:A,ctx:S}),a.$set(O);const F={};A&4&&(F.$$scope={dirty:A,ctx:S}),f.$set(F);const q={};A&4&&(q.$$scope={dirty:A,ctx:S}),p.$set(q);const B={};A&4&&(B.$$scope={dirty:A,ctx:S}),v.$set(B);const U={};A&5&&(U.$$scope={dirty:A,ctx:S}),g.$set(U);const H={};A&5&&(H.$$scope={dirty:A,ctx:S}),C.$set(H);const G={};A&5&&(G.$$scope={dirty:A,ctx:S}),M.$set(G)},i(S){I||(P(e.$$.fragment,S),P(n.$$.fragment,S),P(o.$$.fragment,S),P(a.$$.fragment,S),P(f.$$.fragment,S),P(p.$$.fragment,S),P(v.$$.fragment,S),P(g.$$.fragment,S),P(C.$$.fragment,S),P(M.$$.fragment,S),I=!0)},o(S){D(e.$$.fragment,S),D(n.$$.fragment,S),D(o.$$.fragment,S),D(a.$$.fragment,S),D(f.$$.fragment,S),D(p.$$.fragment,S),D(v.$$.fragment,S),D(g.$$.fragment,S),D(C.$$.fragment,S),D(M.$$.fragment,S),I=!1},d(S){Q(e,S),S&&k(l),Q(n,S),S&&k(i),Q(o,S),S&&k(r),Q(a,S),S&&k(c),Q(f,S),S&&k(_),Q(p,S),S&&k(d),Q(v,S),S&&k(h),Q(g,S),S&&k($),Q(C,S),S&&k(T),Q(M,S)}}}function H0(t){let e,l,n,i;const o=[B0,G0],r=[];function a(c,f){return c[0].trying?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ee()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let _=e;e=a(c),e===_?r[e].p(c,f):(Ce(),D(r[_],1,1,()=>{r[_]=null}),Te(),l=r[e],l?l.p(c,f):(l=r[e]=o[e](c),l.c()),P(l,1),l.m(n.parentNode,n))},i(c){i||(P(l),i=!0)},o(c){D(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function W0(t){let e,l;return e=new Nt({props:{active:"true",message:"Device is upgrading, please wait"}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p:ie,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function G0(t){let e,l;return e=new Nt({props:{active:"true",message:"Device is booting, please wait"}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p:ie,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function B0(t){let e,l;return e=new Nt({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[0].trying}}),{c(){J(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.message="Device is booting, please wait. Trying to reach it on "+n[0].trying),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Y0(t){let e,l,n,i,o,r;l=new kc({props:{$$slots:{default:[j0]},$$scope:{ctx:t}}});const a=[W0,H0],c=[];function f(_,p){return _[0].upgrading?0:_[0].booting?1:-1}return~(i=f(t))&&(o=c[i]=a[i](t)),{c(){e=m("div"),J(l.$$.fragment),n=b(),o&&o.c(),u(e,"class","container mx-auto m-3")},m(_,p){w(_,e,p),K(l,e,null),s(e,n),~i&&c[i].m(e,null),r=!0},p(_,[p]){const d={};p&7&&(d.$$scope={dirty:p,ctx:_}),l.$set(d);let v=i;i=f(_),i===v?~i&&c[i].p(_,p):(o&&(Ce(),D(c[v],1,1,()=>{c[v]=null}),Te()),~i?(o=c[i],o?o.p(_,p):(o=c[i]=a[i](_),o.c()),P(o,1),o.m(e,null)):o=null)},i(_){r||(P(l.$$.fragment,_),P(o),r=!0)},o(_){D(l.$$.fragment,_),D(o),r=!1},d(_){_&&k(e),Q(l),~i&&c[i].d()}}}function z0(t,e,l){let n={};Rt.subscribe(o=>{l(0,n=o),n.vndcfg===!1?ti("/vendor"):n.usrcfg===!1?ti("/setup"):n.fwconsent===0&&ti("/consent")}),_s();let i={};return sm.subscribe(o=>{l(1,i=o)}),[n,i]}class V0 extends ye{constructor(e){super(),we(this,e,z0,Y0,ke,{})}}new V0({target:document.getElementById("app")});
